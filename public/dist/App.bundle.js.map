{"version":3,"sources":["webpack:///webpack/bootstrap e1a45d96787cee200db2","webpack:///./~/axios/lib/utils.js","webpack:///./~/xtend/immutable.js","webpack:///./~/axios/lib/cancel/Cancel.js","webpack:///./~/axios/lib/cancel/isCancel.js","webpack:///./~/axios/lib/core/createError.js","webpack:///./~/axios/lib/helpers/bind.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./public/javascripts/modules/autocomplete.js","webpack:///./public/javascripts/modules/bling.js","webpack:///./public/javascripts/modules/typeAhead.js","webpack:///./public/sass/style.scss?9bfe","webpack:///./~/@mapbox/fusspot/lib/index.js","webpack:///./~/@mapbox/mapbox-sdk/lib/constants.js","webpack:///./~/@mapbox/mapbox-gl-geocoder/lib/events.js","webpack:///./~/@mapbox/mapbox-gl-geocoder/lib/exceptions.js","webpack:///./~/@mapbox/mapbox-gl-geocoder/lib/index.js","webpack:///./~/@mapbox/mapbox-gl-geocoder/lib/localization.js","webpack:///./~/@mapbox/mapbox-sdk/index.js","webpack:///./~/@mapbox/mapbox-sdk/lib/browser/browser-layer.js","webpack:///./~/@mapbox/mapbox-sdk/lib/classes/mapi-error.js","webpack:///./~/@mapbox/mapbox-sdk/lib/classes/mapi-request.js","webpack:///./~/@mapbox/mapbox-sdk/lib/classes/mapi-response.js","webpack:///./~/@mapbox/mapbox-sdk/lib/helpers/parse-headers.js","webpack:///./~/axios/lib/defaults.js","webpack:///./~/@mapbox/mapbox-sdk/lib/helpers/parse-link-header.js","webpack:///./~/@mapbox/mapbox-sdk/lib/helpers/url-utils.js","webpack:///./~/@mapbox/mapbox-sdk/services/geocoding.js","webpack:///./~/@mapbox/mapbox-sdk/services/service-helpers/create-service-factory.js","webpack:///./~/@mapbox/mapbox-sdk/services/service-helpers/object-map.js","webpack:///./~/@mapbox/mapbox-sdk/services/service-helpers/pick.js","webpack:///./~/@mapbox/mapbox-sdk/services/service-helpers/stringify-booleans.js","webpack:///./~/@mapbox/mapbox-sdk/services/service-helpers/validator.js","webpack:///./~/axios/index.js","webpack:///./public/javascripts/modules/loadPlaces.js","webpack:///./~/axios/lib/axios.js","webpack:///./~/node-libs-browser/~/process/browser.js","webpack:///./~/axios/lib/cancel/CancelToken.js","webpack:///./~/axios/lib/core/Axios.js","webpack:///./~/axios/lib/core/InterceptorManager.js","webpack:///./~/axios/lib/core/dispatchRequest.js","webpack:///./~/axios/lib/core/enhanceError.js","webpack:///./~/axios/lib/core/settle.js","webpack:///./~/axios/lib/core/transformData.js","webpack:///./~/axios/lib/helpers/btoa.js","webpack:///./~/axios/lib/helpers/buildURL.js","webpack:///./~/axios/lib/helpers/combineURLs.js","webpack:///(webpack)/buildin/global.js","webpack:///./~/axios/lib/helpers/cookies.js","webpack:///./~/axios/lib/helpers/isAbsoluteURL.js","webpack:///./~/axios/lib/helpers/isURLSameOrigin.js","webpack:///./~/axios/lib/helpers/normalizeHeaderName.js","webpack:///./~/axios/lib/helpers/parseHeaders.js","webpack:///./~/axios/lib/helpers/spread.js","webpack:///./~/base-64/base64.js","webpack:///./~/dompurify/src/purify.js","webpack:///./~/eventemitter3/index.js","webpack:///./~/events/events.js","webpack:///./~/@mapbox/mapbox-sdk/lib/browser/browser-client.js","webpack:///./~/fuzzy/lib/fuzzy.js","webpack:///./~/is-plain-obj/index.js","webpack:///./~/lodash.debounce/index.js","webpack:///./~/nanoid/index.browser.js","webpack:///./~/subtag/subtag.js","webpack:///./~/suggestions/index.js","webpack:///./~/suggestions/src/list.js","webpack:///./~/suggestions/src/suggestions.js","webpack:///(webpack)/buildin/module.js","webpack:///./public/javascripts/delicious-app.js","webpack:///./~/@mapbox/mapbox-sdk/lib/classes/mapi-client.js","webpack:///./~/@mapbox/parse-mapbox-token/index.js","webpack:///./~/axios/lib/adapters/xhr.js"],"names":["bind","require","toString","Object","prototype","isArray","val","call","isArrayBuffer","isFormData","FormData","isArrayBufferView","result","ArrayBuffer","isView","buffer","isString","isNumber","isUndefined","isObject","isDate","isFile","isBlob","isFunction","isStream","pipe","isURLSearchParams","URLSearchParams","trim","str","replace","isStandardBrowserEnv","window","document","createElement","forEach","obj","fn","i","l","length","key","hasOwnProperty","merge","assignValue","arguments","extend","a","b","thisArg","module","exports","target","source","Cancel","message","__CANCEL__","isCancel","value","enhanceError","createError","config","code","response","error","Error","wrap","args","Array","apply","MapboxGeocoder","autocomplete","input","latInput","lngInput","MAPBOX_KEY","mapboxgl","accessToken","geocoder","addTo","id","on","e","place_name","center","geometry","coordinates","querySelector","style","$","$$","querySelectorAll","Node","name","addEventListener","NodeList","__proto__","elem","searchResultsHTML","stores","map","store","slug","join","typeAhead","search","searchInput","searchResults","display","axios","get","then","res","data","innerHTML","dompurify","sanitize","catch","console","err","includes","keyCode","activeClass","current","items","next","nextElementSibling","previousElementSibling","href","location","classList","remove","add","isPlainObject","xtend","DEFAULT_ERROR_PATH","NEWLINE_INDENT","v","assert","rootValidator","options","validate","errorMessage","processMessage","apiName","shape","validatorObj","validators","objectEntries","shapeValidator","validationResult","plainObject","validator","errorMessages","push","concat","renderedMessage","split","objectId","path","ofPhrase","strictShape","strictShapeValidator","shapeResult","invalidKeys","keys","reduce","memo","valueKey","undefined","arrayOf","createArrayValidator","tuple","slice","validatingTuple","getValidator","index","arrayValidator","plainArray","required","requiredValidator","formatErrorMessage","isArrayCulprit","__required","oneOfType","oneOfTypeValidator","messages","filter","Boolean","every","orList","m","max","arr","equal","compareWith","equalValidator","JSON","stringify","oneOf","range","min","rangeValidator","number","any","boolean","string","func","len","prettifyResult","list","addArticle","nounPhrase","test","prettyResult","arrayCulprit","output","prepend","API_ORIGIN","EVENT_PROGRESS_DOWNLOAD","EVENT_PROGRESS_UPLOAD","EVENT_ERROR","EVENT_RESPONSE","ERROR_HTTP","ERROR_REQUEST_ABORTED","nanoid","MapboxEventManager","origin","endpoint","access_token","version","sessionID","generateSessionID","userAgent","getUserAgent","send","countries","types","bbox","language","limit","locale","navigator","enableEventLogging","shouldEnableLogging","eventQueue","flushInterval","maxQueueSize","timer","setTimeout","flush","lastSentInput","lastSentIndex","select","selected","resultIndex","getSelectedIndex","payload","getEventPayload","resultPlaceName","resultId","queryString","start","keyevent","keyEvent","metaKey","indexOf","lastAction","callback","getRequestOptions","request","handleError","method","host","headers","body","event","proximity","longitude","latitude","zoom","_map","getZoom","created","Date","sessionIdentifier","country","mapZoom","keyboardLocale","inputString","_inputEl","opts","xhttp","XMLHttpRequest","onreadystatechange","readyState","status","statusText","open","header","headerValue","setRequestHeader","_typeahead","results","selectedID","resultIDs","feature","selectedIdx","localGeocoder","clearTimeout","evt","forceFlush","Typeahead","debounce","EventEmitter","exceptions","MapboxClient","mbxGeocoder","localization","subtag","_eventEmitter","fresh","lastSelected","flyTo","trackProximity","minLength","reverseGeocode","marker","collapsed","clearAndBlurOnEsc","clearOnBlur","getItemValue","item","render","placeName","splice","container","addToExistingContainer","contains","el","onAdd","appendChild","_controlContainer","addControl","HTMLElement","parent","setLanguage","localGeocoderOnly","geocoderService","eventManager","_onChange","_onKeyDown","_onPaste","_onBlur","_showButton","_hideButton","_onQueryResult","clear","_updateProximity","_collapse","_unCollapse","_clear","_clearOnBlur","className","searchIcon","createIcon","type","setPlaceholder","actions","_clearEl","setAttribute","buttonIcon","_loadingEl","setRenderFunction","mapMarker","_handleMarker","_mapboxgl","icon","createElementNS","SVGNodeContainer","valueOf","SVGNode","firstChild","SVGPath","onRemove","parentNode","removeChild","off","_removeMarker","clipboardData","getData","_geocode","ESC_KEY_CODE","TAB_KEY_CODE","blur","shadowRoot","activeElement","flyOptions","properties","short_code","fitBounds","defaultFlyOptions","focus","scrollLeft","setSelectionRange","emit","query","self","Promise","resolve","coords","c","parseFloat","reverse","forwardGeocode","localGeocoderRes","features","statusCode","update","_renderNoResults","_renderError","ev","preventDefault","ctx","relatedTarget","getCenter","setProximity","lng","lat","_renderMessage","msg","renderError","_getPlaceholderText","placeholder","firstLanguage","localizedValue","setInput","getProximity","getRenderFunction","browserLocale","userLanguage","browserLanguage","getLanguage","setZoom","getFlyTo","setFlyTo","getPlaceholder","getBbox","setBbox","getCountries","setCountries","getTypes","setTypes","getMinLength","setMinLength","getLimit","setLimit","getFilter","setFilter","setOrigin","getOrigin","defaultMarkerOptions","color","markerOptions","Marker","setLngLat","removeListener","client","MapiResponse","MapiError","constants","parseHeaders","requestsUnderway","browserAbort","xhr","abort","createResponse","getAllResponseHeaders","normalizeBrowserProgressEvent","total","transferred","loaded","percent","sendRequestXhr","reject","onprogress","emitter","file","upload","onerror","onabort","mapiError","onload","createRequestXhr","url","browserSend","errorType","parse","parseToken","urlUtils","requestId","MapiRequest","defaultHeaders","headersWithDefaults","toLowerCase","_options","sent","aborted","params","encoding","sendFileAs","prependOrigin","appendQueryObject","routeParams","actualAccessToken","appendQueryParam","accessTokenOwnerId","user","ownerId","interpolateRouteParams","sendRequest","_nextPageRequest","abortRequest","eachPage","handleResponse","getNextPage","nextPageRequest","nextPage","getPage","clone","_extend","extendedOptions","parseLinkHeader","responseData","rawBody","parseError","links","link","hasNextPage","parseSingleHeader","raw","boundary","substring","rawHeader","parsed","utils","normalizeHeaderName","PROTECTION_PREFIX","DEFAULT_CONTENT_TYPE","setContentTypeIfUnset","getDefaultAdapter","adapter","process","defaults","transformRequest","transformResponse","timeout","xsrfCookieName","xsrfHeaderName","maxContentLength","validateStatus","common","forEachMehtodNoData","forEachMethodWithData","parseParam","param","parts","match","parseLink","linkUrl","linkParams","rel","parsedLinkParams","linkHeader","splitRel","encodeArray","arrayValue","encodeURIComponent","encodeValue","String","punctuation","queryObject","delimiter","route","_","paramId","preppedValue","pick","stringifyBooleans","createServiceFactory","Geocoding","featureTypes","assertShape","mode","routing","createRequest","reverseMode","MapiClient","createClient","ServicePrototype","clientOrConfig","isPrototypeOf","service","create","objectMap","cb","stringifyBoolean","global","Blob","date","getTime","isNaN","loadPlaces","mapOptions","Map","places","alert","bounds","LngLatBounds","html","place","photo","address","setPopup","Popup","setHTML","padding","Axios","createInstance","defaultConfig","context","instance","instanceConfig","CancelToken","all","promises","spread","default","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","runClearTimeout","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","run","nextTick","Item","array","title","browser","env","argv","versions","noop","addListener","once","removeAllListeners","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","executor","TypeError","resolvePromise","promise","promiseExecutor","token","cancel","reason","throwIfRequested","InterceptorManager","dispatchRequest","isAbsoluteURL","combineURLs","interceptors","baseURL","chain","unshiftRequestInterceptors","interceptor","unshift","fulfilled","rejected","pushResponseInterceptors","shift","forEachMethodNoData","handlers","use","eject","forEachHandler","h","transformData","throwIfCancellationRequested","cancelToken","cleanHeaderConfig","onAdapterResolution","onAdapterRejection","settle","fns","transform","chars","E","btoa","block","charCode","idx","charAt","charCodeAt","encode","buildURL","paramsSerializer","serializedParams","serialize","parseValue","toISOString","relativeURL","g","Function","eval","standardBrowserEnv","write","expires","domain","secure","cookie","toGMTString","read","RegExp","decodeURIComponent","now","nonStandardBrowserEnv","msie","urlParsingNode","originURL","resolveURL","protocol","hash","hostname","port","pathname","isURLSameOrigin","requestURL","normalizedName","processHeader","toUpperCase","parser","line","substr","root","freeExports","freeModule","freeGlobal","InvalidCharacterError","TABLE","REGEX_SPACE_CHARACTERS","decode","bitCounter","bitStorage","position","fromCharCode","d","base64","define","nodeType","factory","DOMPurify","removed","isSupported","originalDocument","DocumentFragment","HTMLTemplateElement","NodeFilter","NamedNodeMap","MozNamedAttrMap","Text","Comment","DOMParser","template","content","ownerDocument","implementation","createNodeIterator","getElementsByTagName","createDocumentFragment","importNode","hooks","createHTMLDocument","documentMode","_addToSet","set","_cloneObj","object","newObject","property","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","FORBID_TAGS","FORBID_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","SAFE_FOR_JQUERY","SAFE_FOR_TEMPLATES","MUSTACHE_EXPR","ERB_EXPR","WHOLE_DOCUMENT","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_DOM_IMPORT","SANITIZE_DOM","KEEP_CONTENT","FORBID_CONTENTS","DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","CONFIG","formElement","_parseConfig","cfg","ADD_TAGS","ADD_ATTR","ADD_URI_SAFE_ATTR","freeze","_forceRemove","node","element","outerHTML","_removeAttribute","attribute","getAttributeNode","from","removeAttribute","_initDocument","dirty","doc","parseFromString","documentElement","firstElementChild","_createIterator","SHOW_ELEMENT","SHOW_COMMENT","SHOW_TEXT","FILTER_ACCEPT","_isClobbered","elm","nodeName","textContent","attributes","_isNode","_sanitizeElements","currentNode","tagName","_executeHook","allowedTags","insertAdjacentHTML","cloneNode","DATA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","_sanitizeAttributes","attr","lcName","idAttr","hookEvent","attrName","attrValue","keepAttr","allowedAttributes","pop","_sanitizeShadowDOM","fragment","shadowNode","shadowIterator","nextNode","entryPoint","hook","importedNode","oldNode","nodeIterator","returnNode","toStaticHTML","addHook","hookFunction","removeHook","removeHooks","removeAllHooks","has","prefix","Events","EE","listener","_events","_eventsCount","clearEvent","eventNames","names","events","getOwnPropertySymbols","ee","listenerCount","a1","a2","a3","a4","a5","j","prefixed","R","Reflect","ReflectApply","receiver","ReflectOwnKeys","ownKeys","getOwnPropertyNames","ProcessEmitWarning","warning","warn","NumberIsNaN","Number","init","_maxListeners","defaultMaxListeners","checkListener","defineProperty","enumerable","arg","RangeError","getPrototypeOf","setMaxListeners","n","_getMaxListeners","that","getMaxListeners","doError","er","handler","arrayClone","_addListener","existing","newListener","warned","w","count","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","originalListener","spliceOne","_listeners","unwrap","evlistener","unwrapListeners","rawListeners","copy","ret","eventListener","errorListener","BrowserClient","constructor","createBrowserClient","fuzzy","simpleFilter","pattern","patternIdx","totalScore","currScore","pre","post","compareString","caseSensitive","ch","Infinity","rendered","score","prev","extract","original","sort","compare","x","FUNC_ERROR_TEXT","NAN","symbolTag","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","freeSelf","objectProto","objectToString","nativeMax","Math","nativeMin","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","toNumber","invokeFunc","time","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","shouldInvoke","trailingEdge","debounced","isInvoking","isObjectLike","isSymbol","other","isBinary","NODE_ENV","product","crypto","msCrypto","size","bytes","getRandomValues","Uint8Array","make","empty","tag","api","extlang","script","region","expose","part","Suggestions","List","component","active","wrapper","selectingListItem","insertBefore","nextSibling","show","hide","isEmpty","isVisible","draw","drawItem","li","handleMouseUp","move","previous","drawError","hideOnBlur","handleKeyUp","handleKeyDown","handleFocus","handleBlur","handlePaste","handleInputChange","normalize","getCandidates","revisedData","candidate","createEvent","initEvent","dispatchEvent","fireEvent","renderedString","sourceFormatting","boldString","indexString","indexOfQuery","lastIndexOf","endIndexOfQuery","webpackPolyfill","deprecate","paths","children","requestOptions","tokenCache","usage","rawPayload","parsedPayload","parsePaylod","u","authorization","exp","iat","scopes","lastLogin","ll","impersonator","iu","xhrAdapter","dispatchXhrRequest","requestData","requestHeaders","loadEvent","xDomain","XDomainRequest","handleProgress","ontimeout","handleTimeout","auth","username","password","Authorization","handleLoad","responseURL","responseHeaders","responseType","responseText","cookies","xsrfValue","withCredentials","onDownloadProgress","onUploadProgress","onCanceled"],"mappings":"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","file":"App.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 69);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e1a45d96787cee200db2","'use strict';\n\nvar bind = require('./helpers/bind');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  typeof document.createElement -> undefined\n */\nfunction isStandardBrowserEnv() {\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined' &&\n    typeof document.createElement === 'function'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object' && !isArray(obj)) {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/utils.js","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/xtend/immutable.js","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/cancel/Cancel.js","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/cancel/isCancel.js","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n @ @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, response);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/core/createError.js","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/helpers/bind.js","/* globals __webpack_amd_options__ */\r\nmodule.exports = __webpack_amd_options__;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/amd-options.js\n// module id = 14\n// module chunks = 0","const MapboxGeocoder = require('@mapbox/mapbox-gl-geocoder')\nimport loadPlaces from './loadPlaces'\n\nfunction autocomplete(input, latInput, lngInput) {\n\tif (!input) return\n\n\tconst MAPBOX_KEY =\n\t\t'pk.eyJ1IjoiamVuYXJvOTQiLCJhIjoiY2pzbnBpajh3MGV5MTQ0cnJ3dmJlczFqbiJ9.Aktxa1EqTzpy7yEaBDM1xQ'\n\tmapboxgl.accessToken = MAPBOX_KEY\n\n\tlet geocoder = new MapboxGeocoder({\n\t\taccessToken: mapboxgl.accessToken,\n\t\tmapboxgl: mapboxgl,\n\t})\n\n\tgeocoder.addTo('#search-address')\n\n\tif(input.id === \"mapSearch\"){\n\t\tgeocoder.on('result', e => {\n\t\t\tinput.value = e.result.place_name\n\t\t\tloadPlaces(e.result.center[1], e.result.center[0])\n\t\t})\n\t}else{\n\n\t\tgeocoder.on('result', e => {\n\t\t\tinput.value = e.result.place_name\n\t\t\tlngInput.value = e.result.geometry.coordinates[0]\n\t\t\tlatInput.value = e.result.geometry.coordinates[1]\n\t\t})\n\t}\n\n\tdocument.querySelector('#search-address>div').style =\n\t\t'width: 100%; max-width: unset; border: 1px solid #e6e6e6; box-shadow: unset; border-radius: 0; z-index: 1000; font-family: sans-serif; font-size: 100%; line-height: 1.15; margin: 0 0 10px 0;'\n\n\n}\n\nexport default autocomplete\n\n\n// WEBPACK FOOTER //\n// ./public/javascripts/modules/autocomplete.js","// based on https://gist.github.com/paulirish/12fb951a8b893a454b32\n\nconst $ = document.querySelector.bind(document);\nconst $$ = document.querySelectorAll.bind(document);\n\nNode.prototype.on = window.on = function (name, fn) {\n  this.addEventListener(name, fn);\n};\n\nNodeList.prototype.__proto__ = Array.prototype; // eslint-disable-line\n\nNodeList.prototype.on = NodeList.prototype.addEventListener = function (name, fn) {\n  this.forEach((elem) => {\n    elem.on(name, fn);\n  });\n};\n\nexport { $, $$ };\n\n\n\n// WEBPACK FOOTER //\n// ./public/javascripts/modules/bling.js","import axios from 'axios';\nimport dompurify from 'dompurify';\n\nfunction searchResultsHTML(stores){\n\treturn stores.map(store => {\n\t\treturn `\n\t\t\t<a href=\"/store/${store.slug}\" class=\"search__result\">\n\t\t\t\t<strong>${store.name}</strong>\n\t\t\t</a>\n\t\t`\n\t}).join('');\n}\n\n\nfunction typeAhead(search){\n\tif(!search) return;\n\n\tconst searchInput = search.querySelector('input[name=\"search\"]');\n\tconst searchResults = search.querySelector('.search__results');\n\n\tsearchInput.on('input', function(){\n\t\tif(!this.value){\n\t\t\tsearchResults.style.display ='none';\n\t\t\treturn;\n\t\t}\n\t\t// searchResults.innerHTML=`No results for ${this.value}`;\n\t\tsearchResults.style.display = \"block\";\n\t\taxios\n\t\t.get(`/api/search?q=${this.value}`)\n\t\t.then(res => {\n\t\t\tif(res.data.length){\n\t\t\t\tsearchResults.innerHTML= dompurify.sanitize(searchResultsHTML(res.data));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsearchResults.innerHTML = dompurify.sanitize(`<div class=\"search__result\">No results for ${this.value} found!</div>`);\n\t\t}).catch(err => {\n\t\t\tconsole.error(err);\n\t\t})\n\t})\n\n\t//handle keyboard inputs\n\tsearchInput.on('keyup', (e) => {\n\t\t//if they aren't pressing up down or enter who cares?\n\t\tif(![38,40,13].includes(e.keyCode)){\n\t\t\treturn;\n\t\t}\n\t\tconst activeClass = 'search__result--active';\n\t\tconst current = search.querySelector(`.${activeClass}`);\n\t\tconst items = search.querySelectorAll('.search__result');\n\t\tlet next;\n\t\tif(e.keyCode === 40 && current){\n\t\t\t//if pushing down and current\n\t\t\tnext = current.nextElementSibling || items[0];\n\t\t}\n\t\telse if(e.keyCode === 40){\n\t\t\t//no current, select the first\n\t\t\tnext = items[0];\n\t\t}else if(e.keyCode === 38 && current){\n\t\t\t//if pushing up and there is a current\n\t\t\tnext = current.previousElementSibling || items[items.length - 1];\n\t\t}else if(e.keyCode === 38){\n\t\t\tnext = items[items.length - 1];\n\t\t}else if(e.keyCode === 13 && current.href){\n\t\t\t//hitting enter and clicking on element with link\n\t\t\twindow.location = current.href;\n\t\t\treturn;\n\t\t}\n\t\tif(current){\n\t\t\tcurrent.classList.remove(activeClass);\n\t\t}\n\t\tnext.classList.add(activeClass);\n\t\t// console.log(next);\n\n\t})\n\n}\n\nexport default typeAhead;\n\n\n\n// WEBPACK FOOTER //\n// ./public/javascripts/modules/typeAhead.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/sass/style.scss\n// module id = 18\n// module chunks = 0","'use strict';\n/**\n * Validators are functions which assert certain type.\n * They can return a string which can then be used\n * to display a helpful error message.\n * They can also return a function for a custom error message.\n */\nvar isPlainObject = require('is-plain-obj');\nvar xtend = require('xtend');\n\nvar DEFAULT_ERROR_PATH = 'value';\nvar NEWLINE_INDENT = '\\n  ';\n\nvar v = {};\n\n/**\n * Runners\n *\n * Take root validators and run assertion\n */\nv.assert = function(rootValidator, options) {\n  options = options || {};\n  return function(value) {\n    var message = validate(rootValidator, value);\n    // all good\n    if (!message) {\n      return;\n    }\n\n    var errorMessage = processMessage(message, options);\n\n    if (options.apiName) {\n      errorMessage = options.apiName + ': ' + errorMessage;\n    }\n\n    throw new Error(errorMessage);\n  };\n};\n\n/**\n * Higher Order Validators\n *\n * validators which take other validators as input\n * and output a new validator\n */\nv.shape = function shape(validatorObj) {\n  var validators = objectEntries(validatorObj);\n  return function shapeValidator(value) {\n    var validationResult = validate(v.plainObject, value);\n\n    if (validationResult) {\n      return validationResult;\n    }\n\n    var key, validator;\n    var errorMessages = [];\n\n    for (var i = 0; i < validators.length; i++) {\n      key = validators[i].key;\n      validator = validators[i].value;\n      validationResult = validate(validator, value[key]);\n\n      if (validationResult) {\n        // return [key].concat(validationResult);\n        errorMessages.push([key].concat(validationResult));\n      }\n    }\n\n    if (errorMessages.length < 2) {\n      return errorMessages[0];\n    }\n\n    // enumerate all the error messages\n    return function(options) {\n      errorMessages = errorMessages.map(function(message) {\n        var key = message[0];\n        var renderedMessage = processMessage(message, options)\n          .split('\\n')\n          .join(NEWLINE_INDENT); // indents any inner nesting\n        return '- ' + key + ': ' + renderedMessage;\n      });\n\n      var objectId = options.path.join('.');\n      var ofPhrase = objectId === DEFAULT_ERROR_PATH ? '' : ' of ' + objectId;\n\n      return (\n        'The following properties' +\n        ofPhrase +\n        ' have invalid values:' +\n        NEWLINE_INDENT +\n        errorMessages.join(NEWLINE_INDENT)\n      );\n    };\n  };\n};\n\nv.strictShape = function strictShape(validatorObj) {\n  var shapeValidator = v.shape(validatorObj);\n  return function strictShapeValidator(value) {\n    var shapeResult = shapeValidator(value);\n    if (shapeResult) {\n      return shapeResult;\n    }\n\n    var invalidKeys = Object.keys(value).reduce(function(memo, valueKey) {\n      if (validatorObj[valueKey] === undefined) {\n        memo.push(valueKey);\n      }\n      return memo;\n    }, []);\n\n    if (invalidKeys.length !== 0) {\n      return function() {\n        return 'The following keys are invalid: ' + invalidKeys.join(', ');\n      };\n    }\n  };\n};\n\nv.arrayOf = function arrayOf(validator) {\n  return createArrayValidator(validator);\n};\n\nv.tuple = function tuple() {\n  var validators = Array.isArray(arguments[0])\n    ? arguments[0]\n    : Array.prototype.slice.call(arguments);\n  return createArrayValidator(validators);\n};\n\n// Currently array validation fails when the first invalid item is found.\nfunction createArrayValidator(validators) {\n  var validatingTuple = Array.isArray(validators);\n  var getValidator = function(index) {\n    if (validatingTuple) {\n      return validators[index];\n    }\n    return validators;\n  };\n\n  return function arrayValidator(value) {\n    var validationResult = validate(v.plainArray, value);\n    if (validationResult) {\n      return validationResult;\n    }\n\n    if (validatingTuple && value.length !== validators.length) {\n      return 'an array with ' + validators.length + ' items';\n    }\n\n    for (var i = 0; i < value.length; i++) {\n      validationResult = validate(getValidator(i), value[i]);\n      if (validationResult) {\n        return [i].concat(validationResult);\n      }\n    }\n  };\n}\n\nv.required = function required(validator) {\n  function requiredValidator(value) {\n    if (value == null) {\n      return function(options) {\n        return formatErrorMessage(\n          options,\n          isArrayCulprit(options.path)\n            ? 'cannot be undefined/null.'\n            : 'is required.'\n        );\n      };\n    }\n    return validator.apply(this, arguments);\n  }\n  requiredValidator.__required = true;\n\n  return requiredValidator;\n};\n\nv.oneOfType = function oneOfType() {\n  var validators = Array.isArray(arguments[0])\n    ? arguments[0]\n    : Array.prototype.slice.call(arguments);\n  return function oneOfTypeValidator(value) {\n    var messages = validators\n      .map(function(validator) {\n        return validate(validator, value);\n      })\n      .filter(Boolean);\n\n    // If we don't have as many messages as no. of validators,\n    // then at least one validator was ok with the value.\n    if (messages.length !== validators.length) {\n      return;\n    }\n\n    // check primitive type\n    if (\n      messages.every(function(message) {\n        return message.length === 1 && typeof message[0] === 'string';\n      })\n    ) {\n      return orList(\n        messages.map(function(m) {\n          return m[0];\n        })\n      );\n    }\n\n    // Complex oneOfTypes like\n    // `v.oneOftypes(v.shape({name: v.string})`, `v.shape({name: v.number}))`\n    // are complex \\_()_/. For the current scope only returning the longest message.\n    return messages.reduce(function(max, arr) {\n      return arr.length > max.length ? arr : max;\n    });\n  };\n};\n\n/**\n * Meta Validators\n * which take options as argument (not validators)\n * and return a new primitive validator\n */\nv.equal = function equal(compareWith) {\n  return function equalValidator(value) {\n    if (value !== compareWith) {\n      return JSON.stringify(compareWith);\n    }\n  };\n};\n\nv.oneOf = function oneOf() {\n  var options = Array.isArray(arguments[0])\n    ? arguments[0]\n    : Array.prototype.slice.call(arguments);\n  var validators = options.map(function(value) {\n    return v.equal(value);\n  });\n\n  return v.oneOfType.apply(this, validators);\n};\n\nv.range = function range(compareWith) {\n  var min = compareWith[0];\n  var max = compareWith[1];\n  return function rangeValidator(value) {\n    var validationResult = validate(v.number, value);\n\n    if (validationResult || value < min || value > max) {\n      return 'number between ' + min + ' & ' + max + ' (inclusive)';\n    }\n  };\n};\n\n/**\n * Primitive validators\n *\n * simple validators which return a string or undefined\n */\nv.any = function any() {\n  return;\n};\n\nv.boolean = function boolean(value) {\n  if (typeof value !== 'boolean') {\n    return 'boolean';\n  }\n};\n\nv.number = function number(value) {\n  if (typeof value !== 'number') {\n    return 'number';\n  }\n};\n\nv.plainArray = function plainArray(value) {\n  if (!Array.isArray(value)) {\n    return 'array';\n  }\n};\n\nv.plainObject = function plainObject(value) {\n  if (!isPlainObject(value)) {\n    return 'object';\n  }\n};\n\nv.string = function string(value) {\n  if (typeof value !== 'string') {\n    return 'string';\n  }\n};\n\nv.func = function func(value) {\n  if (typeof value !== 'function') {\n    return 'function';\n  }\n};\n\nfunction validate(validator, value) {\n  // assertions are optional by default unless wrapped in v.require\n  if (value == null && !validator.hasOwnProperty('__required')) {\n    return;\n  }\n\n  var result = validator(value);\n\n  if (result) {\n    return Array.isArray(result) ? result : [result];\n  }\n}\n\nfunction processMessage(message, options) {\n  // message array follows the convention\n  // [...path, result]\n  // path is an array of object keys / array indices\n  // result is output of the validator\n  var len = message.length;\n\n  var result = message[len - 1];\n  var path = message.slice(0, len - 1);\n\n  if (path.length === 0) {\n    path = [DEFAULT_ERROR_PATH];\n  }\n  options = xtend(options, { path: path });\n\n  return typeof result === 'function'\n    ? result(options) // allows customization of result\n    : formatErrorMessage(options, prettifyResult(result));\n}\n\nfunction orList(list) {\n  if (list.length < 2) {\n    return list[0];\n  }\n  if (list.length === 2) {\n    return list.join(' or ');\n  }\n  return list.slice(0, -1).join(', ') + ', or ' + list.slice(-1);\n}\n\nfunction prettifyResult(result) {\n  return 'must be ' + addArticle(result) + '.';\n}\n\nfunction addArticle(nounPhrase) {\n  if (/^an? /.test(nounPhrase)) {\n    return nounPhrase;\n  }\n  if (/^[aeiou]/i.test(nounPhrase)) {\n    return 'an ' + nounPhrase;\n  }\n  if (/^[a-z]/i.test(nounPhrase)) {\n    return 'a ' + nounPhrase;\n  }\n  return nounPhrase;\n}\n\nfunction formatErrorMessage(options, prettyResult) {\n  var arrayCulprit = isArrayCulprit(options.path);\n  var output = options.path.join('.') + ' ' + prettyResult;\n  var prepend = arrayCulprit ? 'Item at position ' : '';\n\n  return prepend + output;\n}\n\nfunction isArrayCulprit(path) {\n  return typeof path[path.length - 1] == 'number' || typeof path[0] == 'number';\n}\n\nfunction objectEntries(obj) {\n  return Object.keys(obj || {}).map(function(key) {\n    return { key: key, value: obj[key] };\n  });\n}\n\nv.validate = validate;\nv.processMessage = processMessage;\n\nmodule.exports = v;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/fusspot/lib/index.js","'use strict';\n\nmodule.exports = {\n  API_ORIGIN: 'https://api.mapbox.com',\n  EVENT_PROGRESS_DOWNLOAD: 'downloadProgress',\n  EVENT_PROGRESS_UPLOAD: 'uploadProgress',\n  EVENT_ERROR: 'error',\n  EVENT_RESPONSE: 'response',\n  ERROR_HTTP: 'HttpError',\n  ERROR_REQUEST_ABORTED: 'RequestAbortedError'\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/lib/constants.js","'use strict';\nvar nanoid = require('nanoid')\n\n/**\n * Construct a new mapbox event client to send interaction events to the mapbox event service\n * @param {Object} options options with which to create the service\n * @param {String} options.accessToken the mapbox access token to make requests\n * @param {Number} [options.flushInterval=1000] the number of ms after which to flush the event queue\n * @param {Number} [options.maxQueueSize=100] the number of events to queue before flushing\n * @private\n */\nfunction MapboxEventManager(options) {\n  this.origin = options.origin || 'https://api.mapbox.com';\n  this.endpoint = 'events/v2';\n  this.access_token = options.accessToken;\n  this.version = '0.2.0'\n  this.sessionID = this.generateSessionID();\n  this.userAgent = this.getUserAgent();\n\n  this.options = options;\n  this.send = this.send.bind(this);\n\n\n  // parse global options to be sent with each request\n  this.countries = (options.countries) ? options.countries.split(\",\") : null;\n  this.types = (options.types) ? options.types.split(\",\") : null;\n  this.bbox = (options.bbox) ? options.bbox : null;\n  this.language = (options.language) ? options.language.split(\",\") : null;\n  this.limit = (options.limit) ? +options.limit : null;\n  this.locale = navigator.language || null;\n  this.enableEventLogging = this.shouldEnableLogging(options);\n  this.eventQueue = new Array();\n  this.flushInterval = options.flushInterval || 1000;\n  this.maxQueueSize = options.maxQueueSize || 100;\n  this.timer = (this.flushInterval) ? setTimeout(this.flush.bind(this), this.flushInterval) : null;\n  // keep some state to deduplicate requests if necessary\n  this.lastSentInput = \"\";\n  this.lastSentIndex = 0;\n}\n\nMapboxEventManager.prototype = {\n  /**\n     * Send a search.select event to the mapbox events service\n     * This event marks the array index of the item selected by the user out of the array of possible options\n     * @private\n     * @param {Object} selected the geojson feature selected by the user\n     * @param {Object} geocoder a mapbox-gl-geocoder instance\n     * @returns {Promise}\n     */\n  select: function(selected, geocoder){\n    var resultIndex = this.getSelectedIndex(selected, geocoder);\n    var payload = this.getEventPayload('search.select', geocoder);\n    payload.resultIndex = resultIndex;\n    payload.resultPlaceName  = selected.place_name;\n    payload.resultId = selected.id;\n    if ((resultIndex === this.lastSentIndex && payload.queryString === this.lastSentInput) || resultIndex == -1) {\n      // don't log duplicate events if the user re-selected the same feature on the same search\n      return;\n    }\n    this.lastSentIndex = resultIndex;\n    this.lastSentInput = payload.queryString;\n    if (!payload.queryString) return; // will be rejected\n    return this.push(payload)\n  },\n\n  /**\n     * Send a search-start event to the mapbox events service\n     * This turnstile event marks when a user starts a new search\n     * @private\n     * @param {Object} geocoder a mapbox-gl-geocoder instance\n     * @returns {Promise}\n     */\n  start: function(geocoder){\n    var payload = this.getEventPayload('search.start', geocoder);\n    if (!payload.queryString) return; // will be rejected\n    return this.push(payload);\n  },\n\n  /**\n   * Send a search-keyevent event to the mapbox events service\n   * This event records each keypress in sequence\n   * @private\n   * @param {Object} keyEvent the keydown event to log\n   * @param {Object} geocoder a mapbox-gl-geocoder instance\n   * \n   */\n  keyevent: function(keyEvent, geocoder){\n\n    //pass invalid event\n    if (!keyEvent.key) return;\n    // don't send events for keys that don't change the input\n    // TAB, ESC, LEFT, RIGHT, ENTER, UP, DOWN\n    if (keyEvent.metaKey || [9, 27, 37, 39, 13, 38, 40].indexOf(keyEvent.keyCode) !== -1) return;\n    var payload = this.getEventPayload('search.keystroke', geocoder);\n    payload.lastAction = keyEvent.key;\n    if (!payload.queryString) return; // will be rejected\n    return this.push(payload);\n  },\n\n  /**\n   * Send an event to the events service\n   *\n   * The event is skipped if the instance is not enabled to send logging events\n   *\n   * @private\n   * @param {Object} payload the http POST body of the event\n   * @param {Function} [callback] a callback function to invoke when the send has completed\n   * @returns {Promise}\n   */\n  send: function (payload, callback) {\n    if (!this.enableEventLogging) {\n      if (callback) return callback();\n      return;\n    }\n    var options = this.getRequestOptions(payload);\n    this.request(options, function(err){\n      if (err) return this.handleError(err, callback);\n      if (callback) {\n        return callback();\n      }\n    }.bind(this))\n  },\n  /**\n   * Get http request options\n   * @private\n   * @param {*} payload\n   */\n  getRequestOptions: function(payload){\n    if (!Array.isArray(payload)) payload = [payload];\n    var options = {\n      // events must be sent with POST\n      method: \"POST\",\n      host: this.origin,\n      path: this.endpoint +  \"?access_token=\" + this.access_token,\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body:JSON.stringify(payload) //events are arrays\n    }\n    return options\n  },\n\n  /**\n   * Get the event payload to send to the events service\n   * Most payload properties are shared across all events\n   * @private\n   * @param {String} event the name of the event to send to the events service. Valid options are 'search.start', 'search.select', 'search.feedback'.\n   * @param {Object} geocoder a mapbox-gl-geocoder instance\n   * @returns {Object} an event payload\n   */\n  getEventPayload: function (event, geocoder) {\n    var proximity;\n    if (!geocoder.options.proximity) proximity = null;\n    else proximity = [geocoder.options.proximity.longitude, geocoder.options.proximity.latitude];\n\n    var zoom = (geocoder._map) ? geocoder._map.getZoom() : undefined;\n    var payload = {\n      event: event,\n      created: +new Date(),\n      sessionIdentifier: this.sessionID,\n      country: this.countries,\n      userAgent: this.userAgent,\n      language: this.language,\n      bbox: this.bbox,\n      types: this.types,\n      endpoint: 'mapbox.places',\n      // fuzzyMatch: search.fuzzy, //todo  --> add to plugin\n      proximity: proximity,\n      limit: geocoder.options.limit,\n      // routing: search.routing, //todo --> add to plugin\n      mapZoom: zoom,\n      keyboardLocale: this.locale\n    }\n\n    // get the text in the search bar\n    if (event === \"search.select\"){\n      payload.queryString = geocoder.inputString;\n    }else if (event != \"search.select\" && geocoder._inputEl){\n      payload.queryString = geocoder._inputEl.value;\n    }else{\n      payload.queryString = geocoder.inputString;\n    }\n    return payload;\n  },\n\n  /**\n   * Wraps the request function for easier testing\n   * Make an http request and invoke a callback\n   * @private\n   * @param {Object} opts options describing the http request to be made\n   * @param {Function} callback the callback to invoke when the http request is completed\n   */\n  request: function (opts, callback) {\n    var xhttp = new XMLHttpRequest();\n    xhttp.onreadystatechange = function() {\n      if (this.readyState == 4 ) {\n        if (this.status == 204){\n          //success\n          return callback(null);\n        }else {\n          return callback(this.statusText);\n        }\n      }\n    };\n\n    xhttp.open(opts.method, opts.host + '/' + opts.path, true);\n    for (var header in opts.headers){\n      var headerValue = opts.headers[header];\n      xhttp.setRequestHeader(header, headerValue)\n    }\n    xhttp.send(opts.body);\n  },\n\n  /**\n   * Handle an error that occurred while making a request\n   * @param {Object} err an error instance to log\n   * @private\n   */\n  handleError: function (err, callback) {\n    if (callback) return callback(err);\n  },\n\n  /**\n   * Generate a session ID to be returned with all of the searches made by this geocoder instance\n   * ID is random and cannot be tracked across sessions\n   * @private\n   */\n  generateSessionID: function () {\n    return nanoid();\n  },\n\n  /**\n   * Get a user agent string to send with the request to the events service\n   * @private\n   */\n  getUserAgent: function () {\n    return 'mapbox-gl-geocoder.' + this.version + \".\" + navigator.userAgent;\n  },\n\n  /**\n     * Get the 0-based numeric index of the item that the user selected out of the list of options\n     * @private\n     * @param {Object} selected the geojson feature selected by the user\n     * @param {Object} geocoder a Mapbox-GL-Geocoder instance\n     * @returns {Number} the index of the selected result\n     */\n  getSelectedIndex: function(selected, geocoder){\n    if (!geocoder._typeahead) return;\n    var results = geocoder._typeahead.data;\n    var selectedID = selected.id;\n    var resultIDs = results.map(function (feature) {\n      return feature.id;\n    });\n    var selectedIdx = resultIDs.indexOf(selectedID);\n    return selectedIdx;\n  },\n\n  /**\n     * Check whether events should be logged\n     * Clients using a localGeocoder or an origin other than mapbox should not have events logged\n     * @private\n     */\n  shouldEnableLogging: function(options){\n    if (options.enableEventLogging === false) return false;\n    if (options.origin && options.origin.indexOf('api.mapbox.com') == -1) return false;\n    // hard to make sense of events when a local instance is suplementing results from origin\n    if (options.localGeocoder) return false;\n    // hard to make sense of events when a custom filter is in use\n    if (options.filter) return false;\n    return true;\n  },\n\n  /**\n   * Flush out the event queue by sending events to the events service\n   * @private\n   */\n  flush: function(){\n    if (this.eventQueue.length > 0){\n      this.send(this.eventQueue);\n      this.eventQueue = new Array();\n    }\n    // //reset the timer\n    if (this.timer)  clearTimeout(this.timer);\n    if (this.flushInterval) this.timer = setTimeout(this.flush.bind(this), this.flushInterval)\n  },\n\n  /**\n   * Push event into the pending queue\n   * @param {Object} evt the event to send to the events service\n   * @param {Boolean} forceFlush indicates that the event queue should be flushed after adding this event regardless of size of the queue\n   * @private\n   */\n  push: function(evt, forceFlush){\n    this.eventQueue.push(evt);\n    if (this.eventQueue.length >= this.maxQueueSize || forceFlush){\n      this.flush();\n    }\n  },\n\n  /**\n   * Flush any remaining events from the queue before it is removed\n   * @private\n   */\n  remove: function(){\n    this.flush();\n  }\n}\n\n\n\nmodule.exports = MapboxEventManager;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-gl-geocoder/lib/events.js","module.exports = {\n  'fr': {\n    'name': 'France',\n    'bbox': [[-4.59235, 41.380007], [9.560016, 51.148506]]\n  },\n  'us': {\n    'name': 'United States',\n    'bbox': [[-171.791111, 18.91619], [-66.96466, 71.357764]]\n  },\n  'ru': {\n    'name': 'Russia',\n    'bbox': [[19.66064, 41.151416], [190.10042, 81.2504]]\n  },\n  'ca': {\n    'name': 'Canada',\n    'bbox': [[-140.99778, 41.675105], [-52.648099, 83.23324]]\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-gl-geocoder/lib/exceptions.js","'use strict';\n\nvar Typeahead = require('suggestions');\nvar debounce = require('lodash.debounce');\nvar extend = require('xtend');\nvar EventEmitter = require('events').EventEmitter;\nvar exceptions = require('./exceptions');\nvar MapboxClient = require('@mapbox/mapbox-sdk');\nvar mbxGeocoder = require('@mapbox/mapbox-sdk/services/geocoding');\nvar MapboxEventManager = require('./events');\nvar localization = require('./localization');\nvar subtag = require('subtag');\n\n/**\n * A geocoder component using the [Mapbox Geocoding API](https://docs.mapbox.com/api/search/#geocoding)\n * @class MapboxGeocoder\n * @param {Object} options\n * @param {String} options.accessToken Required.\n * @param {String} [options.origin=https://api.mapbox.com] Use to set a custom API origin.\n * @param {Object} [options.mapboxgl] A [mapbox-gl](https://github.com/mapbox/mapbox-gl-js) instance to use when creating [Markers](https://docs.mapbox.com/mapbox-gl-js/api/#marker). Required if `options.marker` is `true`.\n * @param {Number} [options.zoom=16] On geocoded result what zoom level should the map animate to when a `bbox` isn't found in the response. If a `bbox` is found the map will fit to the `bbox`.\n * @param {Boolean|Object} [options.flyTo=true] If `false`, animating the map to a selected result is disabled. If `true`, animating the map will use the default animation parameters. If an object, it will be passed as `options` to the map [`flyTo`](https://docs.mapbox.com/mapbox-gl-js/api/#map#flyto) or [`fitBounds`](https://docs.mapbox.com/mapbox-gl-js/api/#map#fitbounds) method providing control over the animation of the transition.\n * @param {String} [options.placeholder=Search] Override the default placeholder attribute value.\n * @param {Object} [options.proximity] a proximity argument: this is\n * a geographical point given as an object with `latitude` and `longitude`\n * properties. Search results closer to this point will be given\n * higher priority.\n * @param {Boolean} [options.trackProximity=true] If `true`, the geocoder proximity will automatically update based on the map view.\n * @param {Boolean} [options.collapsed=false] If `true`, the geocoder control will collapse until hovered or in focus.\n * @param {Boolean} [options.clearAndBlurOnEsc=false] If `true`, the geocoder control will clear it's contents and blur when user presses the escape key.\n * @param {Boolean} [options.clearOnBlur=false] If `true`, the geocoder control will clear its value when the input blurs.\n * @param {Array} [options.bbox] a bounding box argument: this is\n * a bounding box given as an array in the format `[minX, minY, maxX, maxY]`.\n * Search results will be limited to the bounding box.\n * @param {string} [options.countries] a comma separated list of country codes to\n * limit results to specified country or countries.\n * @param {string} [options.types] a comma seperated list of types that filter\n * results to match those specified. See https://docs.mapbox.com/api/search/#data-types\n * for available types.\n * If reverseGeocode is enabled, you should specify one type. If you configure more than one type, the first type will be used.\n * @param {Number} [options.minLength=2] Minimum number of characters to enter before results are shown.\n * @param {Number} [options.limit=5] Maximum number of results to show.\n * @param {string} [options.language] Specify the language to use for response text and query result weighting. Options are IETF language tags comprised of a mandatory ISO 639-1 language code and optionally one or more IETF subtags for country or script. More than one value can also be specified, separated by commas. Defaults to the browser's language settings.\n * @param {Function} [options.filter] A function which accepts a Feature in the [Carmen GeoJSON](https://github.com/mapbox/carmen/blob/master/carmen-geojson.md) format to filter out results from the Geocoding API response before they are included in the suggestions list. Return `true` to keep the item, `false` otherwise.\n * @param {Function} [options.localGeocoder] A function accepting the query string which performs local geocoding to supplement results from the Mapbox Geocoding API. Expected to return an Array of GeoJSON Features in the [Carmen GeoJSON](https://github.com/mapbox/carmen/blob/master/carmen-geojson.md) format.\n * @param {distance|score} [options.reverseMode=distance] - Set the factors that are used to sort nearby results.\n * @param {boolean} [options.reverseGeocode=false] If `true`, enable reverse geocoding mode. In reverse geocoding, search input is expected to be coordinates in the form `lat, lon`, with suggestions being the reverse geocodes.\n * @param {Boolean} [options.enableEventLogging=true] Allow Mapbox to collect anonymous usage statistics from the plugin.\n * @param {Boolean|Object} [options.marker=true]  If `true`, a [Marker](https://docs.mapbox.com/mapbox-gl-js/api/#marker) will be added to the map at the location of the user-selected result using a default set of Marker options.  If the value is an object, the marker will be constructed using these options. If `false`, no marker will be added to the map. Requires that `options.mapboxgl` also be set.\n * @param {Function} [options.render] A function that specifies how the results should be rendered in the dropdown menu. This function should accepts a single [Carmen GeoJSON](https://github.com/mapbox/carmen/blob/master/carmen-geojson.md) object as input and return a string. Any HTML in the returned string will be rendered.\n * @param {Function} [options.getItemValue] A function that specifies how the selected result should be rendered in the search bar. This function should accept a single [Carmen GeoJSON](https://github.com/mapbox/carmen/blob/master/carmen-geojson.md) object as input and return a string. HTML tags in the output string will not be rendered. Defaults to `(item) => item.place_name`.\n * @param {String} [options.mode=mapbox.places] A string specifying the geocoding [endpoint](https://docs.mapbox.com/api/search/#endpoints) to query. Options are `mapbox.places` and `mapbox.places-permanent`. The `mapbox.places-permanent` mode requires an enterprise license for permanent geocodes.\n * @param {Boolean} [options.localGeocoderOnly=false] If `true`, indicates that the `localGeocoder` results should be the only ones returned to the user. If `false`, indicates that the `localGeocoder` results should be combined with those from the Mapbox API with the `localGeocoder` results ranked higher.\n * @example\n * var geocoder = new MapboxGeocoder({ accessToken: mapboxgl.accessToken });\n * map.addControl(geocoder);\n * @return {MapboxGeocoder} `this`\n *\n */\n\nfunction MapboxGeocoder(options) {\n  this._eventEmitter = new EventEmitter();\n  this.options = extend({}, this.options, options);\n  this.inputString = '';\n  this.fresh = true;\n  this.lastSelected = null;\n}\n\nMapboxGeocoder.prototype = {\n  options: {\n    zoom: 16,\n    flyTo: true,\n    trackProximity: true,\n    minLength: 2,\n    reverseGeocode: false,\n    limit: 5,\n    origin: 'https://api.mapbox.com',\n    enableEventLogging: true,\n    marker: true,\n    mapboxgl: null,\n    collapsed: false,\n    clearAndBlurOnEsc: false,\n    clearOnBlur: false,\n    getItemValue: function(item) {\n      return item.place_name\n    },\n    render: function(item) {\n      var placeName = item.place_name.split(',');\n      return '<div class=\"mapboxgl-ctrl-geocoder--suggestion\"><div class=\"mapboxgl-ctrl-geocoder--suggestion-title\">' + placeName[0]+ '</div><div class=\"mapboxgl-ctrl-geocoder--suggestion-address\">' + placeName.splice(1, placeName.length).join(',') + '</div></div>';\n    }\n  },\n\n  /**\n   * Add the geocoder to a container. The container can be either a `mapboxgl.Map`, an `HTMLElement` or a CSS selector string.\n   *\n   * If the container is a [`mapboxgl.Map`](https://docs.mapbox.com/mapbox-gl-js/api/map/), this function will behave identically to [`Map.addControl(geocoder)`](https://docs.mapbox.com/mapbox-gl-js/api/map/#map#addcontrol).\n   * If the container is an instance of [`HTMLElement`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement), then the geocoder will be appended as a child of that [`HTMLElement`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement).\n   * If the container is a [CSS selector string](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors), the geocoder will be appended to the element returned from the query.\n   *\n   * This function will throw an error if the container is none of the above.\n   * It will also throw an error if the referenced HTML element cannot be found in the `document.body`.\n   *\n   * For example, if the HTML body contains the element `<div id='geocoder-container'></div>`, the following script will append the geocoder to `#geocoder-container`:\n   *\n   * ```javascript\n   * var geocoder = new MapboxGeocoder({ accessToken: mapboxgl.accessToken });\n   * geocoder.addTo('#geocoder-container');\n   * ```\n   * @param {String|HTMLElement|mapboxgl.Map} container A reference to the container to which to add the geocoder\n   */\n  addTo: function(container){\n\n    function addToExistingContainer (geocoder, container) {\n      if (!document.body.contains(container)) {\n        throw new Error(\"Element provided to #addTo() exists, but is not in the DOM\")\n      }\n      const el = geocoder.onAdd(); //returns the input elements, which are then added to the requested html container\n      container.appendChild(el);\n    }\n\n    // if the container is a map, add the control like normal\n    if (container._controlContainer){\n      //  it's a mapbox-gl map, add like normal\n      container.addControl(this);\n    }\n    // if the container is an HTMLElement, then set the parent to be that element\n    else if (container instanceof HTMLElement) {\n      addToExistingContainer(this, container);\n    }\n    // if the container is a string, treat it as a CSS query\n    else if (typeof container == 'string'){\n      const parent = document.querySelectorAll(container);\n      if (parent.length === 0){\n        throw new Error(\"Element \", container, \"not found.\")\n      }\n\n      if (parent.length > 1){\n        throw new Error(\"Geocoder can only be added to a single html element\")\n      }\n\n      addToExistingContainer(this, parent[0]);\n    }else{\n      throw new Error(\"Error: addTo must be a mapbox-gl-js map, an html element, or a CSS selector query for a single html element\")\n    }\n  },\n\n  onAdd: function(map) {\n    if (map && typeof map != 'string'){\n      this._map = map;\n    }\n\n    this.setLanguage();\n\n    if (!this.options.localGeocoderOnly){\n      this.geocoderService = mbxGeocoder(\n        MapboxClient({\n          accessToken: this.options.accessToken,\n          origin: this.options.origin\n        })\n      );\n    }\n\n    if (this.options.localGeocoderOnly && !this.options.localGeocoder){\n      throw new Error(\"A localGeocoder function must be specified to use localGeocoderOnly mode\")\n    }\n\n    this.eventManager = new MapboxEventManager(this.options);\n\n    this._onChange = this._onChange.bind(this);\n    this._onKeyDown = this._onKeyDown.bind(this);\n    this._onPaste = this._onPaste.bind(this);\n    this._onBlur = this._onBlur.bind(this);\n    this._showButton = this._showButton.bind(this);\n    this._hideButton = this._hideButton.bind(this);\n    this._onQueryResult = this._onQueryResult.bind(this);\n    this.clear = this.clear.bind(this);\n    this._updateProximity = this._updateProximity.bind(this);\n    this._collapse = this._collapse.bind(this);\n    this._unCollapse = this._unCollapse.bind(this);\n    this._clear = this._clear.bind(this);\n    this._clearOnBlur = this._clearOnBlur.bind(this);\n\n    var el = (this.container = document.createElement('div'));\n    el.className = 'mapboxgl-ctrl-geocoder mapboxgl-ctrl';\n\n    var searchIcon = this.createIcon('search', '<path d=\"M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z\"/>')\n\n    this._inputEl = document.createElement('input');\n    this._inputEl.type = 'text';\n    this._inputEl.className = 'mapboxgl-ctrl-geocoder--input';\n\n    this.setPlaceholder();\n\n    if (this.options.collapsed) {\n      this._collapse();\n      this.container.addEventListener('mouseenter', this._unCollapse);\n      this.container.addEventListener('mouseleave', this._collapse);\n      this._inputEl.addEventListener('focus', this._unCollapse);\n    }\n\n    if (this.options.collapsed || this.options.clearOnBlur) {\n      this._inputEl.addEventListener('blur', this._onBlur);\n    }\n\n    this._inputEl.addEventListener('keydown', debounce(this._onKeyDown, 200));\n    this._inputEl.addEventListener('paste', this._onPaste);\n    this._inputEl.addEventListener('change', this._onChange);\n    this.container.addEventListener('mouseenter', this._showButton);\n    this.container.addEventListener('mouseleave', this._hideButton);\n    this._inputEl.addEventListener('keyup', function(e){\n      this.eventManager.keyevent(e, this);\n    }.bind(this));\n\n    var actions = document.createElement('div');\n    actions.classList.add('mapboxgl-ctrl-geocoder--pin-right');\n\n    this._clearEl = document.createElement('button');\n    this._clearEl.setAttribute('aria-label', 'Clear');\n    this._clearEl.addEventListener('click', this.clear);\n    this._clearEl.className = 'mapboxgl-ctrl-geocoder--button';\n\n    var buttonIcon = this.createIcon('close', '<path d=\"M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z\"/>')\n    this._clearEl.appendChild(buttonIcon);\n\n    this._loadingEl = this.createIcon('loading', '<path fill=\"#333\" d=\"M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z\"/><path opacity=\".1\" d=\"M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z\"/>');\n\n    actions.appendChild(this._clearEl);\n    actions.appendChild(this._loadingEl);\n\n    el.appendChild(searchIcon);\n    el.appendChild(this._inputEl);\n    el.appendChild(actions);\n\n    this._typeahead = new Typeahead(this._inputEl, [], {\n      filter: false,\n      minLength: this.options.minLength,\n      limit: this.options.limit\n    });\n\n    this.setRenderFunction(this.options.render);\n    this._typeahead.getItemValue = this.options.getItemValue;\n\n    this.mapMarker = null;\n    this._handleMarker = this._handleMarker.bind(this);\n    if (this._map){\n      if (this.options.trackProximity ) {\n        this._updateProximity();\n        this._map.on('moveend', this._updateProximity);\n      }\n      this._mapboxgl = this.options.mapboxgl;\n      if (!this._mapboxgl && this.options.marker) {\n        // eslint-disable-next-line no-console\n        console.error(\"No mapboxgl detected in options. Map markers are disabled. Please set options.mapboxgl.\");\n        this.options.marker = false;\n      }\n    }\n    return el;\n  },\n\n  createIcon: function(name, path) {\n    var icon = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    icon.setAttribute('class', 'mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-' + name);\n    icon.setAttribute('viewBox', '0 0 18 18');\n    icon.setAttribute('xml:space','preserve');\n    icon.setAttribute('width', 18);\n    icon.setAttribute('height', 18);\n    // IE does not have innerHTML for SVG nodes\n    if (!('innerHTML' in icon)) {\n      var SVGNodeContainer = document.createElement('div');\n      SVGNodeContainer.innerHTML = '<svg>' + path.valueOf().toString() + '</svg>';\n      var SVGNode = SVGNodeContainer.firstChild,\n        SVGPath = SVGNode.firstChild;\n      icon.appendChild(SVGPath);\n    } else {\n      icon.innerHTML = path;\n    }\n    return icon;\n  },\n\n  onRemove: function() {\n    this.container.parentNode.removeChild(this.container);\n\n    if (this.options.trackProximity && this._map) {\n      this._map.off('moveend', this._updateProximity);\n    }\n\n    this._removeMarker();\n\n    this._map = null;\n\n    return this;\n  },\n\n  _onPaste: function(e){\n    var value = (e.clipboardData || window.clipboardData).getData('text');\n    if (value.length >= this.options.minLength) {\n      this._geocode(value);\n    }\n  },\n\n  _onKeyDown: function(e) {\n    var ESC_KEY_CODE = 27,\n      TAB_KEY_CODE = 9;\n\n    if (e.keyCode === ESC_KEY_CODE && this.options.clearAndBlurOnEsc) {\n      this._clear(e);\n      return this._inputEl.blur();\n    }\n\n    // if target has shadowRoot, then get the actual active element inside the shadowRoot\n    var target = e.target && e.target.shadowRoot\n      ? e.target.shadowRoot.activeElement\n      : e.target;\n    var value = target ? target.value : '';\n\n    if (!value) {\n      this.fresh = true;\n      // the user has removed all the text\n      if (e.keyCode !== TAB_KEY_CODE) this.clear(e);\n      return (this._clearEl.style.display = 'none');\n    }\n\n    // TAB, ESC, LEFT, RIGHT, ENTER, UP, DOWN\n    if ((e.metaKey || [TAB_KEY_CODE, ESC_KEY_CODE, 37, 39, 13, 38, 40].indexOf(e.keyCode) !== -1))\n      return;\n\n    if (target.value.length >= this.options.minLength) {\n      this._geocode(target.value);\n    }\n  },\n\n  _showButton: function() {\n    if (this._typeahead.selected) this._clearEl.style.display = 'block';\n  },\n\n  _hideButton: function() {\n    if (this._typeahead.selected) this._clearEl.style.display = 'none';\n  },\n\n  _onBlur: function(e) {\n    if (this.options.clearOnBlur) {\n      this._clearOnBlur(e);\n    }\n    if (this.options.collapsed) {\n      this._collapse();\n    }\n  },\n  _onChange: function() {\n    var selected = this._typeahead.selected;\n    if (selected  && JSON.stringify(selected) !== this.lastSelected) {\n      this._clearEl.style.display = 'none';\n      if (this.options.flyTo) {\n        var flyOptions;\n        if (selected.properties && exceptions[selected.properties.short_code]) {\n          // Certain geocoder search results return (and therefore zoom to fit)\n          // an unexpectedly large bounding box: for example, both Russia and the\n          // USA span both sides of -180/180, or France includes the island of\n          // Reunion in the Indian Ocean. An incomplete list of these exceptions\n          // at ./exceptions.json provides \"reasonable\" bounding boxes as a\n          // short-term solution; this may be amended as necessary.\n          flyOptions = extend({}, this.options.flyTo);\n          if (this._map){\n            this._map.fitBounds(exceptions[selected.properties.short_code].bbox, flyOptions);\n          }\n        } else if (selected.bbox) {\n          var bbox = selected.bbox;\n          flyOptions = extend({}, this.options.flyTo);\n          if (this._map){\n            this._map.fitBounds([[bbox[0], bbox[1]], [bbox[2], bbox[3]]], flyOptions);\n          }\n        } else {\n          var defaultFlyOptions = {\n            zoom: this.options.zoom\n          }\n          flyOptions = extend({}, defaultFlyOptions, this.options.flyTo);\n          //  ensure that center is not overriden by custom options\n          flyOptions.center = selected.center;\n          if (this._map){\n            this._map.flyTo(flyOptions);\n          }\n        }\n      }\n      if (this.options.marker && this._mapboxgl){\n        this._handleMarker(selected);\n      }\n\n      // After selecting a feature, re-focus the textarea and set\n      // cursor at start.\n      this._inputEl.focus();\n      this._inputEl.scrollLeft = 0;\n      this._inputEl.setSelectionRange(0, 0);\n      this.lastSelected = JSON.stringify(selected);\n      this._eventEmitter.emit('result', { result: selected });\n      this.eventManager.select(selected, this);\n    }\n  },\n\n  _geocode: function(searchInput) {\n    this._loadingEl.style.display = 'block';\n    this._eventEmitter.emit('loading', { query: searchInput });\n    this.inputString = searchInput;\n    // Possible config proprerties to pass to client\n    var keys = [\n      'bbox',\n      'limit',\n      'proximity',\n      'countries',\n      'types',\n      'language',\n      'reverseMode',\n      'mode'\n    ];\n    var self = this;\n    // Create config object\n    var config = keys.reduce(function(config, key) {\n      if (self.options[key]) {\n        // countries, types, and language need to be passed in as arrays to client\n        // https://github.com/mapbox/mapbox-sdk-js/blob/master/services/geocoding.js#L38-L47\n        ['countries', 'types', 'language'].indexOf(key) > -1\n          ? (config[key] = self.options[key].split(/[\\s,]+/))\n          : (config[key] = self.options[key]);\n\n        if (key === 'proximity' && self.options[key] && typeof self.options[key].longitude === 'number' && typeof self.options[key].latitude === 'number') {\n          config[key] = [self.options[key].longitude, self.options[key].latitude]\n        }\n      }\n      return config;\n    }, {});\n\n    var request;\n    if (this.options.localGeocoderOnly){\n      request = Promise.resolve();\n    }\n    // check if searchInput resembles coordinates, and if it does,\n    // make the request a reverseGeocode\n    else if (\n      this.options.reverseGeocode &&\n      /(-?\\d+\\.?\\d*)[, ]+(-?\\d+\\.?\\d*)[ ]*$/.test(searchInput)\n    ) {\n      // parse coordinates\n      var coords = searchInput.split(/[\\s(,)?]+/).map(function(c) {\n        return parseFloat(c, 10);\n      }).reverse();\n\n      // client only accepts one type for reverseGeocode, so\n      // use first config type if one, if not default to poi\n      config.types ? [config.types[0]] : [\"poi\"];\n      config = extend(config, { query: coords, limit: 1 });\n\n      // drop proximity which may have been set by trackProximity since it's not supported by the reverseGeocoder\n      if ('proximity' in config) {\n        delete config.proximity;\n      }\n\n      request = this.geocoderService.reverseGeocode(config).send();\n    } else {\n      config = extend(config, { query: searchInput });\n      request = this.geocoderService.forwardGeocode(config).send();\n    }\n\n    var localGeocoderRes = [];\n    if (this.options.localGeocoder) {\n      localGeocoderRes = this.options.localGeocoder(searchInput);\n      if (!localGeocoderRes) {\n        localGeocoderRes = [];\n      }\n    }\n\n    request.then(\n      function(response) {\n        this._loadingEl.style.display = 'none';\n\n        var res = {};\n\n        if (!response){\n          res = {\n            type: 'FeatureCollection',\n            features: []\n          }\n        }else if (response.statusCode == '200') {\n          res = response.body;\n          res.request = response.request\n          res.headers = response.headers\n        }\n\n        res.config = config;\n        if (this.fresh){\n          this.eventManager.start(this);\n          this.fresh = false;\n        }\n        // supplement Mapbox Geocoding API results with locally populated results\n        res.features = res.features\n          ? localGeocoderRes.concat(res.features)\n          : localGeocoderRes;\n\n        // apply results filter if provided\n        if (this.options.filter && res.features.length) {\n          res.features = res.features.filter(this.options.filter);\n        }\n\n        if (res.features.length) {\n          this._clearEl.style.display = 'block';\n          this._eventEmitter.emit('results', res);\n          this._typeahead.update(res.features);\n        } else {\n          this._clearEl.style.display = 'none';\n          this._typeahead.selected = null;\n          this._renderNoResults();\n          this._eventEmitter.emit('results', res);\n        }\n\n      }.bind(this)\n    );\n\n    request.catch(\n      function(err) {\n        this._loadingEl.style.display = 'none';\n\n        // in the event of an error in the Mapbox Geocoding API still display results from the localGeocoder\n        if (localGeocoderRes.length && this.options.localGeocoder) {\n          this._clearEl.style.display = 'block';\n          this._typeahead.update(localGeocoderRes);\n        } else {\n          this._clearEl.style.display = 'none';\n          this._typeahead.selected = null;\n          this._renderError();\n        }\n\n        this._eventEmitter.emit('results', { features: localGeocoderRes });\n        this._eventEmitter.emit('error', { error: err });\n      }.bind(this)\n    );\n\n    return request;\n  },\n\n  /**\n   * Shared logic for clearing input\n   * @param {Event} [ev] the event that triggered the clear, if available\n   * @private\n   *\n   */\n  _clear: function(ev) {\n    if (ev) ev.preventDefault();\n    this._inputEl.value = '';\n    this._typeahead.selected = null;\n    this._typeahead.clear();\n    this._onChange();\n    this._clearEl.style.display = 'none';\n    this._removeMarker();\n    this.lastSelected = null;\n    this._eventEmitter.emit('clear');\n    this.fresh = true;\n  },\n\n  /**\n   * Clear and then focus the input.\n   * @param {Event} [ev] the event that triggered the clear, if available\n   *\n   */\n  clear: function(ev) {\n    this._clear(ev);\n    this._inputEl.focus();\n  },\n\n\n  /**\n   * Clear the input, without refocusing it. Used to implement clearOnBlur\n   * constructor option.\n   * @param {Event} [ev] the blur event\n   * @private\n   */\n  _clearOnBlur: function(ev) {\n    var ctx = this;\n\n    /*\n     * If relatedTarget is not found, assume user targeted the suggestions list.\n     * In that case, do not clear on blur. There are other edge cases where\n     * ev.relatedTarget could be null. Clicking on list always results in null\n     * relatedtarget because of upstream behavior in `suggestions`.\n     *\n     * The ideal solution would be to check if ev.relatedTarget is a child of\n     * the list. See issue #258 for details on why we can't do that yet.\n     */\n    if (ev.relatedTarget) {\n      ctx._clear(ev);\n    }\n  },\n\n  _onQueryResult: function(response) {\n    var results = response.body;\n    if (!results.features.length) return;\n    var result = results.features[0];\n    this._typeahead.selected = result;\n    this._inputEl.value = result.place_name;\n    this._onChange();\n  },\n\n  _updateProximity: function() {\n    // proximity is designed for local scale, if the user is looking at the whole world,\n    // it doesn't make sense to factor in the arbitrary centre of the map\n    if (!this._map){\n      return;\n    }\n    if (this._map.getZoom() > 9) {\n      var center = this._map.getCenter().wrap();\n      this.setProximity({ longitude: center.lng, latitude: center.lat });\n    } else {\n      this.setProximity(null);\n    }\n  },\n\n  _collapse: function() {\n    // do not collapse if input is in focus\n    if (!this._inputEl.value && this._inputEl !== document.activeElement) this.container.classList.add('mapboxgl-ctrl-geocoder--collapsed');\n  },\n\n  _unCollapse: function() {\n    this.container.classList.remove('mapboxgl-ctrl-geocoder--collapsed');\n  },\n\n  /**\n   * Set & query the input\n   * @param {string} searchInput location name or other search input\n   * @returns {MapboxGeocoder} this\n   */\n  query: function(searchInput) {\n    this._geocode(searchInput).then(this._onQueryResult);\n    return this;\n  },\n\n  _renderError: function(){\n    var errorMessage = \"<div class='mapbox-gl-geocoder--error'>There was an error reaching the server</div>\"\n    this._renderMessage(errorMessage);\n  },\n\n  _renderNoResults: function(){\n    var errorMessage = \"<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results'>No results found</div>\";\n    this._renderMessage(errorMessage);\n  },\n\n  _renderMessage: function(msg){\n    this._typeahead.update([]);\n    this._typeahead.selected = null;\n    this._typeahead.clear();\n    this._typeahead.renderError(msg);\n  },\n\n  /**\n   * Get the text to use as the search bar placeholder\n   *\n   * If placeholder is provided in options, then use options.placeholder\n   * Otherwise, if language is provided in options, then use the localized string of the first language if available\n   * Otherwise use the default\n   *\n   * @returns {String} the value to use as the search bar placeholder\n   * @private\n   */\n  _getPlaceholderText: function(){\n    if (this.options.placeholder) return this.options.placeholder;\n    if (this.options.language){\n      var firstLanguage = this.options.language.split(\",\")[0];\n      var language = subtag.language(firstLanguage);\n      var localizedValue = localization.placeholder[language];\n      if (localizedValue)  return localizedValue;\n    }\n    return 'Search';\n  },\n\n  /**\n   * Set input\n   * @param {string} searchInput location name or other search input\n   * @returns {MapboxGeocoder} this\n   */\n  setInput: function(searchInput) {\n    // Set input value to passed value and clear everything else.\n    this._inputEl.value = searchInput;\n    this._typeahead.selected = null;\n    this._typeahead.clear();\n    if (searchInput.length >= this.options.minLength) {\n      this._geocode(searchInput);\n    }\n    return this;\n  },\n\n  /**\n   * Set proximity\n   * @param {Object} proximity The new `options.proximity` value. This is a geographical point given as an object with `latitude` and `longitude` properties.\n   * @returns {MapboxGeocoder} this\n   */\n  setProximity: function(proximity) {\n    this.options.proximity = proximity;\n    return this;\n  },\n\n  /**\n   * Get proximity\n   * @returns {Object} The geocoder proximity\n   */\n  getProximity: function() {\n    return this.options.proximity;\n  },\n\n  /**\n   * Set the render function used in the results dropdown\n   * @param {Function} fn The function to use as a render function. This function accepts a single [Carmen GeoJSON](https://github.com/mapbox/carmen/blob/master/carmen-geojson.md) object as input and returns a string.\n   * @returns {MapboxGeocoder} this\n   */\n  setRenderFunction: function(fn){\n    if (fn && typeof(fn) == \"function\"){\n      this._typeahead.render = fn;\n    }\n    return this;\n  },\n\n  /**\n   * Get the function used to render the results dropdown\n   *\n   * @returns {Function} the render function\n   */\n  getRenderFunction: function(){\n    return this._typeahead.render;\n  },\n\n  /**\n   * Get the language to use in UI elements and when making search requests\n   *\n   * Look first at the explicitly set options otherwise use the browser's language settings\n   * @param {String} language Specify the language to use for response text and query result weighting. Options are IETF language tags comprised of a mandatory ISO 639-1 language code and optionally one or more IETF subtags for country or script. More than one value can also be specified, separated by commas.\n   * @returns {MapboxGeocoder} this\n   */\n  setLanguage: function(language){\n    var browserLocale = navigator.language || navigator.userLanguage || navigator.browserLanguage;\n    this.options.language = language || this.options.language || browserLocale;\n    return this;\n  },\n\n  /**\n   * Get the language to use in UI elements and when making search requests\n   * @returns {String} The language(s) used by the plugin, if any\n   */\n  getLanguage: function(){\n    return this.options.language;\n  },\n\n  /**\n   * Get the zoom level the map will move to when there is no bounding box on the selected result\n   * @returns {Number} the map zoom\n   */\n  getZoom: function(){\n    return this.options.zoom;\n  },\n\n  /**\n   * Set the zoom level\n   * @param {Number} zoom The zoom level that the map should animate to when a `bbox` isn't found in the response. If a `bbox` is found the map will fit to the `bbox`.\n   * @returns {MapboxGeocoder} this\n   */\n  setZoom: function(zoom){\n    this.options.zoom = zoom;\n    return this;\n  },\n\n  /**\n   * Get the parameters used to fly to the selected response, if any\n   * @returns {Boolean|Object} The `flyTo` option\n   */\n  getFlyTo: function(){\n    return this.options.flyTo;\n  },\n\n  /**\n   * Set the flyTo options\n   * @param {Boolean|Object} flyTo If false, animating the map to a selected result is disabled. If true, animating the map will use the default animation parameters. If an object, it will be passed as `options` to the map [`flyTo`](https://docs.mapbox.com/mapbox-gl-js/api/#map#flyto) or [`fitBounds`](https://docs.mapbox.com/mapbox-gl-js/api/#map#fitbounds) method providing control over the animation of the transition.\n   */\n  setFlyTo: function(flyTo){\n    this.options.flyTo = flyTo;\n    return this;\n  },\n\n  /**\n   * Get the value of the placeholder string\n   * @returns {String} The input element's placeholder value\n   */\n  getPlaceholder: function(){\n    return this.options.placeholder;\n  },\n\n  /**\n   * Set the value of the input element's placeholder\n   * @param {String} placeholder the text to use as the input element's placeholder\n   * @returns {MapboxGeocoder} this\n   */\n  setPlaceholder: function(placeholder){\n    this.placeholder = (placeholder) ? placeholder : this._getPlaceholderText();\n    this._inputEl.placeholder = this.placeholder;\n    this._inputEl.setAttribute('aria-label', this.placeholder);\n    return this\n  },\n\n  /**\n   * Get the bounding box used by the plugin\n   * @returns {Array<Number>} the bounding box, if any\n   */\n  getBbox: function(){\n    return this.options.bbox;\n  },\n\n  /**\n   * Set the bounding box to limit search results to\n   * @param {Array<Number>} bbox a bounding box given as an array in the format [minX, minY, maxX, maxY].\n   * @returns {MapboxGeocoder} this\n   */\n  setBbox: function(bbox){\n    this.options.bbox = bbox;\n    return this;\n  },\n\n  /**\n   * Get a list of the countries to limit search results to\n   * @returns {String} a comma separated list of countries to limit to, if any\n   */\n  getCountries: function(){\n    return this.options.countries;\n  },\n\n  /**\n   * Set the countries to limit search results to\n   * @param {String} countries a comma separated list of countries to limit to\n   * @returns {MapboxGeocoder} this\n   */\n  setCountries: function(countries){\n    this.options.countries = countries;\n    return this;\n  },\n\n  /**\n   * Get a list of the types to limit search results to\n   * @returns {String} a comma separated list of types to limit to\n   */\n  getTypes: function(){\n    return this.options.types;\n  },\n\n  /**\n   * Set the types to limit search results to\n   * @param {String} countries a comma separated list of types to limit to\n   * @returns {MapboxGeocoder} this\n   */\n  setTypes: function(types){\n    this.options.types = types;\n    return this;\n  },\n\n  /**\n   * Get the minimum number of characters typed to trigger results used in the plugin\n   * @returns {Number} The minimum length in characters before a search is triggered\n   */\n  getMinLength: function(){\n    return this.options.minLength;\n  },\n\n  /**\n   * Set the minimum number of characters typed to trigger results used by the plugin\n   * @param {Number} minLength the minimum length in characters\n   * @returns {MapboxGeocoder} this\n   */\n  setMinLength: function(minLength){\n    this.options.minLength = minLength;\n    if (this._typeahead)  this._typeahead.minLength = minLength;\n    return this;\n  },\n\n  /**\n   * Get the limit value for the number of results to display used by the plugin\n   * @returns {Number} The limit value for the number of results to display used by the plugin\n   */\n  getLimit: function(){\n    return this.options.limit;\n  },\n\n  /**\n   * Set the limit value for the number of results to display used by the plugin\n   * @param {Number} limit the number of search results to return\n   * @returns {MapboxGeocoder}\n   */\n  setLimit: function(limit){\n    this.options.limit = limit;\n    if (this._typeahead) this._typeahead.options.limit = limit;\n    return this;\n  },\n\n  /**\n   * Get the filter function used by the plugin\n   * @returns {Function} the filter function\n   */\n  getFilter: function(){\n    return this.options.filter;\n  },\n\n  /**\n   * Set the filter function used by the plugin.\n   * @param {Function} filter A function which accepts a Feature in the [Carmen GeoJSON](https://github.com/mapbox/carmen/blob/master/carmen-geojson.md) format to filter out results from the Geocoding API response before they are included in the suggestions list. Return `true` to keep the item, `false` otherwise.\n   * @returns {MapboxGeocoder} this\n   */\n  setFilter: function(filter){\n    this.options.filter = filter;\n    return this;\n  },\n\n  /**\n   * Set the geocoding endpoint used by the plugin.\n   * @param {Function} origin A function which accepts an HTTPS URL to specify the endpoint to query results from.\n   * @returns {MapboxGeocoder} this\n   */\n  setOrigin: function(origin){\n    this.options.origin = origin;\n    this.geocoderService = mbxGeocoder(\n      MapboxClient({\n        accessToken: this.options.accessToken,\n        origin: this.options.origin\n      })\n    );\n    return this;\n  },\n\n  /**\n   * Get the geocoding endpoint the plugin is currently set to\n   * @returns {Function} the endpoint URL\n   */\n  getOrigin: function(){\n    return this.options.origin;\n  },\n\n  /**\n   * Handle the placement of a result marking the selected result\n   * @private\n   * @param {Object} selected the selected geojson feature\n   * @returns {MapboxGeocoder} this\n   */\n  _handleMarker: function(selected){\n    // clean up any old marker that might be present\n    if (!this._map){\n      return;\n    }\n    this._removeMarker();\n    var defaultMarkerOptions = {\n      color: '#4668F2'\n    }\n    var markerOptions = extend({}, defaultMarkerOptions, this.options.marker)\n    this.mapMarker = new this._mapboxgl.Marker(markerOptions);\n    if (selected.center) {\n      this.mapMarker\n        .setLngLat(selected.center)\n        .addTo(this._map);\n    } else if (selected.geometry && selected.geometry.type && selected.geometry.type === 'Point' && selected.geometry.coordinates) {\n      this.mapMarker\n        .setLngLat(selected.geometry.coordinates)\n        .addTo(this._map);\n    }\n    return this;\n  },\n\n  /**\n   * Handle the removal of a result marker\n   * @private\n   */\n  _removeMarker: function(){\n    if (this.mapMarker){\n      this.mapMarker.remove();\n      this.mapMarker = null;\n    }\n  },\n\n  /**\n   * Subscribe to events that happen within the plugin.\n   * @param {String} type name of event. Available events and the data passed into their respective event objects are:\n   *\n   * - __clear__ `Emitted when the input is cleared`\n   * - __loading__ `{ query } Emitted when the geocoder is looking up a query`\n   * - __results__ `{ results } Fired when the geocoder returns a response`\n   * - __result__ `{ result } Fired when input is set`\n   * - __error__ `{ error } Error as string`\n   * @param {Function} fn function that's called when the event is emitted.\n   * @returns {MapboxGeocoder} this;\n   */\n  on: function(type, fn) {\n    this._eventEmitter.on(type, fn);\n    return this;\n  },\n\n  /**\n   * Remove an event\n   * @returns {MapboxGeocoder} this\n   * @param {String} type Event name.\n   * @param {Function} fn Function that should unsubscribe to the event emitted.\n   */\n  off: function(type, fn) {\n    this._eventEmitter.removeListener(type, fn);\n    this.eventManager.remove();\n    return this;\n  }\n};\n\nmodule.exports = MapboxGeocoder;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-gl-geocoder/lib/index.js","'use strict';\n\n/**\n * Localized values for the placeholder string\n * \n * @private\n */\nvar placeholder = {\n  // list drawn from https://docs.mapbox.com/api/search/#language-coverage\n  'de': 'Suche', // german\n  'it': 'Ricerca', //italian\n  'en': 'Search', // english\n  'nl': 'Zoeken', //dutch\n  'fr': 'Chercher',  //french\n  'ca': 'Cerca', //catalan\n  'he': '', //hebrew\n  'ja': '',  //japanese\n  'lv': 'Meklt', //latvian\n  'pt': 'Procurar', //portuguese \n  'sr': '', //serbian\n  'zh': '', //chinese-simplified\n  'cs': 'Vyhledvn', //czech\n  'hu': 'Keress', //hungarian\n  'ka': '', // georgian\n  'nb': 'Ske', //norwegian\n  'sk': 'Vyhadvanie', //slovak\n  'th': '', //thai\n  'fi': 'Hae',//finnish\n  'is': 'Leita',//icelandic\n  'ko': '',//korean\n  'pl':  'Szukaj', //polish\n  'sl': 'Iskanje', //slovenian\n  'fa': '' //persian(aka farsi)\n}\n\nmodule.exports = {placeholder: placeholder};\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-gl-geocoder/lib/localization.js","'use strict';\n\nvar client = require('./lib/client');\n\nmodule.exports = client;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/index.js","'use strict';\n\nvar MapiResponse = require('../classes/mapi-response');\nvar MapiError = require('../classes/mapi-error');\nvar constants = require('../constants');\nvar parseHeaders = require('../helpers/parse-headers');\n\n// Keys are request IDs, values are XHRs.\nvar requestsUnderway = {};\n\nfunction browserAbort(request) {\n  var xhr = requestsUnderway[request.id];\n  if (!xhr) return;\n  xhr.abort();\n  delete requestsUnderway[request.id];\n}\n\nfunction createResponse(request, xhr) {\n  return new MapiResponse(request, {\n    body: xhr.response,\n    headers: parseHeaders(xhr.getAllResponseHeaders()),\n    statusCode: xhr.status\n  });\n}\n\nfunction normalizeBrowserProgressEvent(event) {\n  var total = event.total;\n  var transferred = event.loaded;\n  var percent = (100 * transferred) / total;\n  return {\n    total: total,\n    transferred: transferred,\n    percent: percent\n  };\n}\n\nfunction sendRequestXhr(request, xhr) {\n  return new Promise(function(resolve, reject) {\n    xhr.onprogress = function(event) {\n      request.emitter.emit(\n        constants.EVENT_PROGRESS_DOWNLOAD,\n        normalizeBrowserProgressEvent(event)\n      );\n    };\n\n    var file = request.file;\n    if (file) {\n      xhr.upload.onprogress = function(event) {\n        request.emitter.emit(\n          constants.EVENT_PROGRESS_UPLOAD,\n          normalizeBrowserProgressEvent(event)\n        );\n      };\n    }\n\n    xhr.onerror = function(error) {\n      reject(error);\n    };\n\n    xhr.onabort = function() {\n      var mapiError = new MapiError({\n        request: request,\n        type: constants.ERROR_REQUEST_ABORTED\n      });\n      reject(mapiError);\n    };\n\n    xhr.onload = function() {\n      delete requestsUnderway[request.id];\n      if (xhr.status < 200 || xhr.status >= 400) {\n        var mapiError = new MapiError({\n          request: request,\n          body: xhr.response,\n          statusCode: xhr.status\n        });\n        reject(mapiError);\n        return;\n      }\n      resolve(xhr);\n    };\n\n    var body = request.body;\n\n    // matching service needs to send a www-form-urlencoded request\n    if (typeof body === 'string') {\n      xhr.send(body);\n    } else if (body) {\n      xhr.send(JSON.stringify(body));\n    } else if (file) {\n      xhr.send(file);\n    } else {\n      xhr.send();\n    }\n\n    requestsUnderway[request.id] = xhr;\n  }).then(function(xhr) {\n    return createResponse(request, xhr);\n  });\n}\n\n// The accessToken argument gives this function flexibility\n// for Mapbox's internal client.\nfunction createRequestXhr(request, accessToken) {\n  var url = request.url(accessToken);\n  var xhr = new window.XMLHttpRequest();\n  xhr.open(request.method, url);\n  Object.keys(request.headers).forEach(function(key) {\n    xhr.setRequestHeader(key, request.headers[key]);\n  });\n  return xhr;\n}\n\nfunction browserSend(request) {\n  return Promise.resolve().then(function() {\n    var xhr = createRequestXhr(request, request.client.accessToken);\n    return sendRequestXhr(request, xhr);\n  });\n}\n\nmodule.exports = {\n  browserAbort: browserAbort,\n  sendRequestXhr: sendRequestXhr,\n  browserSend: browserSend,\n  createRequestXhr: createRequestXhr\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/lib/browser/browser-layer.js","'use strict';\n\nvar constants = require('../constants');\n\n/**\n * A Mapbox API error.\n *\n * If there's an error during the API transaction,\n * the Promise returned by `MapiRequest`'s [`send`](#send)\n * method should reject with a `MapiError`.\n *\n * @class MapiError\n * @hideconstructor\n * @property {MapiRequest} request - The errored request.\n * @property {string} type - The type of error. Usually this is `'HttpError'`.\n *   If the request was aborted, so the error was\n *   not sent from the server, the type will be\n *   `'RequestAbortedError'`.\n * @property {number} [statusCode] - The numeric status code of\n *   the HTTP response.\n * @property {Object | string} [body] - If the server sent a response body,\n *   this property exposes that response, parsed as JSON if possible.\n * @property {string} [message] - Whatever message could be derived from the\n *   call site and HTTP response.\n *\n * @param {MapiRequest} options.request\n * @param {number} [options.statusCode]\n * @param {string} [options.body]\n * @param {string} [options.message]\n * @param {string} [options.type]\n */\nfunction MapiError(options) {\n  var errorType = options.type || constants.ERROR_HTTP;\n\n  var body;\n  if (options.body) {\n    try {\n      body = JSON.parse(options.body);\n    } catch (e) {\n      body = options.body;\n    }\n  } else {\n    body = null;\n  }\n\n  var message = options.message || null;\n  if (!message) {\n    if (typeof body === 'string') {\n      message = body;\n    } else if (body && typeof body.message === 'string') {\n      message = body.message;\n    } else if (errorType === constants.ERROR_REQUEST_ABORTED) {\n      message = 'Request aborted';\n    }\n  }\n\n  this.message = message;\n  this.type = errorType;\n  this.statusCode = options.statusCode || null;\n  this.request = options.request;\n  this.body = body;\n}\n\nmodule.exports = MapiError;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/lib/classes/mapi-error.js","'use strict';\n\nvar parseToken = require('@mapbox/parse-mapbox-token');\nvar xtend = require('xtend');\nvar EventEmitter = require('eventemitter3');\nvar urlUtils = require('../helpers/url-utils');\nvar constants = require('../constants');\n\nvar requestId = 1;\n\n/**\n * A Mapbox API request.\n *\n * Note that creating a `MapiRequest` does *not* send the request automatically.\n * Use the request's `send` method to send it off and get a `Promise`.\n *\n * The `emitter` property is an `EventEmitter` that emits the following events:\n *\n * - `'response'` - Listeners will be called with a `MapiResponse`.\n * - `'error'` - Listeners will be called with a `MapiError`.\n * - `'downloadProgress'` - Listeners will be called with `ProgressEvents`.\n * - `'uploadProgress'` - Listeners will be called with `ProgressEvents`.\n *   Upload events are only available when the request includes a file.\n *\n * @class MapiRequest\n * @property {EventEmitter} emitter - An event emitter. See above.\n * @property {MapiClient} client - This request's `MapiClient`.\n * @property {MapiResponse|null} response - If this request has been sent and received\n *   a response, the response is available on this property.\n * @property {MapiError|Error|null} error - If this request has been sent and\n *   received an error in response, the error is available on this property.\n * @property {boolean} aborted - If the request has been aborted\n *   (via [`abort`](#abort)), this property will be `true`.\n * @property {boolean} sent - If the request has been sent, this property will\n *   be `true`. You cannot send the same request twice, so if you need to create\n *   a new request that is the equivalent of an existing one, use\n *   [`clone`](#clone).\n * @property {string} path - The request's path, including colon-prefixed route\n *   parameters.\n * @property {string} origin - The request's origin.\n * @property {string} method - The request's HTTP method.\n * @property {Object} query - A query object, which will be transformed into\n *   a URL query string.\n * @property {Object} params - A route parameters object, whose values will\n *   be interpolated the path.\n * @property {Object} headers - The request's headers.\n * @property {Object|string|null} body - Data to send with the request.\n *   If the request has a body, it will also be sent with the header\n *   `'Content-Type: application/json'`.\n * @property {Blob|ArrayBuffer|string|ReadStream} file - A file to\n *   send with the request. The browser client accepts Blobs and ArrayBuffers;\n *   the Node client accepts strings (filepaths) and ReadStreams.\n * @property {string} encoding - The encoding of the response.\n * @property {string} sendFileAs - The method to send the `file`. Options are\n *   `data` (x-www-form-urlencoded) or `form` (multipart/form-data).\n */\n\n/**\n * @ignore\n * @param {MapiClient} client\n * @param {Object} options\n * @param {string} options.method\n * @param {string} options.path\n * @param {Object} [options.query={}]\n * @param {Object} [options.params={}]\n * @param {string} [options.origin]\n * @param {Object} [options.headers]\n * @param {Object} [options.body=null]\n * @param {Blob|ArrayBuffer|string|ReadStream} [options.file=null]\n * @param {string} [options.encoding=utf8]\n */\nfunction MapiRequest(client, options) {\n  if (!client) {\n    throw new Error('MapiRequest requires a client');\n  }\n  if (!options || !options.path || !options.method) {\n    throw new Error(\n      'MapiRequest requires an options object with path and method properties'\n    );\n  }\n\n  var defaultHeaders = {};\n  if (options.body) {\n    defaultHeaders['content-type'] = 'application/json';\n  }\n\n  var headersWithDefaults = xtend(defaultHeaders, options.headers);\n\n  // Disallows duplicate header names of mixed case,\n  // e.g. Content-Type and content-type.\n  var headers = Object.keys(headersWithDefaults).reduce(function(memo, name) {\n    memo[name.toLowerCase()] = headersWithDefaults[name];\n    return memo;\n  }, {});\n\n  this.id = requestId++;\n  this._options = options;\n\n  this.emitter = new EventEmitter();\n  this.client = client;\n  this.response = null;\n  this.error = null;\n  this.sent = false;\n  this.aborted = false;\n  this.path = options.path;\n  this.method = options.method;\n  this.origin = options.origin || client.origin;\n  this.query = options.query || {};\n  this.params = options.params || {};\n  this.body = options.body || null;\n  this.file = options.file || null;\n  this.encoding = options.encoding || 'utf8';\n  this.sendFileAs = options.sendFileAs || null;\n  this.headers = headers;\n}\n\n/**\n * Get the URL of the request.\n *\n * @param {string} [accessToken] - By default, the access token of the request's\n *   client is used.\n * @return {string}\n */\nMapiRequest.prototype.url = function url(accessToken) {\n  var url = urlUtils.prependOrigin(this.path, this.origin);\n  url = urlUtils.appendQueryObject(url, this.query);\n  var routeParams = this.params;\n  var actualAccessToken =\n    accessToken == null ? this.client.accessToken : accessToken;\n  if (actualAccessToken) {\n    url = urlUtils.appendQueryParam(url, 'access_token', actualAccessToken);\n    var accessTokenOwnerId = parseToken(actualAccessToken).user;\n    routeParams = xtend({ ownerId: accessTokenOwnerId }, routeParams);\n  }\n  url = urlUtils.interpolateRouteParams(url, routeParams);\n  return url;\n};\n\n/**\n * Send the request. Returns a Promise that resolves with a `MapiResponse`.\n * You probably want to use `response.body`.\n *\n * `send` only retrieves the first page of paginated results. You can get\n * the next page by using the `MapiResponse`'s [`nextPage`](#nextpage)\n * function, or iterate through all pages using [`eachPage`](#eachpage)\n * instead of `send`.\n *\n * @returns {Promise<MapiResponse>}\n */\nMapiRequest.prototype.send = function send() {\n  var self = this;\n\n  if (self.sent) {\n    throw new Error(\n      'This request has already been sent. Check the response and error properties. Create a new request with clone().'\n    );\n  }\n  self.sent = true;\n\n  return self.client.sendRequest(self).then(\n    function(response) {\n      self.response = response;\n      self.emitter.emit(constants.EVENT_RESPONSE, response);\n      return response;\n    },\n    function(error) {\n      self.error = error;\n      self.emitter.emit(constants.EVENT_ERROR, error);\n      throw error;\n    }\n  );\n};\n\n/**\n * Abort the request.\n *\n * Any pending `Promise` returned by [`send`](#send) will be rejected with\n * an error with `type: 'RequestAbortedError'`. If you've created a request\n * that might be aborted, you need to catch and handle such errors.\n *\n * This method will also abort any requests created while fetching subsequent\n * pages via [`eachPage`](#eachpage).\n *\n * If the request has not been sent or has already been aborted, nothing\n * will happen.\n */\nMapiRequest.prototype.abort = function abort() {\n  if (this._nextPageRequest) {\n    this._nextPageRequest.abort();\n    delete this._nextPageRequest;\n  }\n\n  if (this.response || this.error || this.aborted) return;\n\n  this.aborted = true;\n  this.client.abortRequest(this);\n};\n\n/**\n * Invoke a callback for each page of a paginated API response.\n *\n * The callback should have the following signature:\n *\n * ```js\n * (\n *   error: MapiError,\n *   response: MapiResponse,\n *   next: () => void\n * ) => void\n * ```\n *\n * **The next page will not be fetched until you've invoked the\n * `next` callback**, indicating that you're ready for it.\n *\n * @param {Function} callback\n */\nMapiRequest.prototype.eachPage = function eachPage(callback) {\n  var self = this;\n\n  function handleResponse(response) {\n    function getNextPage() {\n      delete self._nextPageRequest;\n      var nextPageRequest = response.nextPage();\n      if (nextPageRequest) {\n        self._nextPageRequest = nextPageRequest;\n        getPage(nextPageRequest);\n      }\n    }\n    callback(null, response, getNextPage);\n  }\n\n  function handleError(error) {\n    callback(error, null, function() {});\n  }\n\n  function getPage(request) {\n    request.send().then(handleResponse, handleError);\n  }\n  getPage(this);\n};\n\n/**\n * Clone this request.\n *\n * Each request can only be sent *once*. So if you'd like to send the\n * same request again, clone it and send away.\n *\n * @returns {MapiRequest} - A new `MapiRequest` configured just like this one.\n */\nMapiRequest.prototype.clone = function clone() {\n  return this._extend();\n};\n\n/**\n * @ignore\n */\nMapiRequest.prototype._extend = function _extend(options) {\n  var extendedOptions = xtend(this._options, options);\n  return new MapiRequest(this.client, extendedOptions);\n};\n\nmodule.exports = MapiRequest;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/lib/classes/mapi-request.js","'use strict';\n\nvar parseLinkHeader = require('../helpers/parse-link-header');\n\n/**\n * A Mapbox API response.\n *\n * @class MapiResponse\n * @property {Object} body - The response body, parsed as JSON.\n * @property {string} rawBody - The raw response body.\n * @property {number} statusCode - The response's status code.\n * @property {Object} headers - The parsed response headers.\n * @property {Object} links - The parsed response links.\n * @property {MapiRequest} request - The response's originating `MapiRequest`.\n */\n\n/**\n * @ignore\n * @param {MapiRequest} request\n * @param {Object} responseData\n * @param {Object} responseData.headers\n * @param {string} responseData.body\n * @param {number} responseData.statusCode\n */\nfunction MapiResponse(request, responseData) {\n  this.request = request;\n  this.headers = responseData.headers;\n  this.rawBody = responseData.body;\n  this.statusCode = responseData.statusCode;\n  try {\n    this.body = JSON.parse(responseData.body || '{}');\n  } catch (parseError) {\n    this.body = responseData.body;\n  }\n  this.links = parseLinkHeader(this.headers.link);\n}\n\n/**\n * Check if there is a next page that you can fetch.\n *\n * @returns {boolean}\n */\nMapiResponse.prototype.hasNextPage = function hasNextPage() {\n  return !!this.links.next;\n};\n\n/**\n * Create a request for the next page, if there is one.\n * If there is no next page, returns `null`.\n *\n * @returns {MapiRequest | null}\n */\nMapiResponse.prototype.nextPage = function nextPage() {\n  if (!this.hasNextPage()) return null;\n  return this.request._extend({\n    path: this.links.next.url\n  });\n};\n\nmodule.exports = MapiResponse;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/lib/classes/mapi-response.js","'use strict';\n\nfunction parseSingleHeader(raw) {\n  var boundary = raw.indexOf(':');\n  var name = raw\n    .substring(0, boundary)\n    .trim()\n    .toLowerCase();\n  var value = raw.substring(boundary + 1).trim();\n  return {\n    name: name,\n    value: value\n  };\n}\n\n/**\n * Parse raw headers into an object with lowercase properties.\n * Does not fully parse headings into more complete data structure,\n * as larger libraries might do. Also does not deal with duplicate\n * headers because Node doesn't seem to deal with those well, so\n * we shouldn't let the browser either, for consistency.\n *\n * @param {string} raw\n * @returns {Object}\n */\nfunction parseHeaders(raw) {\n  var headers = {};\n  if (!raw) {\n    return headers;\n  }\n\n  raw\n    .trim()\n    .split(/[\\r|\\n]+/)\n    .forEach(function(rawHeader) {\n      var parsed = parseSingleHeader(rawHeader);\n      headers[parsed.name] = parsed.value;\n    });\n\n  return headers;\n}\n\nmodule.exports = parseHeaders;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/lib/helpers/parse-headers.js","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar PROTECTION_PREFIX = /^\\)\\]\\}',?\\n/;\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      data = data.replace(PROTECTION_PREFIX, '');\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMehtodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/defaults.js","'use strict';\n\n// Like https://github.com/thlorenz/lib/parse-link-header but without any\n// additional dependencies.\n\nfunction parseParam(param) {\n  var parts = param.match(/\\s*(.+)\\s*=\\s*\"?([^\"]+)\"?/);\n  if (!parts) return null;\n\n  return {\n    key: parts[1],\n    value: parts[2]\n  };\n}\n\nfunction parseLink(link) {\n  var parts = link.match(/<?([^>]*)>(.*)/);\n  if (!parts) return null;\n\n  var linkUrl = parts[1];\n  var linkParams = parts[2].split(';');\n  var rel = null;\n  var parsedLinkParams = linkParams.reduce(function(result, param) {\n    var parsed = parseParam(param);\n    if (!parsed) return result;\n    if (parsed.key === 'rel') {\n      if (!rel) {\n        rel = parsed.value;\n      }\n      return result;\n    }\n    result[parsed.key] = parsed.value;\n    return result;\n  }, {});\n  if (!rel) return null;\n\n  return {\n    url: linkUrl,\n    rel: rel,\n    params: parsedLinkParams\n  };\n}\n\n/**\n * Parse a Link header.\n *\n * @param {string} linkHeader\n * @returns {{\n *   [string]: {\n *     url: string,\n *     params: { [string]: string }\n *   }\n * }}\n */\nfunction parseLinkHeader(linkHeader) {\n  if (!linkHeader) return {};\n\n  return linkHeader.split(/,\\s*</).reduce(function(result, link) {\n    var parsed = parseLink(link);\n    if (!parsed) return result;\n    // rel value can be multiple whitespace-separated rels.\n    var splitRel = parsed.rel.split(/\\s+/);\n    splitRel.forEach(function(rel) {\n      if (!result[rel]) {\n        result[rel] = {\n          url: parsed.url,\n          params: parsed.params\n        };\n      }\n    });\n    return result;\n  }, {});\n}\n\nmodule.exports = parseLinkHeader;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/lib/helpers/parse-link-header.js","'use strict';\n\n// Encode each item of an array individually. The comma\n// delimiters should not themselves be encoded.\nfunction encodeArray(arrayValue) {\n  return arrayValue.map(encodeURIComponent).join(',');\n}\n\nfunction encodeValue(value) {\n  if (Array.isArray(value)) {\n    return encodeArray(value);\n  }\n  return encodeURIComponent(String(value));\n}\n\n/**\n * Append a query parameter to a URL.\n *\n * @param {string} url\n * @param {string} key\n * @param {string|number|boolean|Array<*>>} [value] - Provide an array\n *   if the value is a list and commas between values need to be\n *   preserved, unencoded.\n * @returns {string} - Modified URL.\n */\nfunction appendQueryParam(url, key, value) {\n  if (value === false || value === null) {\n    return url;\n  }\n  var punctuation = /\\?/.test(url) ? '&' : '?';\n  var query = encodeURIComponent(key);\n  if (value !== undefined && value !== '' && value !== true) {\n    query += '=' + encodeValue(value);\n  }\n  return '' + url + punctuation + query;\n}\n\n/**\n * Derive a query string from an object and append it\n * to a URL.\n *\n * @param {string} url\n * @param {Object} [queryObject] - Values should be primitives.\n * @returns {string} - Modified URL.\n */\nfunction appendQueryObject(url, queryObject) {\n  if (!queryObject) {\n    return url;\n  }\n\n  var result = url;\n  Object.keys(queryObject).forEach(function(key) {\n    var value = queryObject[key];\n    if (value === undefined) {\n      return;\n    }\n    if (Array.isArray(value)) {\n      value = value\n        .filter(function(v) {\n          return v !== null && v !== undefined;\n        })\n        .join(',');\n    }\n    result = appendQueryParam(result, key, value);\n  });\n  return result;\n}\n\n/**\n * Prepend an origin to a URL. If the URL already has an\n * origin, do nothing.\n *\n * @param {string} url\n * @param {string} origin\n * @returns {string} - Modified URL.\n */\nfunction prependOrigin(url, origin) {\n  if (!origin) {\n    return url;\n  }\n\n  if (url.slice(0, 4) === 'http') {\n    return url;\n  }\n\n  var delimiter = url[0] === '/' ? '' : '/';\n  return '' + origin.replace(/\\/$/, '') + delimiter + url;\n}\n\n/**\n * Interpolate values into a route with express-style,\n * colon-prefixed route parameters.\n *\n * @param {string} route\n * @param {Object} [params] - Values should be primitives\n *   or arrays of primitives. Provide an array if the value\n *   is a list and commas between values need to be\n *   preserved, unencoded.\n * @returns {string} - Modified URL.\n */\nfunction interpolateRouteParams(route, params) {\n  if (!params) {\n    return route;\n  }\n  return route.replace(/\\/:([a-zA-Z0-9]+)/g, function(_, paramId) {\n    var value = params[paramId];\n    if (value === undefined) {\n      throw new Error('Unspecified route parameter ' + paramId);\n    }\n    var preppedValue = encodeValue(value);\n    return '/' + preppedValue;\n  });\n}\n\nmodule.exports = {\n  appendQueryObject: appendQueryObject,\n  appendQueryParam: appendQueryParam,\n  prependOrigin: prependOrigin,\n  interpolateRouteParams: interpolateRouteParams\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/lib/helpers/url-utils.js","'use strict';\n\nvar xtend = require('xtend');\nvar v = require('./service-helpers/validator');\nvar pick = require('./service-helpers/pick');\nvar stringifyBooleans = require('./service-helpers/stringify-booleans');\nvar createServiceFactory = require('./service-helpers/create-service-factory');\n\n/**\n * Geocoding API service.\n *\n * Learn more about this service and its responses in\n * [the HTTP service documentation](https://docs.mapbox.com/api/search/#geocoding).\n */\nvar Geocoding = {};\n\nvar featureTypes = [\n  'country',\n  'region',\n  'postcode',\n  'district',\n  'place',\n  'locality',\n  'neighborhood',\n  'address',\n  'poi',\n  'poi.landmark'\n];\n\n/**\n * Search for a place.\n *\n * See the [public documentation](https://docs.mapbox.com/api/search/#forward-geocoding).\n *\n * @param {Object} config\n * @param {string} config.query - A place name.\n * @param {'mapbox.places'|'mapbox.places-permanent'} [config.mode=\"mapbox.places\"] - Either `mapbox.places` for ephemeral geocoding, or `mapbox.places-permanent` for storing results and batch geocoding.\n * @param {Array<string>} [config.countries] - Limits results to the specified countries.\n *   Each item in the array should be an [ISO 3166 alpha 2 country code](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).\n * @param {Coordinates} [config.proximity] - Bias local results based on a provided location.\n * @param {Array<'country'|'region'|'postcode'|'district'|'place'|'locality'|'neighborhood'|'address'|'poi'|'poi.landmark'>} [config.types] - Filter results by feature types.\n * @param {boolean} [config.autocomplete=true] - Return autocomplete results or not.\n * @param {BoundingBox} [config.bbox] - Limit results to a bounding box.\n * @param {number} [config.limit=5] - Limit the number of results returned.\n * @param {Array<string>} [config.language] - Specify the language to use for response text and, for forward geocoding, query result weighting.\n *  Options are [IETF language tags](https://en.wikipedia.org/wiki/IETF_language_tag) comprised of a mandatory\n *  [ISO 639-1 language code](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes) and optionally one or more IETF subtags for country or script.\n * @param {boolean} [config.routing=false] - Specify whether to request additional metadata about the recommended navigation destination. Only applicable for address features.\n * @return {MapiRequest}\n *\n * @example\n * geocodingClient.forwardGeocode({\n *   query: 'Paris, France',\n *   limit: 2\n * })\n *   .send()\n *   .then(response => {\n *     const match = response.body;\n *   });\n *\n * @example\n * // geocoding with proximity\n * geocodingClient.forwardGeocode({\n *   query: 'Paris, France',\n *   proximity: [-95.4431142, 33.6875431]\n * })\n *   .send()\n *   .then(response => {\n *     const match = response.body;\n *   });\n *\n * // geocoding with countries\n * geocodingClient.forwardGeocode({\n *   query: 'Paris, France',\n *   countries: ['fr']\n * })\n *   .send()\n *   .then(response => {\n *     const match = response.body;\n *   });\n *\n * // geocoding with bounding box\n * geocodingClient.forwardGeocode({\n *   query: 'Paris, France',\n *   bbox: [2.14, 48.72, 2.55, 48.96]\n * })\n *   .send()\n *   .then(response => {\n *     const match = response.body;\n *   });\n */\nGeocoding.forwardGeocode = function(config) {\n  v.assertShape({\n    query: v.required(v.string),\n    mode: v.oneOf('mapbox.places', 'mapbox.places-permanent'),\n    countries: v.arrayOf(v.string),\n    proximity: v.coordinates,\n    types: v.arrayOf(v.oneOf(featureTypes)),\n    autocomplete: v.boolean,\n    bbox: v.arrayOf(v.number),\n    limit: v.number,\n    language: v.arrayOf(v.string),\n    routing: v.boolean\n  })(config);\n\n  config.mode = config.mode || 'mapbox.places';\n\n  var query = stringifyBooleans(\n    xtend(\n      { country: config.countries },\n      pick(config, [\n        'proximity',\n        'types',\n        'autocomplete',\n        'bbox',\n        'limit',\n        'language',\n        'routing'\n      ])\n    )\n  );\n\n  return this.client.createRequest({\n    method: 'GET',\n    path: '/geocoding/v5/:mode/:query.json',\n    params: pick(config, ['mode', 'query']),\n    query: query\n  });\n};\n\n/**\n * Search for places near coordinates.\n *\n * See the [public documentation](https://docs.mapbox.com/api/search/#reverse-geocoding).\n *\n * @param {Object} config\n * @param {Coordinates} config.query - Coordinates at which features will be searched.\n * @param {'mapbox.places'|'mapbox.places-permanent'} [config.mode=\"mapbox.places\"] - Either `mapbox.places` for ephemeral geocoding, or `mapbox.places-permanent` for storing results and batch geocoding.\n * @param {Array<string>} [config.countries] - Limits results to the specified countries.\n *   Each item in the array should be an [ISO 3166 alpha 2 country code](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).\n * @param {Array<'country'|'region'|'postcode'|'district'|'place'|'locality'|'neighborhood'|'address'|'poi'|'poi.landmark'>} [config.types] - Filter results by feature types.\n * @param {BoundingBox} [config.bbox] - Limit results to a bounding box.\n * @param {number} [config.limit=1] - Limit the number of results returned. If using this option, you must provide a single item for `types`.\n * @param {Array<string>} [config.language] - Specify the language to use for response text and, for forward geocoding, query result weighting.\n *  Options are [IETF language tags](https://en.wikipedia.org/wiki/IETF_language_tag) comprised of a mandatory\n *  [ISO 639-1 language code](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes) and optionally one or more IETF subtags for country or script.\n * @param {'distance'|'score'} [config.reverseMode='distance'] - Set the factors that are used to sort nearby results.\n * @param {boolean} [config.routing=false] - Specify whether to request additional metadata about the recommended navigation destination. Only applicable for address features.\n * @return {MapiRequest}\n *\n * @example\n * geocodingClient.reverseGeocode({\n *   query: [-95.4431142, 33.6875431]\n * })\n *   .send()\n *   .then(response => {\n *     // GeoJSON document with geocoding matches\n *     const match = response.body;\n *   });\n */\nGeocoding.reverseGeocode = function(config) {\n  v.assertShape({\n    query: v.required(v.coordinates),\n    mode: v.oneOf('mapbox.places', 'mapbox.places-permanent'),\n    countries: v.arrayOf(v.string),\n    types: v.arrayOf(v.oneOf(featureTypes)),\n    bbox: v.arrayOf(v.number),\n    limit: v.number,\n    language: v.arrayOf(v.string),\n    reverseMode: v.oneOf('distance', 'score'),\n    routing: v.boolean\n  })(config);\n\n  config.mode = config.mode || 'mapbox.places';\n\n  var query = stringifyBooleans(\n    xtend(\n      { country: config.countries },\n      pick(config, [\n        'country',\n        'types',\n        'bbox',\n        'limit',\n        'language',\n        'reverseMode',\n        'routing'\n      ])\n    )\n  );\n\n  return this.client.createRequest({\n    method: 'GET',\n    path: '/geocoding/v5/:mode/:query.json',\n    params: pick(config, ['mode', 'query']),\n    query: query\n  });\n};\n\nmodule.exports = createServiceFactory(Geocoding);\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/services/geocoding.js","'use strict';\n\nvar MapiClient = require('../../lib/classes/mapi-client');\n// This will create the environment-appropriate client.\nvar createClient = require('../../lib/client');\n\nfunction createServiceFactory(ServicePrototype) {\n  return function(clientOrConfig) {\n    var client;\n    if (MapiClient.prototype.isPrototypeOf(clientOrConfig)) {\n      client = clientOrConfig;\n    } else {\n      client = createClient(clientOrConfig);\n    }\n    var service = Object.create(ServicePrototype);\n    service.client = client;\n    return service;\n  };\n}\n\nmodule.exports = createServiceFactory;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/services/service-helpers/create-service-factory.js","'use strict';\n\nfunction objectMap(obj, cb) {\n  return Object.keys(obj).reduce(function(result, key) {\n    result[key] = cb(key, obj[key]);\n    return result;\n  }, {});\n}\n\nmodule.exports = objectMap;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/services/service-helpers/object-map.js","'use strict';\n\n/**\n * Create a new object by picking properties off an existing object.\n * The second param can be overloaded as a callback for\n * more fine grained picking of properties.\n * @param {Object} source\n * @param {Array<string>|function(string, Object):boolean} keys\n * @returns {Object}\n */\nfunction pick(source, keys) {\n  var filter = function(key, val) {\n    return keys.indexOf(key) !== -1 && val !== undefined;\n  };\n\n  if (typeof keys === 'function') {\n    filter = keys;\n  }\n\n  return Object.keys(source)\n    .filter(function(key) {\n      return filter(key, source[key]);\n    })\n    .reduce(function(result, key) {\n      result[key] = source[key];\n      return result;\n    }, {});\n}\n\nmodule.exports = pick;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/services/service-helpers/pick.js","'use strict';\n\nvar objectMap = require('./object-map');\n\n/**\n * Stringify all the boolean values in an object, so true becomes \"true\".\n *\n * @param {Object} obj\n * @returns {Object}\n */\nfunction stringifyBoolean(obj) {\n  return objectMap(obj, function(_, value) {\n    return typeof value === 'boolean' ? JSON.stringify(value) : value;\n  });\n}\n\nmodule.exports = stringifyBoolean;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/services/service-helpers/stringify-booleans.js","'use strict';\n\nvar xtend = require('xtend');\nvar v = require('@mapbox/fusspot');\n\nfunction file(value) {\n  // If we're in a browser so Blob is available, the file must be that.\n  // In Node, however, it could be a filepath or a pipeable (Readable) stream.\n  if (typeof window !== 'undefined') {\n    if (value instanceof global.Blob || value instanceof global.ArrayBuffer) {\n      return;\n    }\n    return 'Blob or ArrayBuffer';\n  }\n  if (typeof value === 'string' || value.pipe !== undefined) {\n    return;\n  }\n  return 'Filename or Readable stream';\n}\n\nfunction assertShape(validatorObj, apiName) {\n  return v.assert(v.strictShape(validatorObj), apiName);\n}\n\nfunction date(value) {\n  var msg = 'date';\n  if (typeof value === 'boolean') {\n    return msg;\n  }\n  try {\n    var date = new Date(value);\n    if (date.getTime && isNaN(date.getTime())) {\n      return msg;\n    }\n  } catch (e) {\n    return msg;\n  }\n}\n\nfunction coordinates(value) {\n  return v.tuple(v.number, v.number)(value);\n}\n\nmodule.exports = xtend(v, {\n  file: file,\n  date: date,\n  coordinates: coordinates,\n  assertShape: assertShape\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/services/service-helpers/validator.js","module.exports = require('./lib/axios');\n\n\n// WEBPACK FOOTER //\n// ./~/axios/index.js","import axios from 'axios';\nimport {$} from './bling.js';\n\nfunction loadPlaces(lat=43.2, lng=-79.8){\n\n\n\tconst mapOptions = {\n\t\tcenter: [lng, lat],\n\t\tzoom:12,\n\t\tstyle: 'mapbox://styles/mapbox/light-v10',\n\t}\n\n\tmapboxgl.accessToken = 'pk.eyJ1IjoiamVuYXJvOTQiLCJhIjoiY2pzbnBpajh3MGV5MTQ0cnJ3dmJlczFqbiJ9.Aktxa1EqTzpy7yEaBDM1xQ'; // replace this with your access token\n\tmapOptions.container = $('#map');\n\n\n\tconst map = new mapboxgl.Map(mapOptions);\n\n\n\n\taxios.get(`/api/stores/near?lat=${lat}&lng=${lng}`)\n\t.then(res => {\n\t\tconst places = res.data;\n\t\tif(!places.length){\n\t\t\talert('no places found');\n\t\t\treturn;\n\t\t}\n\n\t\tconst bounds = new mapboxgl.LngLatBounds();\n\n\t\tplaces.map(place => {\n\t\t\tconst html = `\n\t\t\t\t<div class=\"popup\">\n\t\t\t\t\t<a href=\"/store/${place.slug}\">\n\t\t\t\t\t\t<img src=\"/uploads/${place.photo || 'store.png'}\" alt=\"${place.name}\" width=\"100%\">\n\t\t\t\t\t\t<p><strong>${place.name}</strong> - <small>${place.location.address}</small></p>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t\tconst marker = new mapboxgl.Marker()\n\t\t\t.setLngLat(place.location.coordinates)\n\t\t\t.setPopup(new mapboxgl.Popup().setHTML(html))\n\t\t\t.addTo(map);\n\t\t\tmarker.place = place;\n\t\t\tbounds.extend(place.location.coordinates)\n\t\t\treturn marker;\n\t\t})\n\t\tmap.fitBounds(bounds, {padding:100});\n\n\t})\n}\n\nexport default loadPlaces;\n\n\n// WEBPACK FOOTER //\n// ./public/javascripts/modules/loadPlaces.js","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(utils.merge(defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/axios.js","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n// WEBPACK FOOTER //\n// ./~/node-libs-browser/~/process/browser.js","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/cancel/CancelToken.js","'use strict';\n\nvar defaults = require('./../defaults');\nvar utils = require('./../utils');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar isAbsoluteURL = require('./../helpers/isAbsoluteURL');\nvar combineURLs = require('./../helpers/combineURLs');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = utils.merge({\n      url: arguments[0]\n    }, arguments[1]);\n  }\n\n  config = utils.merge(defaults, this.defaults, { method: 'get' }, config);\n\n  // Support baseURL config\n  if (config.baseURL && !isAbsoluteURL(config.url)) {\n    config.url = combineURLs(config.baseURL, config.url);\n  }\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/core/Axios.js","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/core/InterceptorManager.js","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers || {}\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/core/dispatchRequest.js","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n @ @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n  error.response = response;\n  return error;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/core/enhanceError.js","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  // Note: status is not exposed by XDomainRequest\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response\n    ));\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/core/settle.js","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/core/transformData.js","'use strict';\n\n// btoa polyfill for IE<10 courtesy https://github.com/davidchambers/Base64.js\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nfunction E() {\n  this.message = 'String contains an invalid character';\n}\nE.prototype = new Error;\nE.prototype.code = 5;\nE.prototype.name = 'InvalidCharacterError';\n\nfunction btoa(input) {\n  var str = String(input);\n  var output = '';\n  for (\n    // initialize result and counter\n    var block, charCode, idx = 0, map = chars;\n    // if the next str index does not exist:\n    //   change the mapping table to \"=\"\n    //   check if d has no fractional digits\n    str.charAt(idx | 0) || (map = '=', idx % 1);\n    // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n    output += map.charAt(63 & block >> 8 - idx % 1 * 8)\n  ) {\n    charCode = str.charCodeAt(idx += 3 / 4);\n    if (charCode > 0xFF) {\n      throw new E();\n    }\n    block = block << 8 | charCode;\n  }\n  return output;\n}\n\nmodule.exports = btoa;\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/helpers/btoa.js","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%40/gi, '@').\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      }\n\n      if (!utils.isArray(val)) {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/helpers/buildURL.js","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '');\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/helpers/combineURLs.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/global.js","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n  (function standardBrowserEnv() {\n    return {\n      write: function write(name, value, expires, path, domain, secure) {\n        var cookie = [];\n        cookie.push(name + '=' + encodeURIComponent(value));\n\n        if (utils.isNumber(expires)) {\n          cookie.push('expires=' + new Date(expires).toGMTString());\n        }\n\n        if (utils.isString(path)) {\n          cookie.push('path=' + path);\n        }\n\n        if (utils.isString(domain)) {\n          cookie.push('domain=' + domain);\n        }\n\n        if (secure === true) {\n          cookie.push('secure');\n        }\n\n        document.cookie = cookie.join('; ');\n      },\n\n      read: function read(name) {\n        var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n        return (match ? decodeURIComponent(match[3]) : null);\n      },\n\n      remove: function remove(name) {\n        this.write(name, '', Date.now() - 86400000);\n      }\n    };\n  })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return {\n      write: function write() {},\n      read: function read() { return null; },\n      remove: function remove() {}\n    };\n  })()\n);\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/helpers/cookies.js","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/helpers/isAbsoluteURL.js","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    var msie = /(msie|trident)/i.test(navigator.userAgent);\n    var urlParsingNode = document.createElement('a');\n    var originURL;\n\n    /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      var href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n                  urlParsingNode.pathname :\n                  '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })()\n);\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/helpers/isURLSameOrigin.js","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/helpers/normalizeHeaderName.js","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/helpers/parseHeaders.js","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/helpers/spread.js","/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */\n;(function(root) {\n\n\t// Detect free variables `exports`.\n\tvar freeExports = typeof exports == 'object' && exports;\n\n\t// Detect free variable `module`.\n\tvar freeModule = typeof module == 'object' && module &&\n\t\tmodule.exports == freeExports && module;\n\n\t// Detect free variable `global`, from Node.js or Browserified code, and use\n\t// it as `root`.\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\troot = freeGlobal;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar InvalidCharacterError = function(message) {\n\t\tthis.message = message;\n\t};\n\tInvalidCharacterError.prototype = new Error;\n\tInvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\n\tvar error = function(message) {\n\t\t// Note: the error messages used throughout this file match those used by\n\t\t// the native `atob`/`btoa` implementation in Chromium.\n\t\tthrow new InvalidCharacterError(message);\n\t};\n\n\tvar TABLE = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\t// http://whatwg.org/html/common-microsyntaxes.html#space-character\n\tvar REGEX_SPACE_CHARACTERS = /[\\t\\n\\f\\r ]/g;\n\n\t// `decode` is designed to be fully compatible with `atob` as described in the\n\t// HTML Standard. http://whatwg.org/html/webappapis.html#dom-windowbase64-atob\n\t// The optimized base64-decoding algorithm used is based on @atks excellent\n\t// implementation. https://gist.github.com/atk/1020396\n\tvar decode = function(input) {\n\t\tinput = String(input)\n\t\t\t.replace(REGEX_SPACE_CHARACTERS, '');\n\t\tvar length = input.length;\n\t\tif (length % 4 == 0) {\n\t\t\tinput = input.replace(/==?$/, '');\n\t\t\tlength = input.length;\n\t\t}\n\t\tif (\n\t\t\tlength % 4 == 1 ||\n\t\t\t// http://whatwg.org/C#alphanumeric-ascii-characters\n\t\t\t/[^+a-zA-Z0-9/]/.test(input)\n\t\t) {\n\t\t\terror(\n\t\t\t\t'Invalid character: the string to be decoded is not correctly encoded.'\n\t\t\t);\n\t\t}\n\t\tvar bitCounter = 0;\n\t\tvar bitStorage;\n\t\tvar buffer;\n\t\tvar output = '';\n\t\tvar position = -1;\n\t\twhile (++position < length) {\n\t\t\tbuffer = TABLE.indexOf(input.charAt(position));\n\t\t\tbitStorage = bitCounter % 4 ? bitStorage * 64 + buffer : buffer;\n\t\t\t// Unless this is the first of a group of 4 characters\n\t\t\tif (bitCounter++ % 4) {\n\t\t\t\t// convert the first 8 bits to a single ASCII character.\n\t\t\t\toutput += String.fromCharCode(\n\t\t\t\t\t0xFF & bitStorage >> (-2 * bitCounter & 6)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t};\n\n\t// `encode` is designed to be fully compatible with `btoa` as described in the\n\t// HTML Standard: http://whatwg.org/html/webappapis.html#dom-windowbase64-btoa\n\tvar encode = function(input) {\n\t\tinput = String(input);\n\t\tif (/[^\\0-\\xFF]/.test(input)) {\n\t\t\t// Note: no need to special-case astral symbols here, as surrogates are\n\t\t\t// matched, and the input is supposed to only contain ASCII anyway.\n\t\t\terror(\n\t\t\t\t'The string to be encoded contains characters outside of the ' +\n\t\t\t\t'Latin1 range.'\n\t\t\t);\n\t\t}\n\t\tvar padding = input.length % 3;\n\t\tvar output = '';\n\t\tvar position = -1;\n\t\tvar a;\n\t\tvar b;\n\t\tvar c;\n\t\tvar d;\n\t\tvar buffer;\n\t\t// Make sure any padding is handled outside of the loop.\n\t\tvar length = input.length - padding;\n\n\t\twhile (++position < length) {\n\t\t\t// Read three bytes, i.e. 24 bits.\n\t\t\ta = input.charCodeAt(position) << 16;\n\t\t\tb = input.charCodeAt(++position) << 8;\n\t\t\tc = input.charCodeAt(++position);\n\t\t\tbuffer = a + b + c;\n\t\t\t// Turn the 24 bits into four chunks of 6 bits each, and append the\n\t\t\t// matching character for each of them to the output.\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 18 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer >> 12 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer >> 6 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer & 0x3F)\n\t\t\t);\n\t\t}\n\n\t\tif (padding == 2) {\n\t\t\ta = input.charCodeAt(position) << 8;\n\t\t\tb = input.charCodeAt(++position);\n\t\t\tbuffer = a + b;\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 10) +\n\t\t\t\tTABLE.charAt((buffer >> 4) & 0x3F) +\n\t\t\t\tTABLE.charAt((buffer << 2) & 0x3F) +\n\t\t\t\t'='\n\t\t\t);\n\t\t} else if (padding == 1) {\n\t\t\tbuffer = input.charCodeAt(position);\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 2) +\n\t\t\t\tTABLE.charAt((buffer << 4) & 0x3F) +\n\t\t\t\t'=='\n\t\t\t);\n\t\t}\n\n\t\treturn output;\n\t};\n\n\tvar base64 = {\n\t\t'encode': encode,\n\t\t'decode': decode,\n\t\t'version': '0.1.0'\n\t};\n\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine(function() {\n\t\t\treturn base64;\n\t\t});\n\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = base64;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (var key in base64) {\n\t\t\t\tbase64.hasOwnProperty(key) && (freeExports[key] = base64[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.base64 = base64;\n\t}\n\n}(this));\n\n\n\n// WEBPACK FOOTER //\n// ./~/base-64/base64.js",";(function(factory) {\n    'use strict';\n    /* global window: false, define: false, module: false */\n    var root = typeof window === 'undefined' ? null : window;\n\n    if (typeof define === 'function' && define.amd) {\n        define(function(){ return factory(root); });\n    } else if (typeof module !== 'undefined') {\n        module.exports = factory(root);\n    } else {\n        root.DOMPurify = factory(root);\n    }\n}(function factory(window) {\n    'use strict';\n\n    var DOMPurify = function(window) {\n        return factory(window);\n    };\n\n    /**\n     * Version label, exposed for easier checks\n     * if DOMPurify is up to date or not\n     */\n    DOMPurify.version = '0.8.5';\n\n    /**\n     * Array of elements that DOMPurify removed during sanitation.\n     * Empty if nothing was removed.\n     */\n    DOMPurify.removed = [];\n\n    if (!window || !window.document || window.document.nodeType !== 9) {\n        // not running in a browser, provide a factory function\n        // so that you can pass your own Window\n        DOMPurify.isSupported = false;\n        return DOMPurify;\n    }\n\n    var document = window.document;\n    var originalDocument = document;\n    var DocumentFragment = window.DocumentFragment;\n    var HTMLTemplateElement = window.HTMLTemplateElement;\n    var Node = window.Node;\n    var NodeFilter = window.NodeFilter;\n    var NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap;\n    var Text = window.Text;\n    var Comment = window.Comment;\n    var DOMParser = window.DOMParser;\n\n    // As per issue #47, the web-components registry is inherited by a\n    // new document created via createHTMLDocument. As per the spec\n    // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n    // a new empty registry is used when creating a template contents owner\n    // document, so we use that as our parent document to ensure nothing\n    // is inherited.\n    if (typeof HTMLTemplateElement === 'function') {\n        var template = document.createElement('template');\n        if (template.content && template.content.ownerDocument) {\n            document = template.content.ownerDocument;\n        }\n    }\n    var implementation = document.implementation;\n    var createNodeIterator = document.createNodeIterator;\n    var getElementsByTagName = document.getElementsByTagName;\n    var createDocumentFragment = document.createDocumentFragment;\n    var importNode = originalDocument.importNode;\n\n    var hooks = {};\n\n    /**\n     * Expose whether this browser supports running the full DOMPurify.\n     */\n    DOMPurify.isSupported =\n        typeof implementation.createHTMLDocument !== 'undefined' &&\n        document.documentMode !== 9;\n\n    /* Add properties to a lookup table */\n    var _addToSet = function(set, array) {\n        var l = array.length;\n        while (l--) {\n            if (typeof array[l] === 'string') {\n                array[l] = array[l].toLowerCase();\n            }\n            set[array[l]] = true;\n        }\n        return set;\n    };\n\n    /* Shallow clone an object */\n    var _cloneObj = function(object) {\n        var newObject = {};\n        var property;\n        for (property in object) {\n            if (object.hasOwnProperty(property)) {\n                newObject[property] = object[property];\n            }\n        }\n        return newObject;\n    };\n\n    /**\n     * We consider the elements and attributes below to be safe. Ideally\n     * don't add any new ones but feel free to remove unwanted ones.\n     */\n\n    /* allowed element names */\n    var ALLOWED_TAGS = null;\n    var DEFAULT_ALLOWED_TAGS = _addToSet({}, [\n\n        // HTML\n        'a','abbr','acronym','address','area','article','aside','audio','b',\n        'bdi','bdo','big','blink','blockquote','body','br','button','canvas',\n        'caption','center','cite','code','col','colgroup','content','data',\n        'datalist','dd','decorator','del','details','dfn','dir','div','dl','dt',\n        'element','em','fieldset','figcaption','figure','font','footer','form',\n        'h1','h2','h3','h4','h5','h6','head','header','hgroup','hr','html','i',\n        'img','input','ins','kbd','label','legend','li','main','map','mark',\n        'marquee','menu','menuitem','meter','nav','nobr','ol','optgroup',\n        'option','output','p','pre','progress','q','rp','rt','ruby','s','samp',\n        'section','select','shadow','small','source','spacer','span','strike',\n        'strong','style','sub','summary','sup','table','tbody','td','template',\n        'textarea','tfoot','th','thead','time','tr','track','tt','u','ul','var',\n        'video','wbr',\n\n        // SVG\n        'svg','altglyph','altglyphdef','altglyphitem','animatecolor',\n        'animatemotion','animatetransform','circle','clippath','defs','desc',\n        'ellipse','filter','font','g','glyph','glyphref','hkern','image','line',\n        'lineargradient','marker','mask','metadata','mpath','path','pattern',\n        'polygon','polyline','radialgradient','rect','stop','switch','symbol',\n        'text','textpath','title','tref','tspan','view','vkern',\n\n        // SVG Filters\n        'feBlend','feColorMatrix','feComponentTransfer','feComposite',\n        'feConvolveMatrix','feDiffuseLighting','feDisplacementMap',\n        'feFlood','feFuncA','feFuncB','feFuncG','feFuncR','feGaussianBlur',\n        'feMerge','feMergeNode','feMorphology','feOffset',\n        'feSpecularLighting','feTile','feTurbulence',\n\n        //MathML\n        'math','menclose','merror','mfenced','mfrac','mglyph','mi','mlabeledtr',\n        'mmuliscripts','mn','mo','mover','mpadded','mphantom','mroot','mrow',\n        'ms','mpspace','msqrt','mystyle','msub','msup','msubsup','mtable','mtd',\n        'mtext','mtr','munder','munderover',\n\n        //Text\n        '#text'\n    ]);\n\n    /* Allowed attribute names */\n    var ALLOWED_ATTR = null;\n    var DEFAULT_ALLOWED_ATTR = _addToSet({}, [\n\n        // HTML\n        'accept','action','align','alt','autocomplete','background','bgcolor',\n        'border','cellpadding','cellspacing','checked','cite','class','clear','color',\n        'cols','colspan','coords','datetime','default','dir','disabled',\n        'download','enctype','face','for','headers','height','hidden','high','href',\n        'hreflang','id','ismap','label','lang','list','loop', 'low','max',\n        'maxlength','media','method','min','multiple','name','noshade','novalidate',\n        'nowrap','open','optimum','pattern','placeholder','poster','preload','pubdate',\n        'radiogroup','readonly','rel','required','rev','reversed','rows',\n        'rowspan','spellcheck','scope','selected','shape','size','span',\n        'srclang','start','src','step','style','summary','tabindex','title',\n        'type','usemap','valign','value','width','xmlns',\n\n        // SVG\n        'accent-height','accumulate','additivive','alignment-baseline',\n        'ascent','attributename','attributetype','azimuth','basefrequency',\n        'baseline-shift','begin','bias','by','clip','clip-path','clip-rule',\n        'color','color-interpolation','color-interpolation-filters','color-profile',\n        'color-rendering','cx','cy','d','dx','dy','diffuseconstant','direction',\n        'display','divisor','dur','edgemode','elevation','end','fill','fill-opacity',\n        'fill-rule','filter','flood-color','flood-opacity','font-family','font-size',\n        'font-size-adjust','font-stretch','font-style','font-variant','font-weight',\n        'fx', 'fy','g1','g2','glyph-name','glyphref','gradientunits','gradienttransform',\n        'image-rendering','in','in2','k','k1','k2','k3','k4','kerning','keypoints',\n        'keysplines','keytimes','lengthadjust','letter-spacing','kernelmatrix',\n        'kernelunitlength','lighting-color','local','marker-end','marker-mid',\n        'marker-start','markerheight','markerunits','markerwidth','maskcontentunits',\n        'maskunits','max','mask','mode','min','numoctaves','offset','operator',\n        'opacity','order','orient','orientation','origin','overflow','paint-order',\n        'path','pathlength','patterncontentunits','patterntransform','patternunits',\n        'points','preservealpha','r','rx','ry','radius','refx','refy','repeatcount',\n        'repeatdur','restart','result','rotate','scale','seed','shape-rendering',\n        'specularconstant','specularexponent','spreadmethod','stddeviation','stitchtiles',\n        'stop-color','stop-opacity','stroke-dasharray','stroke-dashoffset','stroke-linecap',\n        'stroke-linejoin','stroke-miterlimit','stroke-opacity','stroke','stroke-width',\n        'surfacescale','targetx','targety','transform','text-anchor','text-decoration',\n        'text-rendering','textlength','u1','u2','unicode','values','viewbox',\n        'visibility','vert-adv-y','vert-origin-x','vert-origin-y','word-spacing',\n        'wrap','writing-mode','xchannelselector','ychannelselector','x','x1','x2',\n        'y','y1','y2','z','zoomandpan',\n\n        // MathML\n        'accent','accentunder','bevelled','close','columnsalign','columnlines',\n        'columnspan','denomalign','depth','display','displaystyle','fence',\n        'frame','largeop','length','linethickness','lspace','lquote',\n        'mathbackground','mathcolor','mathsize','mathvariant','maxsize',\n        'minsize','movablelimits','notation','numalign','open','rowalign',\n        'rowlines','rowspacing','rowspan','rspace','rquote','scriptlevel',\n        'scriptminsize','scriptsizemultiplier','selection','separator',\n        'separators','stretchy','subscriptshift','supscriptshift','symmetric',\n        'voffset',\n\n        // XML\n        'xlink:href','xml:id','xlink:title','xml:space','xmlns:xlink'\n    ]);\n\n    /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n    var FORBID_TAGS = null;\n\n    /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n    var FORBID_ATTR = null;\n\n    /* Decide if custom data attributes are okay */\n    var ALLOW_DATA_ATTR = true;\n\n    /* Decide if unknown protocols are okay */\n    var ALLOW_UNKNOWN_PROTOCOLS = false;\n\n    /* Output should be safe for jQuery's $() factory? */\n    var SAFE_FOR_JQUERY = false;\n\n    /* Output should be safe for common template engines.\n     * This means, DOMPurify removes data attributes, mustaches and ERB\n     */\n    var SAFE_FOR_TEMPLATES = false;\n\n    /* Specify template detection regex for SAFE_FOR_TEMPLATES mode */\n    var MUSTACHE_EXPR = /\\{\\{[\\s\\S]*|[\\s\\S]*\\}\\}/gm;\n    var ERB_EXPR = /<%[\\s\\S]*|[\\s\\S]*%>/gm;\n\n    /* Decide if document with <html>... should be returned */\n    var WHOLE_DOCUMENT = false;\n\n    /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html string.\n     * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n     */\n    var RETURN_DOM = false;\n\n    /* Decide if a DOM `DocumentFragment` should be returned, instead of a html string */\n    var RETURN_DOM_FRAGMENT = false;\n\n    /* If `RETURN_DOM` or `RETURN_DOM_FRAGMENT` is enabled, decide if the returned DOM\n     * `Node` is imported into the current `Document`. If this flag is not enabled the\n     * `Node` will belong (its ownerDocument) to a fresh `HTMLDocument`, created by\n     * DOMPurify. */\n    var RETURN_DOM_IMPORT = false;\n\n    /* Output should be free from DOM clobbering attacks? */\n    var SANITIZE_DOM = true;\n\n    /* Keep element content when removing element? */\n    var KEEP_CONTENT = true;\n\n    /* Tags to ignore content of when KEEP_CONTENT is true */\n    var FORBID_CONTENTS = _addToSet({}, [\n        'audio', 'head', 'math', 'script', 'style', 'svg', 'video'\n    ]);\n\n    /* Tags that are safe for data: URIs */\n    var DATA_URI_TAGS = _addToSet({}, [\n        'audio', 'video', 'img', 'source'\n    ]);\n\n    /* Attributes safe for values like \"javascript:\" */\n    var URI_SAFE_ATTRIBUTES = _addToSet({}, [\n        'alt','class','for','id','label','name','pattern','placeholder',\n        'summary','title','value','style','xmlns'\n    ]);\n\n    /* Keep a reference to config to pass to hooks */\n    var CONFIG = null;\n\n    /* Ideally, do not touch anything below this line */\n    /* ______________________________________________ */\n\n    var formElement = document.createElement('form');\n\n    /**\n     * _parseConfig\n     *\n     * @param  optional config literal\n     */\n    var _parseConfig = function(cfg) {\n        /* Shield configuration object from tampering */\n        if (typeof cfg !== 'object') {\n            cfg = {};\n        }\n\n        /* Set configuration parameters */\n        ALLOWED_TAGS = 'ALLOWED_TAGS' in cfg ?\n            _addToSet({}, cfg.ALLOWED_TAGS) : DEFAULT_ALLOWED_TAGS;\n        ALLOWED_ATTR = 'ALLOWED_ATTR' in cfg ?\n            _addToSet({}, cfg.ALLOWED_ATTR) : DEFAULT_ALLOWED_ATTR;\n        FORBID_TAGS = 'FORBID_TAGS' in cfg ?\n            _addToSet({}, cfg.FORBID_TAGS) : {};\n        FORBID_ATTR = 'FORBID_ATTR' in cfg ?\n            _addToSet({}, cfg.FORBID_ATTR) : {};\n        ALLOW_DATA_ATTR     = cfg.ALLOW_DATA_ATTR     !== false; // Default true\n        ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n        SAFE_FOR_JQUERY     = cfg.SAFE_FOR_JQUERY     ||  false; // Default false\n        SAFE_FOR_TEMPLATES  = cfg.SAFE_FOR_TEMPLATES  ||  false; // Default false\n        WHOLE_DOCUMENT      = cfg.WHOLE_DOCUMENT      ||  false; // Default false\n        RETURN_DOM          = cfg.RETURN_DOM          ||  false; // Default false\n        RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT ||  false; // Default false\n        RETURN_DOM_IMPORT   = cfg.RETURN_DOM_IMPORT   ||  false; // Default false\n        SANITIZE_DOM        = cfg.SANITIZE_DOM        !== false; // Default true\n        KEEP_CONTENT        = cfg.KEEP_CONTENT        !== false; // Default true\n\n        if (SAFE_FOR_TEMPLATES) {\n            ALLOW_DATA_ATTR = false;\n        }\n\n        if (RETURN_DOM_FRAGMENT) {\n            RETURN_DOM = true;\n        }\n\n        /* Merge configuration parameters */\n        if (cfg.ADD_TAGS) {\n            if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n                ALLOWED_TAGS = _cloneObj(ALLOWED_TAGS);\n            }\n            _addToSet(ALLOWED_TAGS, cfg.ADD_TAGS);\n        }\n        if (cfg.ADD_ATTR) {\n            if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n                ALLOWED_ATTR = _cloneObj(ALLOWED_ATTR);\n            }\n            _addToSet(ALLOWED_ATTR, cfg.ADD_ATTR);\n        }\n        if (cfg.ADD_URI_SAFE_ATTR) {\n            _addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR);\n        }\n\n        /* Add #text in case KEEP_CONTENT is set to true */\n        if (KEEP_CONTENT) { ALLOWED_TAGS['#text'] = true; }\n\n        // Prevent further manipulation of configuration.\n        // Not available in IE8, Safari 5, etc.\n        if (Object && 'freeze' in Object) { Object.freeze(cfg); }\n\n        CONFIG = cfg;\n    };\n\n   /**\n     * _forceRemove\n     *\n     * @param  a DOM node\n     */\n    var _forceRemove = function(node) {\n        DOMPurify.removed.push({element: node});\n        try {\n            node.parentNode.removeChild(node);\n        } catch (e) {\n            node.outerHTML = '';\n        }\n    };\n\n   /**\n     * _removeAttribute\n     *\n     * @param  an Attribute name\n     * @param  a DOM node\n     */\n    var _removeAttribute = function(name, node) {\n        DOMPurify.removed.push({\n            attribute: node.getAttributeNode(name),\n            from: node\n        });\n        node.removeAttribute(name);\n    };\n\n   /**\n     * _initDocument\n     *\n     * @param  a string of dirty markup\n     * @return a DOM, filled with the dirty markup\n     */\n    var _initDocument = function(dirty) {\n        /* Create a HTML document using DOMParser */\n        var doc, body;\n        try {\n            doc = new DOMParser().parseFromString(dirty, 'text/html');\n        } catch (e) {}\n\n        /* Some browsers throw, some browsers return null for the code above\n           DOMParser with text/html support is only in very recent browsers.\n           See #159 why the check here is extra-thorough */\n        if (!doc || !doc.documentElement) {\n            doc = implementation.createHTMLDocument('');\n            body = doc.body;\n            body.parentNode.removeChild(body.parentNode.firstElementChild);\n            body.outerHTML = dirty;\n        }\n\n        /* Work on whole document or just its body */\n        if (typeof doc.getElementsByTagName === 'function') {\n            return doc.getElementsByTagName(\n                WHOLE_DOCUMENT ? 'html' : 'body')[0];\n        }\n        return getElementsByTagName.call(doc,\n            WHOLE_DOCUMENT ? 'html' : 'body')[0];\n    };\n\n    /**\n     * _createIterator\n     *\n     * @param  document/fragment to create iterator for\n     * @return iterator instance\n     */\n    var _createIterator = function(root) {\n        return createNodeIterator.call(root.ownerDocument || root,\n            root,\n            NodeFilter.SHOW_ELEMENT\n            | NodeFilter.SHOW_COMMENT\n            | NodeFilter.SHOW_TEXT,\n            function() { return NodeFilter.FILTER_ACCEPT; },\n            false\n        );\n    };\n\n    /**\n     * _isClobbered\n     *\n     * @param  element to check for clobbering attacks\n     * @return true if clobbered, false if safe\n     */\n    var _isClobbered = function(elm) {\n        if (elm instanceof Text || elm instanceof Comment) {\n            return false;\n        }\n        if (  typeof elm.nodeName !== 'string'\n           || typeof elm.textContent !== 'string'\n           || typeof elm.removeChild !== 'function'\n           || !(elm.attributes instanceof NamedNodeMap)\n           || typeof elm.removeAttribute !== 'function'\n           || typeof elm.setAttribute !== 'function'\n        ) {\n            return true;\n        }\n        return false;\n    };\n\n    /**\n     * _isNode\n     *\n     * @param object to check whether it's a DOM node\n     * @return true is object is a DOM node\n     */\n    var _isNode = function(obj) {\n        return (\n            typeof Node === \"object\" ? obj instanceof Node : obj\n                && typeof obj === \"object\" && typeof obj.nodeType === \"number\"\n                && typeof obj.nodeName===\"string\"\n        );\n    };\n\n    /**\n     * _sanitizeElements\n     *\n     * @protect nodeName\n     * @protect textContent\n     * @protect removeChild\n     *\n     * @param   node to check for permission to exist\n     * @return  true if node was killed, false if left alive\n     */\n    var _sanitizeElements = function(currentNode) {\n        var tagName, content;\n        /* Execute a hook if present */\n        _executeHook('beforeSanitizeElements', currentNode, null);\n\n        /* Check if element is clobbered or can clobber */\n        if (_isClobbered(currentNode)) {\n            _forceRemove(currentNode);\n            return true;\n        }\n\n        /* Now let's check the element's type and name */\n        tagName = currentNode.nodeName.toLowerCase();\n\n        /* Execute a hook if present */\n        _executeHook('uponSanitizeElement', currentNode, {\n            tagName: tagName,\n            allowedTags: ALLOWED_TAGS\n        });\n\n        /* Remove element if anything forbids its presence */\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n            /* Keep content except for black-listed elements */\n            if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]\n                    && typeof currentNode.insertAdjacentHTML === 'function') {\n                try {\n                    currentNode.insertAdjacentHTML('AfterEnd', currentNode.innerHTML);\n                } catch (e) {}\n            }\n            _forceRemove(currentNode);\n            return true;\n        }\n\n        /* Convert markup to cover jQuery behavior */\n        if (SAFE_FOR_JQUERY && !currentNode.firstElementChild &&\n                (!currentNode.content || !currentNode.content.firstElementChild) &&\n                /</g.test(currentNode.textContent)) {\n            DOMPurify.removed.push({element: currentNode.cloneNode()});\n            currentNode.innerHTML = currentNode.textContent.replace(/</g, '&lt;');\n        }\n\n        /* Sanitize element content to be template-safe */\n        if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n            /* Get the element's text content */\n            content = currentNode.textContent;\n            content = content.replace(MUSTACHE_EXPR, ' ');\n            content = content.replace(ERB_EXPR, ' ');\n            if (currentNode.textContent !== content) {\n                DOMPurify.removed.push({element: currentNode.cloneNode()});\n                currentNode.textContent = content;\n            }\n        }\n\n        /* Execute a hook if present */\n        _executeHook('afterSanitizeElements', currentNode, null);\n\n        return false;\n    };\n\n    var DATA_ATTR = /^data-[\\-\\w.\\u00B7-\\uFFFF]/;\n    var IS_ALLOWED_URI = /^(?:(?:(?:f|ht)tps?|mailto|tel):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i;\n    var IS_SCRIPT_OR_DATA = /^(?:\\w+script|data):/i;\n    /* This needs to be extensive thanks to Webkit/Blink's behavior */\n    var ATTR_WHITESPACE = /[\\x00-\\x20\\xA0\\u1680\\u180E\\u2000-\\u2029\\u205f\\u3000]/g;\n\n    /**\n     * _sanitizeAttributes\n     *\n     * @protect attributes\n     * @protect nodeName\n     * @protect removeAttribute\n     * @protect setAttribute\n     *\n     * @param   node to sanitize\n     * @return  void\n     */\n    var _sanitizeAttributes = function(currentNode) {\n        var attr, name, value, lcName, idAttr, attributes, hookEvent, l;\n        /* Execute a hook if present */\n        _executeHook('beforeSanitizeAttributes', currentNode, null);\n\n        attributes = currentNode.attributes;\n\n        /* Check if we have attributes; if not we might have a text node */\n        if (!attributes) { return; }\n\n        hookEvent = {\n            attrName: '',\n            attrValue: '',\n            keepAttr: true,\n            allowedAttributes: ALLOWED_ATTR\n        };\n        l = attributes.length;\n\n        /* Go backwards over all attributes; safely remove bad ones */\n        while (l--) {\n            attr = attributes[l];\n            name = attr.name;\n            value = attr.value.trim();\n            lcName = name.toLowerCase();\n\n            /* Execute a hook if present */\n            hookEvent.attrName = lcName;\n            hookEvent.attrValue = value;\n            hookEvent.keepAttr = true;\n            _executeHook('uponSanitizeAttribute', currentNode, hookEvent );\n            value = hookEvent.attrValue;\n\n            /* Remove attribute */\n            // Safari (iOS + Mac), last tested v8.0.5, crashes if you try to\n            // remove a \"name\" attribute from an <img> tag that has an \"id\"\n            // attribute at the time.\n            if (lcName === 'name'  &&\n                    currentNode.nodeName === 'IMG' && attributes.id) {\n                idAttr = attributes.id;\n                attributes = Array.prototype.slice.apply(attributes);\n                _removeAttribute('id', currentNode);\n                _removeAttribute(name, currentNode);\n                if (attributes.indexOf(idAttr) > l) {\n                    currentNode.setAttribute('id', idAttr.value);\n                }\n            } else {\n                // This avoids a crash in Safari v9.0 with double-ids.\n                // The trick is to first set the id to be empty and then to\n                // remove the attriubute\n                if (name === 'id') {\n                    currentNode.setAttribute(name, '');\n                }\n                _removeAttribute(name, currentNode);\n            }\n\n            /* Did the hooks approve of the attribute? */\n            if (!hookEvent.keepAttr) {\n                continue;\n            }\n\n            /* Make sure attribute cannot clobber */\n            if (SANITIZE_DOM &&\n                    (lcName === 'id' || lcName === 'name') &&\n                    (value in window || value in document || value in formElement)) {\n                continue;\n            }\n\n            /* Sanitize attribute content to be template-safe */\n            if (SAFE_FOR_TEMPLATES) {\n                value = value.replace(MUSTACHE_EXPR, ' ');\n                value = value.replace(ERB_EXPR, ' ');\n            }\n\n            /* Allow valid data-* attributes: At least one character after \"-\"\n               (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n               XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n               We don't need to check the value; it's always URI safe. */\n            if (ALLOW_DATA_ATTR && DATA_ATTR.test(lcName)) {\n                // This attribute is safe\n            }\n            /* Otherwise, check the name is permitted */\n            else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n                continue;\n            }\n            /* Check value is safe. First, is attr inert? If so, is safe */\n            else if (URI_SAFE_ATTRIBUTES[lcName]) {\n                // This attribute is safe\n            }\n            /* Check no script, data or unknown possibly unsafe URI\n               unless we know URI values are safe for that attribute */\n            else if (IS_ALLOWED_URI.test(value.replace(ATTR_WHITESPACE,''))) {\n                // This attribute is safe\n            }\n            /* Keep image data URIs alive if src is allowed */\n            else if (\n                lcName === 'src' &&\n                value.indexOf('data:') === 0 &&\n                DATA_URI_TAGS[currentNode.nodeName.toLowerCase()]) {\n                // This attribute is safe\n            }\n            /* Allow unknown protocols: This provides support for links that\n               are handled by protocol handlers which may be unknown ahead of\n               time, e.g. fb:, spotify: */\n            else if (\n                ALLOW_UNKNOWN_PROTOCOLS &&\n                !IS_SCRIPT_OR_DATA.test(value.replace(ATTR_WHITESPACE,''))) {\n                // This attribute is safe\n            }\n            /* Check for binary attributes */\n            else if (!value) {\n                // binary attributes are safe at this point\n            }\n            /* Anything else, presume unsafe, do not add it back */\n            else {\n                continue;\n            }\n\n            /* Handle invalid data-* attribute set by try-catching it */\n            try {\n                currentNode.setAttribute(name, value);\n                DOMPurify.removed.pop();\n            } catch (e) {}\n        }\n\n        /* Execute a hook if present */\n        _executeHook('afterSanitizeAttributes', currentNode, null);\n    };\n\n    /**\n     * _sanitizeShadowDOM\n     *\n     * @param  fragment to iterate over recursively\n     * @return void\n     */\n    var _sanitizeShadowDOM = function(fragment) {\n        var shadowNode;\n        var shadowIterator = _createIterator(fragment);\n\n        /* Execute a hook if present */\n        _executeHook('beforeSanitizeShadowDOM', fragment, null);\n\n        while ( (shadowNode = shadowIterator.nextNode()) ) {\n            /* Execute a hook if present */\n            _executeHook('uponSanitizeShadowNode', shadowNode, null);\n\n            /* Sanitize tags and elements */\n            if (_sanitizeElements(shadowNode)) {\n                continue;\n            }\n\n            /* Deep shadow DOM detected */\n            if (shadowNode.content instanceof DocumentFragment) {\n                _sanitizeShadowDOM(shadowNode.content);\n            }\n\n            /* Check attributes, sanitize if necessary */\n            _sanitizeAttributes(shadowNode);\n        }\n\n        /* Execute a hook if present */\n        _executeHook('afterSanitizeShadowDOM', fragment, null);\n    };\n\n    /**\n     * _executeHook\n     * Execute user configurable hooks\n     *\n     * @param  {String} entryPoint  Name of the hook's entry point\n     * @param  {Node} currentNode\n     */\n    var _executeHook = function(entryPoint, currentNode, data) {\n        if (!hooks[entryPoint]) { return; }\n\n        hooks[entryPoint].forEach(function(hook) {\n            hook.call(DOMPurify, currentNode, data, CONFIG);\n        });\n    };\n\n    /**\n     * sanitize\n     * Public method providing core sanitation functionality\n     *\n     * @param {String|Node} dirty string or DOM node\n     * @param {Object} configuration object\n     */\n    DOMPurify.sanitize = function(dirty, cfg) {\n        var body, importedNode, currentNode, oldNode, nodeIterator, returnNode;\n        /* Make sure we have a string to sanitize.\n           DO NOT return early, as this will return the wrong type if\n           the user has requested a DOM object rather than a string */\n        if (!dirty) {\n            dirty = '<!-->';\n        }\n\n        /* Stringify, in case dirty is an object */\n        if (typeof dirty !== 'string' && !_isNode(dirty)) {\n            if (typeof dirty.toString !== 'function') {\n                throw new TypeError('toString is not a function');\n            } else {\n                dirty = dirty.toString();\n            }\n        }\n\n        /* Check we can run. Otherwise fall back or ignore */\n        if (!DOMPurify.isSupported) {\n            if (typeof window.toStaticHTML === 'object'\n                || typeof window.toStaticHTML === 'function') {\n                if (typeof dirty === 'string') {\n                    return window.toStaticHTML(dirty);\n                } else if (_isNode(dirty)) {\n                    return window.toStaticHTML(dirty.outerHTML);\n                }\n            }\n            return dirty;\n        }\n\n        /* Assign config vars */\n        _parseConfig(cfg);\n\n        /* Clean up removed elements */\n        DOMPurify.removed = [];\n\n        if (dirty instanceof Node) {\n            /* If dirty is a DOM element, append to an empty document to avoid\n               elements being stripped by the parser */\n            body = _initDocument('<!-->');\n            importedNode = body.ownerDocument.importNode(dirty, true);\n            if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n                /* Node is already a body, use as is */\n                body = importedNode;\n            } else {\n                body.appendChild( importedNode );\n            }\n        } else {\n            /* Exit directly if we have nothing to do */\n            if (!RETURN_DOM && !WHOLE_DOCUMENT && dirty.indexOf('<') === -1) {\n                return dirty;\n            }\n\n            /* Initialize the document to work on */\n            body = _initDocument(dirty);\n\n            /* Check we have a DOM node from the data */\n            if (!body) {\n                return RETURN_DOM ? null : '';\n            }\n        }\n\n        /* Get node iterator */\n        nodeIterator = _createIterator(body);\n\n        /* Now start iterating over the created document */\n        while ( (currentNode = nodeIterator.nextNode()) ) {\n\n            /* Fix IE's strange behavior with manipulated textNodes #89 */\n            if (currentNode.nodeType === 3 && currentNode === oldNode) {\n                continue;\n            }\n\n            /* Sanitize tags and elements */\n            if (_sanitizeElements(currentNode)) {\n                continue;\n            }\n\n            /* Shadow DOM detected, sanitize it */\n            if (currentNode.content instanceof DocumentFragment) {\n                _sanitizeShadowDOM(currentNode.content);\n            }\n\n            /* Check attributes, sanitize if necessary */\n            _sanitizeAttributes(currentNode);\n\n            oldNode = currentNode;\n        }\n\n        /* Return sanitized string or DOM */\n        if (RETURN_DOM) {\n\n            if (RETURN_DOM_FRAGMENT) {\n                returnNode = createDocumentFragment.call(body.ownerDocument);\n\n                while (body.firstChild) {\n                    returnNode.appendChild(body.firstChild);\n                }\n            } else {\n                returnNode = body;\n            }\n\n            if (RETURN_DOM_IMPORT) {\n                /* adoptNode() is not used because internal state is not reset\n                   (e.g. the past names map of a HTMLFormElement), this is safe\n                   in theory but we would rather not risk another attack vector.\n                   The state that is cloned by importNode() is explicitly defined\n                   by the specs. */\n                returnNode = importNode.call(originalDocument, returnNode, true);\n            }\n\n            return returnNode;\n        }\n\n        return WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n    };\n\n    /**\n     * addHook\n     * Public method to add DOMPurify hooks\n     *\n     * @param {String} entryPoint\n     * @param {Function} hookFunction\n     */\n    DOMPurify.addHook = function(entryPoint, hookFunction) {\n        if (typeof hookFunction !== 'function') { return; }\n        hooks[entryPoint] = hooks[entryPoint] || [];\n        hooks[entryPoint].push(hookFunction);\n    };\n\n    /**\n     * removeHook\n     * Public method to remove a DOMPurify hook at a given entryPoint\n     * (pops it from the stack of hooks if more are present)\n     *\n     * @param {String} entryPoint\n     * @return void\n     */\n    DOMPurify.removeHook = function(entryPoint) {\n        if (hooks[entryPoint]) {\n            hooks[entryPoint].pop();\n        }\n    };\n\n    /**\n     * removeHooks\n     * Public method to remove all DOMPurify hooks at a given entryPoint\n     *\n     * @param  {String} entryPoint\n     * @return void\n     */\n    DOMPurify.removeHooks = function(entryPoint) {\n        if (hooks[entryPoint]) {\n            hooks[entryPoint] = [];\n        }\n    };\n\n    /**\n     * removeAllHooks\n     * Public method to remove all DOMPurify hooks\n     *\n     * @return void\n     */\n    DOMPurify.removeAllHooks = function() {\n        hooks = {};\n    };\n\n    return DOMPurify;\n}));\n\n\n\n// WEBPACK FOOTER //\n// ./~/dompurify/src/purify.js","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/eventemitter3/index.js","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function eventListener() {\n      if (errorListener !== undefined) {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n    var errorListener;\n\n    // Adding an error listener is not optional because\n    // if an error is thrown on an event emitter we cannot\n    // guarantee that the actual event we are waiting will\n    // be fired. The result could be a silent way to create\n    // memory or file descriptor leaks, which is something\n    // we should avoid.\n    if (name !== 'error') {\n      errorListener = function errorListener(err) {\n        emitter.removeListener(name, eventListener);\n        reject(err);\n      };\n\n      emitter.once('error', errorListener);\n    }\n\n    emitter.once(name, eventListener);\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/events/events.js","'use strict';\n\nvar browser = require('./browser-layer');\nvar MapiClient = require('../classes/mapi-client');\n\nfunction BrowserClient(options) {\n  MapiClient.call(this, options);\n}\nBrowserClient.prototype = Object.create(MapiClient.prototype);\nBrowserClient.prototype.constructor = BrowserClient;\n\nBrowserClient.prototype.sendRequest = browser.browserSend;\nBrowserClient.prototype.abortRequest = browser.browserAbort;\n\n/**\n * Create a client for the browser.\n *\n * @param {Object} options\n * @param {string} options.accessToken\n * @param {string} [options.origin]\n * @returns {MapiClient}\n */\nfunction createBrowserClient(options) {\n  return new BrowserClient(options);\n}\n\nmodule.exports = createBrowserClient;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/lib/browser/browser-client.js","/*\n * Fuzzy\n * https://github.com/myork/fuzzy\n *\n * Copyright (c) 2012 Matt York\n * Licensed under the MIT license.\n */\n\n(function() {\n\nvar root = this;\n\nvar fuzzy = {};\n\n// Use in node or in browser\nif (typeof exports !== 'undefined') {\n  module.exports = fuzzy;\n} else {\n  root.fuzzy = fuzzy;\n}\n\n// Return all elements of `array` that have a fuzzy\n// match against `pattern`.\nfuzzy.simpleFilter = function(pattern, array) {\n  return array.filter(function(str) {\n    return fuzzy.test(pattern, str);\n  });\n};\n\n// Does `pattern` fuzzy match `str`?\nfuzzy.test = function(pattern, str) {\n  return fuzzy.match(pattern, str) !== null;\n};\n\n// If `pattern` matches `str`, wrap each matching character\n// in `opts.pre` and `opts.post`. If no match, return null\nfuzzy.match = function(pattern, str, opts) {\n  opts = opts || {};\n  var patternIdx = 0\n    , result = []\n    , len = str.length\n    , totalScore = 0\n    , currScore = 0\n    // prefix\n    , pre = opts.pre || ''\n    // suffix\n    , post = opts.post || ''\n    // String to compare against. This might be a lowercase version of the\n    // raw string\n    , compareString =  opts.caseSensitive && str || str.toLowerCase()\n    , ch;\n\n  pattern = opts.caseSensitive && pattern || pattern.toLowerCase();\n\n  // For each character in the string, either add it to the result\n  // or wrap in template if it's the next string in the pattern\n  for(var idx = 0; idx < len; idx++) {\n    ch = str[idx];\n    if(compareString[idx] === pattern[patternIdx]) {\n      ch = pre + ch + post;\n      patternIdx += 1;\n\n      // consecutive characters should increase the score more than linearly\n      currScore += 1 + currScore;\n    } else {\n      currScore = 0;\n    }\n    totalScore += currScore;\n    result[result.length] = ch;\n  }\n\n  // return rendered string if we have a match for every char\n  if(patternIdx === pattern.length) {\n    // if the string is an exact match with pattern, totalScore should be maxed\n    totalScore = (compareString === pattern) ? Infinity : totalScore;\n    return {rendered: result.join(''), score: totalScore};\n  }\n\n  return null;\n};\n\n// The normal entry point. Filters `arr` for matches against `pattern`.\n// It returns an array with matching values of the type:\n//\n//     [{\n//         string:   '<b>lah' // The rendered string\n//       , index:    2        // The index of the element in `arr`\n//       , original: 'blah'   // The original element in `arr`\n//     }]\n//\n// `opts` is an optional argument bag. Details:\n//\n//    opts = {\n//        // string to put before a matching character\n//        pre:     '<b>'\n//\n//        // string to put after matching character\n//      , post:    '</b>'\n//\n//        // Optional function. Input is an entry in the given arr`,\n//        // output should be the string to test `pattern` against.\n//        // In this example, if `arr = [{crying: 'koala'}]` we would return\n//        // 'koala'.\n//      , extract: function(arg) { return arg.crying; }\n//    }\nfuzzy.filter = function(pattern, arr, opts) {\n  if(!arr || arr.length === 0) {\n    return [];\n  }\n  if (typeof pattern !== 'string') {\n    return arr;\n  }\n  opts = opts || {};\n  return arr\n    .reduce(function(prev, element, idx, arr) {\n      var str = element;\n      if(opts.extract) {\n        str = opts.extract(element);\n      }\n      var rendered = fuzzy.match(pattern, str, opts);\n      if(rendered != null) {\n        prev[prev.length] = {\n            string: rendered.rendered\n          , score: rendered.score\n          , index: idx\n          , original: element\n        };\n      }\n      return prev;\n    }, [])\n\n    // Sort by score. Browsers are inconsistent wrt stable/unstable\n    // sorting, so force stable by using the index in the case of tie.\n    // See http://ofb.net/~sethml/is-sort-stable.html\n    .sort(function(a,b) {\n      var compare = b.score - a.score;\n      if(compare) return compare;\n      return a.index - b.index;\n    });\n};\n\n\n}());\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/fuzzy/lib/fuzzy.js","'use strict';\nvar toString = Object.prototype.toString;\n\nmodule.exports = function (x) {\n\tvar prototype;\n\treturn toString.call(x) === '[object Object]' && (prototype = Object.getPrototypeOf(x), prototype === null || prototype === Object.getPrototypeOf({}));\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/is-plain-obj/index.js","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash.debounce/index.js","// This file replaces `index.js` in bundlers like webpack or Rollup,\n// according to `browser` config in `package.json`.\n\nif (process.env.NODE_ENV !== 'production') {\n  // All bundlers will remove this block in production bundle\n  if (typeof navigator !== 'undefined' && navigator.product === 'ReactNative') {\n    throw new Error(\n      'React Native does not have a built-in secure random generator. ' +\n      'If you dont need unpredictable IDs, you can use `nanoid/non-secure`. ' +\n      'For secure ID install `expo-random` locally and use `nanoid/async`.'\n    )\n  }\n  if (typeof self === 'undefined' || (!self.crypto && !self.msCrypto)) {\n    throw new Error(\n      'Your browser does not have secure random generator. ' +\n      'If you dont need unpredictable IDs, you can use nanoid/non-secure.'\n    )\n  }\n}\n\nvar crypto = self.crypto || self.msCrypto\n\n// This alphabet uses a-z A-Z 0-9 _- symbols.\n// Symbols are generated for smaller size.\n// -_zyxwvutsrqponmlkjihgfedcba9876543210ZYXWVUTSRQPONMLKJIHGFEDCBA\nvar url = '-_'\n// Loop from 36 to 0 (from z to a and 9 to 0 in Base36).\nvar i = 36\nwhile (i--) {\n  // 36 is radix. Number.prototype.toString(36) returns number\n  // in Base36 representation. Base36 is like hex, but it uses 09 and a-z.\n  url += i.toString(36)\n}\n// Loop from 36 to 10 (from Z to A in Base36).\ni = 36\nwhile (i-- - 10) {\n  url += i.toString(36).toUpperCase()\n}\n\nmodule.exports = function (size) {\n  var id = ''\n  var bytes = crypto.getRandomValues(new Uint8Array(size || 21))\n  i = size || 21\n\n  // Compact alternative for `for (var i = 0; i < size; i++)`\n  while (i--) {\n    // We cant use bytes bigger than the alphabet. 63 is 00111111 bitmask.\n    // This mask reduces random byte 0-255 to 0-63 values.\n    // There is no need in `|| ''` and `* 1.6` hacks in here,\n    // because bitmask trim bytes exact to alphabet size.\n    id += url[bytes[i] & 63]\n  }\n  return id\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/nanoid/index.browser.js","!function(root, name, make) {\r\n  if (typeof module != 'undefined' && module.exports) module.exports = make()\r\n  else root[name] = make()\r\n}(this, 'subtag', function() {\r\n\r\n  var empty = ''\r\n  var pattern = /^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/\r\n\r\n  function match(tag) {\r\n    return tag.match(pattern) || []\r\n  }\r\n\r\n  function split(tag) {\r\n    return match(tag).filter(function(v, i) { return v && i })\r\n  }\r\n\r\n  function api(tag) {\r\n    tag = match(tag)\r\n    return {\r\n      language: tag[1] || empty,\r\n      extlang: tag[2] || empty,\r\n      script: tag[3] || empty,\r\n      region: tag[4] || empty\r\n    }\r\n  }\r\n\r\n  function expose(target, key, value) {\r\n    Object.defineProperty(target, key, {\r\n      value: value,\r\n      enumerable: true\r\n    })\r\n  }\r\n\r\n  function part(position, pattern, type) {\r\n    function method(tag) {\r\n      return match(tag)[position] || empty\r\n    }\r\n    expose(method, 'pattern', pattern)\r\n    expose(api, type, method)\r\n  }\r\n\r\n  part(1, /^[a-zA-Z]{2,3}$/, 'language')\r\n  part(2, /^[a-zA-Z]{3}$/, 'extlang')\r\n  part(3, /^[a-zA-Z]{4}$/, 'script')\r\n  part(4, /^[a-zA-Z]{2}$|^[0-9]{3}$/, 'region')\r\n\r\n  expose(api, 'split', split)\r\n\r\n  return api\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/subtag/subtag.js","'use strict';\n\n/**\n * A typeahead component for inputs\n * @class Suggestions\n *\n * @param {HTMLInputElement} el A valid HTML input element\n * @param {Array} data An array of data used for results\n * @param {Object} options\n * @param {Number} [options.limit=5] Max number of results to display in the auto suggest list.\n * @param {Number} [options.minLength=2] Number of characters typed into an input to trigger suggestions.\n * @param {Boolean} [options.hideOnBlur=true] If `true`, hides the suggestions when focus is lost.\n * @return {Suggestions} `this`\n * @example\n * // in the browser\n * var input = document.querySelector('input');\n * var data = [\n *   'Roy Eldridge',\n *   'Roy Hargrove',\n *   'Rex Stewart'\n * ];\n *\n * new Suggestions(input, data);\n *\n * // with options\n * var input = document.querySelector('input');\n * var data = [{\n *   name: 'Roy Eldridge',\n *   year: 1911\n * }, {\n *   name: 'Roy Hargrove',\n *   year: 1969\n * }, {\n *   name: 'Rex Stewart',\n *   year: 1907\n * }];\n *\n * var typeahead = new Suggestions(input, data, {\n *   filter: false, // Disable filtering\n *   minLength: 3, // Number of characters typed into an input to trigger suggestions.\n *   limit: 3, //  Max number of results to display.\n *   hideOnBlur: false // Don't hide results when input loses focus\n * });\n *\n * // As we're passing an object of an arrays as data, override\n * // `getItemValue` by specifying the specific property to search on.\n * typeahead.getItemValue = function(item) { return item.name };\n *\n * input.addEventListener('change', function() {\n *   console.log(typeahead.selected); // Current selected item.\n * });\n *\n * // With browserify\n * var Suggestions = require('suggestions');\n *\n * new Suggestions(input, data);\n */\nvar Suggestions = require('./src/suggestions');\nwindow.Suggestions = module.exports = Suggestions;\n\n\n\n// WEBPACK FOOTER //\n// ./~/suggestions/index.js","'use strict';\n\nvar List = function(component) {\n  this.component = component;\n  this.items = [];\n  this.active = 0;\n  this.wrapper = document.createElement('div');\n  this.wrapper.className = 'suggestions-wrapper';\n  this.element = document.createElement('ul');\n  this.element.className = 'suggestions';\n  this.wrapper.appendChild(this.element);\n\n  // selectingListItem is set to true in the time between the mousedown and mouseup when clicking an item in the list\n  // mousedown on a list item will cause the input to blur which normally hides the list, so this flag is used to keep\n  // the list open until the mouseup\n  this.selectingListItem = false;\n\n  component.el.parentNode.insertBefore(this.wrapper, component.el.nextSibling);\n  return this;\n};\n\nList.prototype.show = function() {\n  this.element.style.display = 'block';\n};\n\nList.prototype.hide = function() {\n  this.element.style.display = 'none';\n};\n\nList.prototype.add = function(item) {\n  this.items.push(item);\n};\n\nList.prototype.clear = function() {\n  this.items = [];\n  this.active = 0;\n};\n\nList.prototype.isEmpty = function() {\n  return !this.items.length;\n};\n\nList.prototype.isVisible = function() {\n  return this.element.style.display === 'block';\n};\n\nList.prototype.draw = function() {\n  this.element.innerHTML = '';\n\n  if (this.items.length === 0) {\n    this.hide();\n    return;\n  }\n\n  for (var i = 0; i < this.items.length; i++) {\n    this.drawItem(this.items[i], this.active === i);\n  }\n\n  this.show();\n};\n\nList.prototype.drawItem = function(item, active) {\n  var li = document.createElement('li'),\n    a = document.createElement('a');\n\n  if (active) li.className += ' active';\n\n  a.innerHTML = item.string;\n\n  li.appendChild(a);\n  this.element.appendChild(li);\n\n  li.addEventListener('mousedown', function() {\n    this.selectingListItem = true;\n  }.bind(this));\n\n  li.addEventListener('mouseup', function() {\n    this.handleMouseUp.call(this, item);\n  }.bind(this));\n};\n\nList.prototype.handleMouseUp = function(item) {\n  this.selectingListItem = false;\n  this.component.value(item.original);\n  this.clear();\n  this.draw();\n};\n\nList.prototype.move = function(index) {\n  this.active = index;\n  this.draw();\n};\n\nList.prototype.previous = function() {\n  this.move(this.active === 0 ? this.items.length - 1 : this.active - 1);\n};\n\nList.prototype.next = function() {\n  this.move(this.active === this.items.length - 1 ? 0 : this.active + 1);\n};\n\nList.prototype.drawError = function(msg){\n  var li = document.createElement('li');\n\n  li.innerHTML = msg;\n\n  this.element.appendChild(li);\n  this.show();\n}\n\nmodule.exports = List;\n\n\n\n// WEBPACK FOOTER //\n// ./~/suggestions/src/list.js","'use strict';\n\nvar extend = require('xtend');\nvar fuzzy = require('fuzzy');\nvar List = require('./list');\n\nvar Suggestions = function(el, data, options) {\n  options = options || {};\n\n  this.options = extend({\n    minLength: 2,\n    limit: 5,\n    filter: true,\n    hideOnBlur: true\n  }, options);\n\n  this.el = el;\n  this.data = data || [];\n  this.list = new List(this);\n\n  this.query = '';\n  this.selected = null;\n\n  this.list.draw();\n\n  this.el.addEventListener('keyup', function(e) {\n    this.handleKeyUp(e.keyCode);\n  }.bind(this), false);\n\n  this.el.addEventListener('keydown', function(e) {\n    this.handleKeyDown(e);\n  }.bind(this));\n\n  this.el.addEventListener('focus', function() {\n    this.handleFocus();\n  }.bind(this));\n\n  this.el.addEventListener('blur', function() {\n    this.handleBlur();\n  }.bind(this));\n\n  this.el.addEventListener('paste', function(e) {\n    this.handlePaste(e);\n  }.bind(this));\n\n  // use user-provided render function if given, otherwise just use the default\n  this.render = (this.options.render) ? this.options.render.bind(this) : this.render.bind(this)\n\n  this.getItemValue = (this.options.getItemValue) ? this.options.getItemValue.bind(this) : this.getItemValue.bind(this);\n\n  return this;\n};\n\nSuggestions.prototype.handleKeyUp = function(keyCode) {\n  // 40 - DOWN\n  // 38 - UP\n  // 27 - ESC\n  // 13 - ENTER\n  // 9 - TAB\n\n  if (keyCode === 40 ||\n      keyCode === 38 ||\n      keyCode === 27 ||\n      keyCode === 13 ||\n      keyCode === 9) return;\n\n  this.handleInputChange(this.el.value);\n};\n\nSuggestions.prototype.handleKeyDown = function(e) {\n  switch (e.keyCode) {\n    case 13: // ENTER\n    case 9: // TAB\n      if (!this.list.isEmpty()) {\n        if (this.list.isVisible()) {\n          e.preventDefault();\n        }\n        this.value(this.list.items[this.list.active].original);\n        this.list.hide();\n      }\n    break;\n    case 27: // ESC\n      if (!this.list.isEmpty()) this.list.hide();\n    break;\n    case 38: // UP\n      this.list.previous();\n    break;\n    case 40: // DOWN\n      this.list.next();\n    break;\n  }\n};\n\nSuggestions.prototype.handleBlur = function() {\n  if (!this.list.selectingListItem && this.options.hideOnBlur) {\n    this.list.hide();\n  }\n};\n\nSuggestions.prototype.handlePaste = function(e) {\n  if (e.clipboardData) {\n    this.handleInputChange(e.clipboardData.getData('Text'));\n  } else {\n    var self = this;\n    setTimeout(function () {\n      self.handleInputChange(e.target.value);\n    }, 100);\n  }\n};\n\nSuggestions.prototype.handleInputChange = function(query) {\n  this.query = this.normalize(query);\n\n  this.list.clear();\n\n  if (this.query.length < this.options.minLength) {\n    this.list.draw();\n    return;\n  }\n\n  this.getCandidates(function(data) {\n    for (var i = 0; i < data.length; i++) {\n      this.list.add(data[i]);\n      if (i === (this.options.limit - 1)) break;\n    }\n    this.list.draw();\n  }.bind(this));\n};\n\nSuggestions.prototype.handleFocus = function() {\n  if (!this.list.isEmpty()) this.list.show();\n  this.list.selectingListItem = false;\n};\n\n/**\n * Update data previously passed\n *\n * @param {Array} revisedData\n */\nSuggestions.prototype.update = function(revisedData) {\n  this.data = revisedData;\n  this.handleKeyUp();\n};\n\n/**\n * Clears data\n */\nSuggestions.prototype.clear = function() {\n  this.data = [];\n  this.list.clear();\n};\n\n/**\n * Normalize the results list and input value for matching\n *\n * @param {String} value\n * @return {String}\n */\nSuggestions.prototype.normalize = function(value) {\n  value = value.toLowerCase();\n  return value;\n};\n\n/**\n * Evaluates whether an array item qualifies as a match with the current query\n *\n * @param {String} candidate a possible item from the array passed\n * @param {String} query the current query\n * @return {Boolean}\n */\nSuggestions.prototype.match = function(candidate, query) {\n  return candidate.indexOf(query) > -1;\n};\n\nSuggestions.prototype.value = function(value) {\n  this.selected = value;\n  this.el.value = this.getItemValue(value);\n\n  if (document.createEvent) {\n    var e = document.createEvent('HTMLEvents');\n    e.initEvent('change', true, false);\n    this.el.dispatchEvent(e);\n  } else {\n    this.el.fireEvent('onchange');\n  }\n};\n\nSuggestions.prototype.getCandidates = function(callback) {\n  var options = {\n    pre: '<strong>',\n    post: '</strong>',\n    extract: function(d) { return this.getItemValue(d); }.bind(this)\n  };\n  var results;\n  if(this.options.filter){\n    results = fuzzy.filter(this.query, this.data, options);\n\n    results = results.map(function(item){\n      return {\n        original: item.original,\n        string: this.render(item.original, item.string)\n      };\n    }.bind(this))\n  }else{\n    results = this.data.map(function(d) {\n      var renderedString = this.render(d);\n      return {\n        original: d,\n        string: renderedString\n      };\n    }.bind(this));\n  }\n  callback(results);\n};\n\n/**\n * For a given item in the data array, return what should be used as the candidate string\n *\n * @param {Object|String} item an item from the data array\n * @return {String} item\n */\nSuggestions.prototype.getItemValue = function(item) {\n  return item;\n};\n\n/**\n * For a given item in the data array, return a string of html that should be rendered in the dropdown\n * @param {Object|String} item an item from the data array\n * @param {String} sourceFormatting a string that has pre-formatted html that should be passed directly through the render function \n * @return {String} html\n */\nSuggestions.prototype.render = function(item, sourceFormatting) {\n  if (sourceFormatting){\n    // use existing formatting on the source string\n    return sourceFormatting;\n  }\n  var boldString = (item.original) ? this.getItemValue(item.original) : this.getItemValue(item);\n  var indexString = this.normalize(boldString);\n  var indexOfQuery = indexString.lastIndexOf(this.query);\n  while (indexOfQuery > -1) {\n    var endIndexOfQuery = indexOfQuery + this.query.length;\n    boldString = boldString.slice(0, indexOfQuery) + '<strong>' + boldString.slice(indexOfQuery, endIndexOfQuery) + '</strong>' + boldString.slice(endIndexOfQuery);\n    indexOfQuery = indexString.slice(0, indexOfQuery).lastIndexOf(this.query);\n  }\n  return boldString\n}\n\n/**\n * Render an custom error message in the suggestions list\n * @param {String} msg An html string to render as an error message\n */\nSuggestions.prototype.renderError = function(msg){\n  this.list.drawError(msg);\n}\n\nmodule.exports = Suggestions;\n\n\n\n// WEBPACK FOOTER //\n// ./~/suggestions/src/suggestions.js","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/module.js","import '../sass/style.scss';\n\nimport {\n\t$,\n\t$$\n} from './modules/bling';\n\nimport autoComplete from './modules/autocomplete';\nimport typeAhead from './modules/typeAhead';\nimport loadPlaces from './modules/loadPlaces';\n\n\nautoComplete($('#address'), $('#lat'), $('#lng'));\ntypeAhead( $('.search') );\nloadPlaces();\nautoComplete($('#mapSearch'))\n\n\n// WEBPACK FOOTER //\n// ./public/javascripts/delicious-app.js","'use strict';\n\nvar parseToken = require('@mapbox/parse-mapbox-token');\nvar MapiRequest = require('./mapi-request');\nvar constants = require('../constants');\n\n/**\n * A low-level Mapbox API client. Use it to create service clients\n * that share the same configuration.\n *\n * Services and `MapiRequest`s use the underlying `MapiClient` to\n * determine how to create, send, and abort requests in a way\n * that is appropriate to the configuration and environment\n * (Node or the browser).\n *\n * @class MapiClient\n * @property {string} accessToken - The Mapbox access token assigned\n *   to this client.\n * @property {string} [origin] - The origin\n *   to use for API requests. Defaults to https://api.mapbox.com.\n */\n\nfunction MapiClient(options) {\n  if (!options || !options.accessToken) {\n    throw new Error('Cannot create a client without an access token');\n  }\n  // Try parsing the access token to determine right away if it's valid.\n  parseToken(options.accessToken);\n\n  this.accessToken = options.accessToken;\n  this.origin = options.origin || constants.API_ORIGIN;\n}\n\nMapiClient.prototype.createRequest = function createRequest(requestOptions) {\n  return new MapiRequest(this, requestOptions);\n};\n\nmodule.exports = MapiClient;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/lib/classes/mapi-client.js","'use strict';\n\nvar base64 = require('base-64');\n\nvar tokenCache = {};\n\nfunction parseToken(token) {\n  if (tokenCache[token]) {\n    return tokenCache[token];\n  }\n\n  var parts = token.split('.');\n  var usage = parts[0];\n  var rawPayload = parts[1];\n  if (!rawPayload) {\n    throw new Error('Invalid token');\n  }\n\n  var parsedPayload = parsePaylod(rawPayload);\n\n  var result = {\n    usage: usage,\n    user: parsedPayload.u\n  };\n  if (has(parsedPayload, 'a')) result.authorization = parsedPayload.a;\n  if (has(parsedPayload, 'exp')) result.expires = parsedPayload.exp * 1000;\n  if (has(parsedPayload, 'iat')) result.created = parsedPayload.iat * 1000;\n  if (has(parsedPayload, 'scopes')) result.scopes = parsedPayload.scopes;\n  if (has(parsedPayload, 'client')) result.client = parsedPayload.client;\n  if (has(parsedPayload, 'll')) result.lastLogin = parsedPayload.ll;\n  if (has(parsedPayload, 'iu')) result.impersonator = parsedPayload.iu;\n\n  tokenCache[token] = result;\n  return result;\n}\n\nfunction parsePaylod(rawPayload) {\n  try {\n    return JSON.parse(base64.decode(rawPayload));\n  } catch (parseError) {\n    throw new Error('Invalid token');\n  }\n}\n\nfunction has(obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n}\n\nmodule.exports = parseToken;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/parse-mapbox-token/index.js","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildURL = require('./../helpers/buildURL');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\nvar btoa = (typeof window !== 'undefined' && window.btoa && window.btoa.bind(window)) || require('./../helpers/btoa');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n    var loadEvent = 'onreadystatechange';\n    var xDomain = false;\n\n    // For IE 8/9 CORS support\n    // Only supports POST and GET calls and doesn't returns the response headers.\n    // DON'T do this for testing b/c XMLHttpRequest is mocked, not XDomainRequest.\n    if (process.env.NODE_ENV !== 'test' &&\n        typeof window !== 'undefined' &&\n        window.XDomainRequest && !('withCredentials' in request) &&\n        !isURLSameOrigin(config.url)) {\n      request = new window.XDomainRequest();\n      loadEvent = 'onload';\n      xDomain = true;\n      request.onprogress = function handleProgress() {};\n      request.ontimeout = function handleTimeout() {};\n    }\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request[loadEvent] = function handleLoad() {\n      if (!request || (request.readyState !== 4 && !xDomain)) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        // IE sends 1223 instead of 204 (https://github.com/mzabriskie/axios/issues/201)\n        status: request.status === 1223 ? 204 : request.status,\n        statusText: request.status === 1223 ? 'No Content' : request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED'));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = require('./../helpers/cookies');\n\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(config.url)) && config.xsrfCookieName ?\n          cookies.read(config.xsrfCookieName) :\n          undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (config.withCredentials) {\n      request.withCredentials = true;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        if (request.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/adapters/xhr.js"],"sourceRoot":""}