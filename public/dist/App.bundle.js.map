{"version":3,"sources":["webpack:///webpack/bootstrap d344bd804988d1d8e6e7","webpack:///./~/axios/lib/utils.js","webpack:///./~/xtend/immutable.js","webpack:///./~/@mapbox/mapbox-sdk/lib/constants.js","webpack:///./public/javascripts/modules/bling.js","webpack:///./~/axios/index.js","webpack:///./~/axios/lib/defaults.js","webpack:///./~/node-libs-browser/~/process/browser.js","webpack:///(webpack)/buildin/global.js","webpack:///./public/javascripts/modules/loadPlaces.js","webpack:///./~/@mapbox/mapbox-sdk/lib/browser/browser-client.js","webpack:///./~/@mapbox/mapbox-sdk/lib/classes/mapi-client.js","webpack:///./~/@mapbox/parse-mapbox-token/index.js","webpack:///./~/axios/lib/adapters/xhr.js","webpack:///./~/axios/lib/cancel/Cancel.js","webpack:///./~/axios/lib/cancel/isCancel.js","webpack:///./~/axios/lib/core/createError.js","webpack:///./~/axios/lib/helpers/bind.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./public/javascripts/modules/autocomplete.js","webpack:///./public/javascripts/modules/heart.js","webpack:///./public/javascripts/modules/typeAhead.js","webpack:///./public/sass/style.scss?9bfe","webpack:///./~/@mapbox/fusspot/lib/index.js","webpack:///./~/@mapbox/mapbox-gl-geocoder/lib/events.js","webpack:///./~/@mapbox/mapbox-gl-geocoder/lib/exceptions.js","webpack:///./~/@mapbox/mapbox-gl-geocoder/lib/index.js","webpack:///./~/@mapbox/mapbox-gl-geocoder/lib/localization.js","webpack:///./~/@mapbox/mapbox-sdk/index.js","webpack:///./~/@mapbox/mapbox-sdk/lib/browser/browser-layer.js","webpack:///./~/@mapbox/mapbox-sdk/lib/classes/mapi-error.js","webpack:///./~/@mapbox/mapbox-sdk/lib/classes/mapi-request.js","webpack:///./~/@mapbox/mapbox-sdk/lib/classes/mapi-response.js","webpack:///./~/@mapbox/mapbox-sdk/lib/helpers/parse-headers.js","webpack:///./~/@mapbox/mapbox-sdk/lib/helpers/parse-link-header.js","webpack:///./~/@mapbox/mapbox-sdk/lib/helpers/url-utils.js","webpack:///./~/@mapbox/mapbox-sdk/services/geocoding.js","webpack:///./~/@mapbox/mapbox-sdk/services/service-helpers/create-service-factory.js","webpack:///./~/@mapbox/mapbox-sdk/services/service-helpers/object-map.js","webpack:///./~/@mapbox/mapbox-sdk/services/service-helpers/pick.js","webpack:///./~/@mapbox/mapbox-sdk/services/service-helpers/stringify-booleans.js","webpack:///./~/@mapbox/mapbox-sdk/services/service-helpers/validator.js","webpack:///./~/axios/lib/axios.js","webpack:///./~/axios/lib/cancel/CancelToken.js","webpack:///./~/axios/lib/core/Axios.js","webpack:///./~/axios/lib/core/InterceptorManager.js","webpack:///./~/axios/lib/core/dispatchRequest.js","webpack:///./~/axios/lib/core/enhanceError.js","webpack:///./~/axios/lib/core/settle.js","webpack:///./~/axios/lib/core/transformData.js","webpack:///./~/axios/lib/helpers/btoa.js","webpack:///./~/axios/lib/helpers/buildURL.js","webpack:///./~/axios/lib/helpers/combineURLs.js","webpack:///./~/axios/lib/helpers/cookies.js","webpack:///./~/axios/lib/helpers/isAbsoluteURL.js","webpack:///./~/axios/lib/helpers/isURLSameOrigin.js","webpack:///./~/axios/lib/helpers/normalizeHeaderName.js","webpack:///./~/axios/lib/helpers/parseHeaders.js","webpack:///./~/axios/lib/helpers/spread.js","webpack:///./~/base-64/base64.js","webpack:///./~/dompurify/src/purify.js","webpack:///./~/eventemitter3/index.js","webpack:///./~/events/events.js","webpack:///./~/fuzzy/lib/fuzzy.js","webpack:///./~/is-plain-obj/index.js","webpack:///./~/lodash.debounce/index.js","webpack:///./~/nanoid/index.browser.js","webpack:///./~/subtag/subtag.js","webpack:///./~/suggestions/index.js","webpack:///./~/suggestions/src/list.js","webpack:///./~/suggestions/src/suggestions.js","webpack:///(webpack)/buildin/module.js","webpack:///./public/javascripts/delicious-app.js"],"names":["bind","require","toString","Object","prototype","isArray","val","call","isArrayBuffer","isFormData","FormData","isArrayBufferView","result","ArrayBuffer","isView","buffer","isString","isNumber","isUndefined","isObject","isDate","isFile","isBlob","isFunction","isStream","pipe","isURLSearchParams","URLSearchParams","trim","str","replace","isStandardBrowserEnv","window","document","createElement","forEach","obj","fn","i","l","length","key","hasOwnProperty","merge","assignValue","arguments","extend","a","b","thisArg","module","exports","target","source","API_ORIGIN","EVENT_PROGRESS_DOWNLOAD","EVENT_PROGRESS_UPLOAD","EVENT_ERROR","EVENT_RESPONSE","ERROR_HTTP","ERROR_REQUEST_ABORTED","$","querySelector","$$","querySelectorAll","Node","on","name","addEventListener","NodeList","__proto__","Array","elem","utils","normalizeHeaderName","PROTECTION_PREFIX","DEFAULT_CONTENT_TYPE","setContentTypeIfUnset","headers","value","getDefaultAdapter","adapter","XMLHttpRequest","process","defaults","transformRequest","data","JSON","stringify","transformResponse","parse","e","timeout","xsrfCookieName","xsrfHeaderName","maxContentLength","validateStatus","status","common","forEachMehtodNoData","method","forEachMethodWithData","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","setTimeout","clearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","concat","drainQueue","len","run","nextTick","args","push","Item","array","apply","title","browser","env","argv","version","versions","noop","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","g","Function","eval","loadPlaces","lat","lng","mapOptions","center","zoom","style","mapboxgl","accessToken","container","map","Map","axios","get","then","places","res","alert","bounds","LngLatBounds","html","place","slug","photo","location","address","Marker","setLngLat","coordinates","setPopup","Popup","setHTML","addTo","fitBounds","padding","MapiClient","BrowserClient","options","create","constructor","sendRequest","browserSend","abortRequest","browserAbort","createBrowserClient","parseToken","MapiRequest","constants","origin","createRequest","requestOptions","base64","tokenCache","token","parts","split","usage","rawPayload","parsedPayload","parsePaylod","user","u","has","authorization","expires","exp","created","iat","scopes","client","lastLogin","ll","impersonator","iu","decode","parseError","settle","buildURL","parseHeaders","isURLSameOrigin","createError","btoa","xhrAdapter","config","Promise","dispatchXhrRequest","resolve","reject","requestData","requestHeaders","request","loadEvent","xDomain","NODE_ENV","XDomainRequest","url","onprogress","handleProgress","ontimeout","handleTimeout","auth","username","password","Authorization","open","toUpperCase","params","paramsSerializer","handleLoad","readyState","responseURL","indexOf","responseHeaders","getAllResponseHeaders","responseData","responseType","responseText","response","statusText","onerror","handleError","cookies","xsrfValue","withCredentials","read","undefined","setRequestHeader","toLowerCase","onDownloadProgress","onUploadProgress","upload","cancelToken","promise","onCanceled","cancel","abort","send","Cancel","message","__CANCEL__","isCancel","enhanceError","code","error","wrap","MapboxGeocoder","autocomplete","input","latInput","lngInput","MAPBOX_KEY","geocoder","id","place_name","geometry","ajaxHeart","preventDefault","post","action","isHearted","heart","classList","toggle","textContent","hearts","add","remove","catch","console","searchResultsHTML","stores","store","join","typeAhead","search","searchInput","searchResults","display","innerHTML","dompurify","sanitize","err","includes","keyCode","activeClass","current","items","next","nextElementSibling","previousElementSibling","href","isPlainObject","xtend","DEFAULT_ERROR_PATH","NEWLINE_INDENT","v","assert","rootValidator","validate","errorMessage","processMessage","apiName","shape","validatorObj","validators","objectEntries","shapeValidator","validationResult","plainObject","validator","errorMessages","renderedMessage","objectId","path","ofPhrase","strictShape","strictShapeValidator","shapeResult","invalidKeys","keys","reduce","memo","valueKey","arrayOf","createArrayValidator","tuple","slice","validatingTuple","getValidator","index","arrayValidator","plainArray","required","requiredValidator","formatErrorMessage","isArrayCulprit","__required","oneOfType","oneOfTypeValidator","messages","filter","Boolean","every","orList","m","max","arr","equal","compareWith","equalValidator","oneOf","range","min","rangeValidator","number","any","boolean","string","func","prettifyResult","list","addArticle","nounPhrase","test","prettyResult","arrayCulprit","output","prepend","nanoid","MapboxEventManager","endpoint","access_token","sessionID","generateSessionID","userAgent","getUserAgent","countries","types","bbox","language","limit","locale","navigator","enableEventLogging","shouldEnableLogging","eventQueue","flushInterval","maxQueueSize","timer","flush","lastSentInput","lastSentIndex","select","selected","resultIndex","getSelectedIndex","payload","getEventPayload","resultPlaceName","resultId","queryString","start","keyevent","keyEvent","metaKey","lastAction","callback","getRequestOptions","host","body","event","proximity","longitude","latitude","_map","getZoom","Date","sessionIdentifier","country","mapZoom","keyboardLocale","inputString","_inputEl","opts","xhttp","onreadystatechange","header","headerValue","_typeahead","results","selectedID","resultIDs","feature","selectedIdx","localGeocoder","evt","forceFlush","Typeahead","debounce","EventEmitter","exceptions","MapboxClient","mbxGeocoder","localization","subtag","_eventEmitter","fresh","lastSelected","flyTo","trackProximity","minLength","reverseGeocode","collapsed","clearAndBlurOnEsc","clearOnBlur","getItemValue","item","render","placeName","splice","addToExistingContainer","contains","el","onAdd","appendChild","_controlContainer","addControl","HTMLElement","parent","setLanguage","localGeocoderOnly","geocoderService","eventManager","_onChange","_onKeyDown","_onPaste","_onBlur","_showButton","_hideButton","_onQueryResult","clear","_updateProximity","_collapse","_unCollapse","_clear","_clearOnBlur","className","searchIcon","createIcon","type","setPlaceholder","actions","_clearEl","setAttribute","buttonIcon","_loadingEl","setRenderFunction","mapMarker","_handleMarker","_mapboxgl","icon","createElementNS","SVGNodeContainer","valueOf","SVGNode","firstChild","SVGPath","onRemove","parentNode","removeChild","_removeMarker","clipboardData","getData","_geocode","ESC_KEY_CODE","TAB_KEY_CODE","blur","shadowRoot","activeElement","flyOptions","properties","short_code","defaultFlyOptions","focus","scrollLeft","setSelectionRange","query","self","coords","c","parseFloat","reverse","forwardGeocode","localGeocoderRes","features","statusCode","update","_renderNoResults","_renderError","ev","ctx","relatedTarget","getCenter","setProximity","_renderMessage","msg","renderError","_getPlaceholderText","placeholder","firstLanguage","localizedValue","setInput","getProximity","getRenderFunction","browserLocale","userLanguage","browserLanguage","getLanguage","setZoom","getFlyTo","setFlyTo","getPlaceholder","getBbox","setBbox","getCountries","setCountries","getTypes","setTypes","getMinLength","setMinLength","getLimit","setLimit","getFilter","setFilter","setOrigin","getOrigin","defaultMarkerOptions","color","markerOptions","MapiResponse","MapiError","requestsUnderway","xhr","createResponse","normalizeBrowserProgressEvent","total","transferred","loaded","percent","sendRequestXhr","emitter","file","onabort","mapiError","onload","createRequestXhr","errorType","urlUtils","requestId","defaultHeaders","headersWithDefaults","_options","sent","aborted","encoding","sendFileAs","prependOrigin","appendQueryObject","routeParams","actualAccessToken","appendQueryParam","accessTokenOwnerId","ownerId","interpolateRouteParams","_nextPageRequest","eachPage","handleResponse","getNextPage","nextPageRequest","nextPage","getPage","clone","_extend","extendedOptions","parseLinkHeader","rawBody","links","link","hasNextPage","parseSingleHeader","raw","boundary","substring","rawHeader","parsed","parseParam","param","match","parseLink","linkUrl","linkParams","rel","parsedLinkParams","linkHeader","splitRel","encodeArray","arrayValue","encodeURIComponent","encodeValue","String","punctuation","queryObject","delimiter","route","_","paramId","preppedValue","pick","stringifyBooleans","createServiceFactory","Geocoding","featureTypes","assertShape","mode","routing","reverseMode","createClient","ServicePrototype","clientOrConfig","isPrototypeOf","service","objectMap","cb","stringifyBoolean","global","Blob","date","getTime","isNaN","Axios","createInstance","defaultConfig","context","instance","instanceConfig","CancelToken","all","promises","spread","default","executor","TypeError","resolvePromise","promiseExecutor","reason","throwIfRequested","InterceptorManager","dispatchRequest","isAbsoluteURL","combineURLs","interceptors","baseURL","chain","unshiftRequestInterceptors","interceptor","unshift","fulfilled","rejected","pushResponseInterceptors","shift","forEachMethodNoData","handlers","use","eject","forEachHandler","h","transformData","throwIfCancellationRequested","cleanHeaderConfig","onAdapterResolution","onAdapterRejection","fns","transform","chars","E","block","charCode","idx","charAt","charCodeAt","encode","serializedParams","serialize","parseValue","toISOString","relativeURL","standardBrowserEnv","write","domain","secure","cookie","toGMTString","RegExp","decodeURIComponent","now","nonStandardBrowserEnv","msie","urlParsingNode","originURL","resolveURL","protocol","hash","hostname","port","pathname","requestURL","normalizedName","processHeader","parser","line","substr","root","freeExports","freeModule","freeGlobal","InvalidCharacterError","TABLE","REGEX_SPACE_CHARACTERS","bitCounter","bitStorage","position","fromCharCode","d","define","nodeType","factory","DOMPurify","removed","isSupported","originalDocument","DocumentFragment","HTMLTemplateElement","NodeFilter","NamedNodeMap","MozNamedAttrMap","Text","Comment","DOMParser","template","content","ownerDocument","implementation","createNodeIterator","getElementsByTagName","createDocumentFragment","importNode","hooks","createHTMLDocument","documentMode","_addToSet","set","_cloneObj","object","newObject","property","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","FORBID_TAGS","FORBID_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","SAFE_FOR_JQUERY","SAFE_FOR_TEMPLATES","MUSTACHE_EXPR","ERB_EXPR","WHOLE_DOCUMENT","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_DOM_IMPORT","SANITIZE_DOM","KEEP_CONTENT","FORBID_CONTENTS","DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","CONFIG","formElement","_parseConfig","cfg","ADD_TAGS","ADD_ATTR","ADD_URI_SAFE_ATTR","freeze","_forceRemove","node","element","outerHTML","_removeAttribute","attribute","getAttributeNode","from","removeAttribute","_initDocument","dirty","doc","parseFromString","documentElement","firstElementChild","_createIterator","SHOW_ELEMENT","SHOW_COMMENT","SHOW_TEXT","FILTER_ACCEPT","_isClobbered","elm","nodeName","attributes","_isNode","_sanitizeElements","currentNode","tagName","_executeHook","allowedTags","insertAdjacentHTML","cloneNode","DATA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","_sanitizeAttributes","attr","lcName","idAttr","hookEvent","attrName","attrValue","keepAttr","allowedAttributes","pop","_sanitizeShadowDOM","fragment","shadowNode","shadowIterator","nextNode","entryPoint","hook","importedNode","oldNode","nodeIterator","returnNode","toStaticHTML","addHook","hookFunction","removeHook","removeHooks","removeAllHooks","prefix","Events","EE","listener","_events","_eventsCount","clearEvent","eventNames","names","events","getOwnPropertySymbols","ee","listenerCount","a1","a2","a3","a4","a5","j","prefixed","R","Reflect","ReflectApply","receiver","ReflectOwnKeys","ownKeys","getOwnPropertyNames","ProcessEmitWarning","warning","warn","NumberIsNaN","Number","init","_maxListeners","defaultMaxListeners","checkListener","defineProperty","enumerable","arg","RangeError","getPrototypeOf","setMaxListeners","n","_getMaxListeners","that","getMaxListeners","doError","er","handler","arrayClone","_addListener","existing","newListener","warned","w","count","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","originalListener","spliceOne","_listeners","unwrap","evlistener","unwrapListeners","rawListeners","copy","ret","eventListener","errorListener","fuzzy","simpleFilter","pattern","patternIdx","totalScore","currScore","pre","compareString","caseSensitive","ch","Infinity","rendered","score","prev","extract","original","sort","compare","x","FUNC_ERROR_TEXT","NAN","symbolTag","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","freeSelf","objectProto","objectToString","nativeMax","Math","nativeMin","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","toNumber","invokeFunc","time","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","shouldInvoke","trailingEdge","debounced","isInvoking","isObjectLike","isSymbol","other","isBinary","product","crypto","msCrypto","size","bytes","getRandomValues","Uint8Array","make","empty","tag","api","extlang","script","region","expose","part","Suggestions","List","component","active","wrapper","selectingListItem","insertBefore","nextSibling","show","hide","isEmpty","isVisible","draw","drawItem","li","handleMouseUp","move","previous","drawError","hideOnBlur","handleKeyUp","handleKeyDown","handleFocus","handleBlur","handlePaste","handleInputChange","normalize","getCandidates","revisedData","candidate","createEvent","initEvent","dispatchEvent","fireEvent","renderedString","sourceFormatting","boldString","indexString","indexOfQuery","lastIndexOf","endIndexOfQuery","webpackPolyfill","deprecate","paths","children","heartForms"],"mappings":"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","file":"App.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 71);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d344bd804988d1d8e6e7","'use strict';\n\nvar bind = require('./helpers/bind');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  typeof document.createElement -> undefined\n */\nfunction isStandardBrowserEnv() {\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined' &&\n    typeof document.createElement === 'function'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object' && !isArray(obj)) {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/utils.js","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/xtend/immutable.js","'use strict';\n\nmodule.exports = {\n  API_ORIGIN: 'https://api.mapbox.com',\n  EVENT_PROGRESS_DOWNLOAD: 'downloadProgress',\n  EVENT_PROGRESS_UPLOAD: 'uploadProgress',\n  EVENT_ERROR: 'error',\n  EVENT_RESPONSE: 'response',\n  ERROR_HTTP: 'HttpError',\n  ERROR_REQUEST_ABORTED: 'RequestAbortedError'\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/lib/constants.js","// based on https://gist.github.com/paulirish/12fb951a8b893a454b32\n\nconst $ = document.querySelector.bind(document);\nconst $$ = document.querySelectorAll.bind(document);\n\nNode.prototype.on = window.on = function (name, fn) {\n  this.addEventListener(name, fn);\n};\n\nNodeList.prototype.__proto__ = Array.prototype; // eslint-disable-line\n\nNodeList.prototype.on = NodeList.prototype.addEventListener = function (name, fn) {\n  this.forEach((elem) => {\n    elem.on(name, fn);\n  });\n};\n\nexport { $, $$ };\n\n\n\n// WEBPACK FOOTER //\n// ./public/javascripts/modules/bling.js","module.exports = require('./lib/axios');\n\n\n// WEBPACK FOOTER //\n// ./~/axios/index.js","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar PROTECTION_PREFIX = /^\\)\\]\\}',?\\n/;\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      data = data.replace(PROTECTION_PREFIX, '');\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMehtodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/defaults.js","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n// WEBPACK FOOTER //\n// ./~/node-libs-browser/~/process/browser.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/global.js","import axios from 'axios';\nimport {$} from './bling.js';\n\nfunction loadPlaces(lat=43.2, lng=-79.8){\n\n\n\tconst mapOptions = {\n\t\tcenter: [lng, lat],\n\t\tzoom:12,\n\t\tstyle: 'mapbox://styles/mapbox/light-v10',\n\t}\n\n\tmapboxgl.accessToken = 'pk.eyJ1IjoiamVuYXJvOTQiLCJhIjoiY2pzbnBpajh3MGV5MTQ0cnJ3dmJlczFqbiJ9.Aktxa1EqTzpy7yEaBDM1xQ'; // replace this with your access token\n\tmapOptions.container = $('#map');\n\n\n\tconst map = new mapboxgl.Map(mapOptions);\n\n\n\n\taxios.get(`/api/stores/near?lat=${lat}&lng=${lng}`)\n\t.then(res => {\n\t\tconst places = res.data;\n\t\tif(!places.length){\n\t\t\talert('no places found');\n\t\t\treturn;\n\t\t}\n\n\t\tconst bounds = new mapboxgl.LngLatBounds();\n\n\t\tplaces.map(place => {\n\t\t\tconst html = `\n\t\t\t\t<div class=\"popup\">\n\t\t\t\t\t<a href=\"/store/${place.slug}\">\n\t\t\t\t\t\t<img src=\"/uploads/${place.photo || 'store.png'}\" alt=\"${place.name}\" width=\"100%\">\n\t\t\t\t\t\t<p><strong>${place.name}</strong> - <small>${place.location.address}</small></p>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t\tconst marker = new mapboxgl.Marker()\n\t\t\t.setLngLat(place.location.coordinates)\n\t\t\t.setPopup(new mapboxgl.Popup().setHTML(html))\n\t\t\t.addTo(map);\n\t\t\tmarker.place = place;\n\t\t\tbounds.extend(place.location.coordinates)\n\t\t\treturn marker;\n\t\t})\n\t\tmap.fitBounds(bounds, {padding:100});\n\n\t})\n}\n\nexport default loadPlaces;\n\n\n// WEBPACK FOOTER //\n// ./public/javascripts/modules/loadPlaces.js","'use strict';\n\nvar browser = require('./browser-layer');\nvar MapiClient = require('../classes/mapi-client');\n\nfunction BrowserClient(options) {\n  MapiClient.call(this, options);\n}\nBrowserClient.prototype = Object.create(MapiClient.prototype);\nBrowserClient.prototype.constructor = BrowserClient;\n\nBrowserClient.prototype.sendRequest = browser.browserSend;\nBrowserClient.prototype.abortRequest = browser.browserAbort;\n\n/**\n * Create a client for the browser.\n *\n * @param {Object} options\n * @param {string} options.accessToken\n * @param {string} [options.origin]\n * @returns {MapiClient}\n */\nfunction createBrowserClient(options) {\n  return new BrowserClient(options);\n}\n\nmodule.exports = createBrowserClient;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/lib/browser/browser-client.js","'use strict';\n\nvar parseToken = require('@mapbox/parse-mapbox-token');\nvar MapiRequest = require('./mapi-request');\nvar constants = require('../constants');\n\n/**\n * A low-level Mapbox API client. Use it to create service clients\n * that share the same configuration.\n *\n * Services and `MapiRequest`s use the underlying `MapiClient` to\n * determine how to create, send, and abort requests in a way\n * that is appropriate to the configuration and environment\n * (Node or the browser).\n *\n * @class MapiClient\n * @property {string} accessToken - The Mapbox access token assigned\n *   to this client.\n * @property {string} [origin] - The origin\n *   to use for API requests. Defaults to https://api.mapbox.com.\n */\n\nfunction MapiClient(options) {\n  if (!options || !options.accessToken) {\n    throw new Error('Cannot create a client without an access token');\n  }\n  // Try parsing the access token to determine right away if it's valid.\n  parseToken(options.accessToken);\n\n  this.accessToken = options.accessToken;\n  this.origin = options.origin || constants.API_ORIGIN;\n}\n\nMapiClient.prototype.createRequest = function createRequest(requestOptions) {\n  return new MapiRequest(this, requestOptions);\n};\n\nmodule.exports = MapiClient;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/lib/classes/mapi-client.js","'use strict';\n\nvar base64 = require('base-64');\n\nvar tokenCache = {};\n\nfunction parseToken(token) {\n  if (tokenCache[token]) {\n    return tokenCache[token];\n  }\n\n  var parts = token.split('.');\n  var usage = parts[0];\n  var rawPayload = parts[1];\n  if (!rawPayload) {\n    throw new Error('Invalid token');\n  }\n\n  var parsedPayload = parsePaylod(rawPayload);\n\n  var result = {\n    usage: usage,\n    user: parsedPayload.u\n  };\n  if (has(parsedPayload, 'a')) result.authorization = parsedPayload.a;\n  if (has(parsedPayload, 'exp')) result.expires = parsedPayload.exp * 1000;\n  if (has(parsedPayload, 'iat')) result.created = parsedPayload.iat * 1000;\n  if (has(parsedPayload, 'scopes')) result.scopes = parsedPayload.scopes;\n  if (has(parsedPayload, 'client')) result.client = parsedPayload.client;\n  if (has(parsedPayload, 'll')) result.lastLogin = parsedPayload.ll;\n  if (has(parsedPayload, 'iu')) result.impersonator = parsedPayload.iu;\n\n  tokenCache[token] = result;\n  return result;\n}\n\nfunction parsePaylod(rawPayload) {\n  try {\n    return JSON.parse(base64.decode(rawPayload));\n  } catch (parseError) {\n    throw new Error('Invalid token');\n  }\n}\n\nfunction has(obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n}\n\nmodule.exports = parseToken;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/parse-mapbox-token/index.js","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildURL = require('./../helpers/buildURL');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\nvar btoa = (typeof window !== 'undefined' && window.btoa && window.btoa.bind(window)) || require('./../helpers/btoa');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n    var loadEvent = 'onreadystatechange';\n    var xDomain = false;\n\n    // For IE 8/9 CORS support\n    // Only supports POST and GET calls and doesn't returns the response headers.\n    // DON'T do this for testing b/c XMLHttpRequest is mocked, not XDomainRequest.\n    if (process.env.NODE_ENV !== 'test' &&\n        typeof window !== 'undefined' &&\n        window.XDomainRequest && !('withCredentials' in request) &&\n        !isURLSameOrigin(config.url)) {\n      request = new window.XDomainRequest();\n      loadEvent = 'onload';\n      xDomain = true;\n      request.onprogress = function handleProgress() {};\n      request.ontimeout = function handleTimeout() {};\n    }\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request[loadEvent] = function handleLoad() {\n      if (!request || (request.readyState !== 4 && !xDomain)) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        // IE sends 1223 instead of 204 (https://github.com/mzabriskie/axios/issues/201)\n        status: request.status === 1223 ? 204 : request.status,\n        statusText: request.status === 1223 ? 'No Content' : request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED'));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = require('./../helpers/cookies');\n\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(config.url)) && config.xsrfCookieName ?\n          cookies.read(config.xsrfCookieName) :\n          undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (config.withCredentials) {\n      request.withCredentials = true;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        if (request.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/adapters/xhr.js","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/cancel/Cancel.js","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/cancel/isCancel.js","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n @ @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, response);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/core/createError.js","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/helpers/bind.js","/* globals __webpack_amd_options__ */\r\nmodule.exports = __webpack_amd_options__;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/amd-options.js\n// module id = 17\n// module chunks = 0","const MapboxGeocoder = require('@mapbox/mapbox-gl-geocoder')\nimport loadPlaces from './loadPlaces'\n\nfunction autocomplete(input, latInput, lngInput) {\n\tif (!input) return\n\n\tconst MAPBOX_KEY =\n\t\t'pk.eyJ1IjoiamVuYXJvOTQiLCJhIjoiY2pzbnBpajh3MGV5MTQ0cnJ3dmJlczFqbiJ9.Aktxa1EqTzpy7yEaBDM1xQ'\n\tmapboxgl.accessToken = MAPBOX_KEY\n\n\tlet geocoder = new MapboxGeocoder({\n\t\taccessToken: mapboxgl.accessToken,\n\t\tmapboxgl: mapboxgl,\n\t})\n\n\tgeocoder.addTo('#search-address')\n\n\tif(input.id === \"mapSearch\"){\n\t\tgeocoder.on('result', e => {\n\t\t\tinput.value = e.result.place_name\n\t\t\tloadPlaces(e.result.center[1], e.result.center[0])\n\t\t})\n\t}else{\n\n\t\tgeocoder.on('result', e => {\n\t\t\tinput.value = e.result.place_name\n\t\t\tlngInput.value = e.result.geometry.coordinates[0]\n\t\t\tlatInput.value = e.result.geometry.coordinates[1]\n\t\t})\n\t}\n\n\tdocument.querySelector('#search-address>div').style =\n\t\t'width: 100%; max-width: unset; border: 1px solid #e6e6e6; box-shadow: unset; border-radius: 0; z-index: 1000; font-family: sans-serif; font-size: 100%; line-height: 1.15; margin: 0 0 10px 0;'\n\n\n}\n\nexport default autocomplete\n\n\n// WEBPACK FOOTER //\n// ./public/javascripts/modules/autocomplete.js","import axios from 'axios';\nimport { $ } from './bling';\n\nfunction ajaxHeart(e){\n\te.preventDefault();\n\taxios\n\t\t.post(this.action)\n\t\t.then(res => {\n\t\t\tconst isHearted = this.heart.classList.toggle('heart__button--hearted'); //this.heart picked up from the name element in form.\n\t\t\t//update the counter in header with heart length\n\t\t\t$('.heart-count').textContent = res.data.hearts.length;\n\t\t\tif(isHearted){\n\t\t\t\tthis.heart.classList.add('heart__button--float');\n\t\t\t\tsetTimeout(() => this.heart.classList.remove('heart__button--float'), 2500)\n\t\t\t}\n\n\t\t})\n\t\t.catch(\n\t\t\t(console.error)\n\t\t)\n}\n\nexport default ajaxHeart;\n\n\n// WEBPACK FOOTER //\n// ./public/javascripts/modules/heart.js","import axios from 'axios';\nimport dompurify from 'dompurify';\n\nfunction searchResultsHTML(stores){\n\treturn stores.map(store => {\n\t\treturn `\n\t\t\t<a href=\"/store/${store.slug}\" class=\"search__result\">\n\t\t\t\t<strong>${store.name}</strong>\n\t\t\t</a>\n\t\t`\n\t}).join('');\n}\n\n\nfunction typeAhead(search){\n\tif(!search) return;\n\n\tconst searchInput = search.querySelector('input[name=\"search\"]');\n\tconst searchResults = search.querySelector('.search__results');\n\n\tsearchInput.on('input', function(){\n\t\tif(!this.value){\n\t\t\tsearchResults.style.display ='none';\n\t\t\treturn;\n\t\t}\n\t\t// searchResults.innerHTML=`No results for ${this.value}`;\n\t\tsearchResults.style.display = \"block\";\n\t\taxios\n\t\t.get(`/api/search?q=${this.value}`)\n\t\t.then(res => {\n\t\t\tif(res.data.length){\n\t\t\t\tsearchResults.innerHTML= dompurify.sanitize(searchResultsHTML(res.data));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsearchResults.innerHTML = dompurify.sanitize(`<div class=\"search__result\">No results for ${this.value} found!</div>`);\n\t\t}).catch(err => {\n\t\t\tconsole.error(err);\n\t\t})\n\t})\n\n\t//handle keyboard inputs\n\tsearchInput.on('keyup', (e) => {\n\t\t//if they aren't pressing up down or enter who cares?\n\t\tif(![38,40,13].includes(e.keyCode)){\n\t\t\treturn;\n\t\t}\n\t\tconst activeClass = 'search__result--active';\n\t\tconst current = search.querySelector(`.${activeClass}`);\n\t\tconst items = search.querySelectorAll('.search__result');\n\t\tlet next;\n\t\tif(e.keyCode === 40 && current){\n\t\t\t//if pushing down and current\n\t\t\tnext = current.nextElementSibling || items[0];\n\t\t}\n\t\telse if(e.keyCode === 40){\n\t\t\t//no current, select the first\n\t\t\tnext = items[0];\n\t\t}else if(e.keyCode === 38 && current){\n\t\t\t//if pushing up and there is a current\n\t\t\tnext = current.previousElementSibling || items[items.length - 1];\n\t\t}else if(e.keyCode === 38){\n\t\t\tnext = items[items.length - 1];\n\t\t}else if(e.keyCode === 13 && current.href){\n\t\t\t//hitting enter and clicking on element with link\n\t\t\twindow.location = current.href;\n\t\t\treturn;\n\t\t}\n\t\tif(current){\n\t\t\tcurrent.classList.remove(activeClass);\n\t\t}\n\t\tnext.classList.add(activeClass);\n\t\t// console.log(next);\n\n\t})\n\n}\n\nexport default typeAhead;\n\n\n\n// WEBPACK FOOTER //\n// ./public/javascripts/modules/typeAhead.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/sass/style.scss\n// module id = 21\n// module chunks = 0","'use strict';\n/**\n * Validators are functions which assert certain type.\n * They can return a string which can then be used\n * to display a helpful error message.\n * They can also return a function for a custom error message.\n */\nvar isPlainObject = require('is-plain-obj');\nvar xtend = require('xtend');\n\nvar DEFAULT_ERROR_PATH = 'value';\nvar NEWLINE_INDENT = '\\n  ';\n\nvar v = {};\n\n/**\n * Runners\n *\n * Take root validators and run assertion\n */\nv.assert = function(rootValidator, options) {\n  options = options || {};\n  return function(value) {\n    var message = validate(rootValidator, value);\n    // all good\n    if (!message) {\n      return;\n    }\n\n    var errorMessage = processMessage(message, options);\n\n    if (options.apiName) {\n      errorMessage = options.apiName + ': ' + errorMessage;\n    }\n\n    throw new Error(errorMessage);\n  };\n};\n\n/**\n * Higher Order Validators\n *\n * validators which take other validators as input\n * and output a new validator\n */\nv.shape = function shape(validatorObj) {\n  var validators = objectEntries(validatorObj);\n  return function shapeValidator(value) {\n    var validationResult = validate(v.plainObject, value);\n\n    if (validationResult) {\n      return validationResult;\n    }\n\n    var key, validator;\n    var errorMessages = [];\n\n    for (var i = 0; i < validators.length; i++) {\n      key = validators[i].key;\n      validator = validators[i].value;\n      validationResult = validate(validator, value[key]);\n\n      if (validationResult) {\n        // return [key].concat(validationResult);\n        errorMessages.push([key].concat(validationResult));\n      }\n    }\n\n    if (errorMessages.length < 2) {\n      return errorMessages[0];\n    }\n\n    // enumerate all the error messages\n    return function(options) {\n      errorMessages = errorMessages.map(function(message) {\n        var key = message[0];\n        var renderedMessage = processMessage(message, options)\n          .split('\\n')\n          .join(NEWLINE_INDENT); // indents any inner nesting\n        return '- ' + key + ': ' + renderedMessage;\n      });\n\n      var objectId = options.path.join('.');\n      var ofPhrase = objectId === DEFAULT_ERROR_PATH ? '' : ' of ' + objectId;\n\n      return (\n        'The following properties' +\n        ofPhrase +\n        ' have invalid values:' +\n        NEWLINE_INDENT +\n        errorMessages.join(NEWLINE_INDENT)\n      );\n    };\n  };\n};\n\nv.strictShape = function strictShape(validatorObj) {\n  var shapeValidator = v.shape(validatorObj);\n  return function strictShapeValidator(value) {\n    var shapeResult = shapeValidator(value);\n    if (shapeResult) {\n      return shapeResult;\n    }\n\n    var invalidKeys = Object.keys(value).reduce(function(memo, valueKey) {\n      if (validatorObj[valueKey] === undefined) {\n        memo.push(valueKey);\n      }\n      return memo;\n    }, []);\n\n    if (invalidKeys.length !== 0) {\n      return function() {\n        return 'The following keys are invalid: ' + invalidKeys.join(', ');\n      };\n    }\n  };\n};\n\nv.arrayOf = function arrayOf(validator) {\n  return createArrayValidator(validator);\n};\n\nv.tuple = function tuple() {\n  var validators = Array.isArray(arguments[0])\n    ? arguments[0]\n    : Array.prototype.slice.call(arguments);\n  return createArrayValidator(validators);\n};\n\n// Currently array validation fails when the first invalid item is found.\nfunction createArrayValidator(validators) {\n  var validatingTuple = Array.isArray(validators);\n  var getValidator = function(index) {\n    if (validatingTuple) {\n      return validators[index];\n    }\n    return validators;\n  };\n\n  return function arrayValidator(value) {\n    var validationResult = validate(v.plainArray, value);\n    if (validationResult) {\n      return validationResult;\n    }\n\n    if (validatingTuple && value.length !== validators.length) {\n      return 'an array with ' + validators.length + ' items';\n    }\n\n    for (var i = 0; i < value.length; i++) {\n      validationResult = validate(getValidator(i), value[i]);\n      if (validationResult) {\n        return [i].concat(validationResult);\n      }\n    }\n  };\n}\n\nv.required = function required(validator) {\n  function requiredValidator(value) {\n    if (value == null) {\n      return function(options) {\n        return formatErrorMessage(\n          options,\n          isArrayCulprit(options.path)\n            ? 'cannot be undefined/null.'\n            : 'is required.'\n        );\n      };\n    }\n    return validator.apply(this, arguments);\n  }\n  requiredValidator.__required = true;\n\n  return requiredValidator;\n};\n\nv.oneOfType = function oneOfType() {\n  var validators = Array.isArray(arguments[0])\n    ? arguments[0]\n    : Array.prototype.slice.call(arguments);\n  return function oneOfTypeValidator(value) {\n    var messages = validators\n      .map(function(validator) {\n        return validate(validator, value);\n      })\n      .filter(Boolean);\n\n    // If we don't have as many messages as no. of validators,\n    // then at least one validator was ok with the value.\n    if (messages.length !== validators.length) {\n      return;\n    }\n\n    // check primitive type\n    if (\n      messages.every(function(message) {\n        return message.length === 1 && typeof message[0] === 'string';\n      })\n    ) {\n      return orList(\n        messages.map(function(m) {\n          return m[0];\n        })\n      );\n    }\n\n    // Complex oneOfTypes like\n    // `v.oneOftypes(v.shape({name: v.string})`, `v.shape({name: v.number}))`\n    // are complex \\_()_/. For the current scope only returning the longest message.\n    return messages.reduce(function(max, arr) {\n      return arr.length > max.length ? arr : max;\n    });\n  };\n};\n\n/**\n * Meta Validators\n * which take options as argument (not validators)\n * and return a new primitive validator\n */\nv.equal = function equal(compareWith) {\n  return function equalValidator(value) {\n    if (value !== compareWith) {\n      return JSON.stringify(compareWith);\n    }\n  };\n};\n\nv.oneOf = function oneOf() {\n  var options = Array.isArray(arguments[0])\n    ? arguments[0]\n    : Array.prototype.slice.call(arguments);\n  var validators = options.map(function(value) {\n    return v.equal(value);\n  });\n\n  return v.oneOfType.apply(this, validators);\n};\n\nv.range = function range(compareWith) {\n  var min = compareWith[0];\n  var max = compareWith[1];\n  return function rangeValidator(value) {\n    var validationResult = validate(v.number, value);\n\n    if (validationResult || value < min || value > max) {\n      return 'number between ' + min + ' & ' + max + ' (inclusive)';\n    }\n  };\n};\n\n/**\n * Primitive validators\n *\n * simple validators which return a string or undefined\n */\nv.any = function any() {\n  return;\n};\n\nv.boolean = function boolean(value) {\n  if (typeof value !== 'boolean') {\n    return 'boolean';\n  }\n};\n\nv.number = function number(value) {\n  if (typeof value !== 'number') {\n    return 'number';\n  }\n};\n\nv.plainArray = function plainArray(value) {\n  if (!Array.isArray(value)) {\n    return 'array';\n  }\n};\n\nv.plainObject = function plainObject(value) {\n  if (!isPlainObject(value)) {\n    return 'object';\n  }\n};\n\nv.string = function string(value) {\n  if (typeof value !== 'string') {\n    return 'string';\n  }\n};\n\nv.func = function func(value) {\n  if (typeof value !== 'function') {\n    return 'function';\n  }\n};\n\nfunction validate(validator, value) {\n  // assertions are optional by default unless wrapped in v.require\n  if (value == null && !validator.hasOwnProperty('__required')) {\n    return;\n  }\n\n  var result = validator(value);\n\n  if (result) {\n    return Array.isArray(result) ? result : [result];\n  }\n}\n\nfunction processMessage(message, options) {\n  // message array follows the convention\n  // [...path, result]\n  // path is an array of object keys / array indices\n  // result is output of the validator\n  var len = message.length;\n\n  var result = message[len - 1];\n  var path = message.slice(0, len - 1);\n\n  if (path.length === 0) {\n    path = [DEFAULT_ERROR_PATH];\n  }\n  options = xtend(options, { path: path });\n\n  return typeof result === 'function'\n    ? result(options) // allows customization of result\n    : formatErrorMessage(options, prettifyResult(result));\n}\n\nfunction orList(list) {\n  if (list.length < 2) {\n    return list[0];\n  }\n  if (list.length === 2) {\n    return list.join(' or ');\n  }\n  return list.slice(0, -1).join(', ') + ', or ' + list.slice(-1);\n}\n\nfunction prettifyResult(result) {\n  return 'must be ' + addArticle(result) + '.';\n}\n\nfunction addArticle(nounPhrase) {\n  if (/^an? /.test(nounPhrase)) {\n    return nounPhrase;\n  }\n  if (/^[aeiou]/i.test(nounPhrase)) {\n    return 'an ' + nounPhrase;\n  }\n  if (/^[a-z]/i.test(nounPhrase)) {\n    return 'a ' + nounPhrase;\n  }\n  return nounPhrase;\n}\n\nfunction formatErrorMessage(options, prettyResult) {\n  var arrayCulprit = isArrayCulprit(options.path);\n  var output = options.path.join('.') + ' ' + prettyResult;\n  var prepend = arrayCulprit ? 'Item at position ' : '';\n\n  return prepend + output;\n}\n\nfunction isArrayCulprit(path) {\n  return typeof path[path.length - 1] == 'number' || typeof path[0] == 'number';\n}\n\nfunction objectEntries(obj) {\n  return Object.keys(obj || {}).map(function(key) {\n    return { key: key, value: obj[key] };\n  });\n}\n\nv.validate = validate;\nv.processMessage = processMessage;\n\nmodule.exports = v;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/fusspot/lib/index.js","'use strict';\nvar nanoid = require('nanoid')\n\n/**\n * Construct a new mapbox event client to send interaction events to the mapbox event service\n * @param {Object} options options with which to create the service\n * @param {String} options.accessToken the mapbox access token to make requests\n * @param {Number} [options.flushInterval=1000] the number of ms after which to flush the event queue\n * @param {Number} [options.maxQueueSize=100] the number of events to queue before flushing\n * @private\n */\nfunction MapboxEventManager(options) {\n  this.origin = options.origin || 'https://api.mapbox.com';\n  this.endpoint = 'events/v2';\n  this.access_token = options.accessToken;\n  this.version = '0.2.0'\n  this.sessionID = this.generateSessionID();\n  this.userAgent = this.getUserAgent();\n\n  this.options = options;\n  this.send = this.send.bind(this);\n\n\n  // parse global options to be sent with each request\n  this.countries = (options.countries) ? options.countries.split(\",\") : null;\n  this.types = (options.types) ? options.types.split(\",\") : null;\n  this.bbox = (options.bbox) ? options.bbox : null;\n  this.language = (options.language) ? options.language.split(\",\") : null;\n  this.limit = (options.limit) ? +options.limit : null;\n  this.locale = navigator.language || null;\n  this.enableEventLogging = this.shouldEnableLogging(options);\n  this.eventQueue = new Array();\n  this.flushInterval = options.flushInterval || 1000;\n  this.maxQueueSize = options.maxQueueSize || 100;\n  this.timer = (this.flushInterval) ? setTimeout(this.flush.bind(this), this.flushInterval) : null;\n  // keep some state to deduplicate requests if necessary\n  this.lastSentInput = \"\";\n  this.lastSentIndex = 0;\n}\n\nMapboxEventManager.prototype = {\n  /**\n     * Send a search.select event to the mapbox events service\n     * This event marks the array index of the item selected by the user out of the array of possible options\n     * @private\n     * @param {Object} selected the geojson feature selected by the user\n     * @param {Object} geocoder a mapbox-gl-geocoder instance\n     * @returns {Promise}\n     */\n  select: function(selected, geocoder){\n    var resultIndex = this.getSelectedIndex(selected, geocoder);\n    var payload = this.getEventPayload('search.select', geocoder);\n    payload.resultIndex = resultIndex;\n    payload.resultPlaceName  = selected.place_name;\n    payload.resultId = selected.id;\n    if ((resultIndex === this.lastSentIndex && payload.queryString === this.lastSentInput) || resultIndex == -1) {\n      // don't log duplicate events if the user re-selected the same feature on the same search\n      return;\n    }\n    this.lastSentIndex = resultIndex;\n    this.lastSentInput = payload.queryString;\n    if (!payload.queryString) return; // will be rejected\n    return this.push(payload)\n  },\n\n  /**\n     * Send a search-start event to the mapbox events service\n     * This turnstile event marks when a user starts a new search\n     * @private\n     * @param {Object} geocoder a mapbox-gl-geocoder instance\n     * @returns {Promise}\n     */\n  start: function(geocoder){\n    var payload = this.getEventPayload('search.start', geocoder);\n    if (!payload.queryString) return; // will be rejected\n    return this.push(payload);\n  },\n\n  /**\n   * Send a search-keyevent event to the mapbox events service\n   * This event records each keypress in sequence\n   * @private\n   * @param {Object} keyEvent the keydown event to log\n   * @param {Object} geocoder a mapbox-gl-geocoder instance\n   * \n   */\n  keyevent: function(keyEvent, geocoder){\n\n    //pass invalid event\n    if (!keyEvent.key) return;\n    // don't send events for keys that don't change the input\n    // TAB, ESC, LEFT, RIGHT, ENTER, UP, DOWN\n    if (keyEvent.metaKey || [9, 27, 37, 39, 13, 38, 40].indexOf(keyEvent.keyCode) !== -1) return;\n    var payload = this.getEventPayload('search.keystroke', geocoder);\n    payload.lastAction = keyEvent.key;\n    if (!payload.queryString) return; // will be rejected\n    return this.push(payload);\n  },\n\n  /**\n   * Send an event to the events service\n   *\n   * The event is skipped if the instance is not enabled to send logging events\n   *\n   * @private\n   * @param {Object} payload the http POST body of the event\n   * @param {Function} [callback] a callback function to invoke when the send has completed\n   * @returns {Promise}\n   */\n  send: function (payload, callback) {\n    if (!this.enableEventLogging) {\n      if (callback) return callback();\n      return;\n    }\n    var options = this.getRequestOptions(payload);\n    this.request(options, function(err){\n      if (err) return this.handleError(err, callback);\n      if (callback) {\n        return callback();\n      }\n    }.bind(this))\n  },\n  /**\n   * Get http request options\n   * @private\n   * @param {*} payload\n   */\n  getRequestOptions: function(payload){\n    if (!Array.isArray(payload)) payload = [payload];\n    var options = {\n      // events must be sent with POST\n      method: \"POST\",\n      host: this.origin,\n      path: this.endpoint +  \"?access_token=\" + this.access_token,\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body:JSON.stringify(payload) //events are arrays\n    }\n    return options\n  },\n\n  /**\n   * Get the event payload to send to the events service\n   * Most payload properties are shared across all events\n   * @private\n   * @param {String} event the name of the event to send to the events service. Valid options are 'search.start', 'search.select', 'search.feedback'.\n   * @param {Object} geocoder a mapbox-gl-geocoder instance\n   * @returns {Object} an event payload\n   */\n  getEventPayload: function (event, geocoder) {\n    var proximity;\n    if (!geocoder.options.proximity) proximity = null;\n    else proximity = [geocoder.options.proximity.longitude, geocoder.options.proximity.latitude];\n\n    var zoom = (geocoder._map) ? geocoder._map.getZoom() : undefined;\n    var payload = {\n      event: event,\n      created: +new Date(),\n      sessionIdentifier: this.sessionID,\n      country: this.countries,\n      userAgent: this.userAgent,\n      language: this.language,\n      bbox: this.bbox,\n      types: this.types,\n      endpoint: 'mapbox.places',\n      // fuzzyMatch: search.fuzzy, //todo  --> add to plugin\n      proximity: proximity,\n      limit: geocoder.options.limit,\n      // routing: search.routing, //todo --> add to plugin\n      mapZoom: zoom,\n      keyboardLocale: this.locale\n    }\n\n    // get the text in the search bar\n    if (event === \"search.select\"){\n      payload.queryString = geocoder.inputString;\n    }else if (event != \"search.select\" && geocoder._inputEl){\n      payload.queryString = geocoder._inputEl.value;\n    }else{\n      payload.queryString = geocoder.inputString;\n    }\n    return payload;\n  },\n\n  /**\n   * Wraps the request function for easier testing\n   * Make an http request and invoke a callback\n   * @private\n   * @param {Object} opts options describing the http request to be made\n   * @param {Function} callback the callback to invoke when the http request is completed\n   */\n  request: function (opts, callback) {\n    var xhttp = new XMLHttpRequest();\n    xhttp.onreadystatechange = function() {\n      if (this.readyState == 4 ) {\n        if (this.status == 204){\n          //success\n          return callback(null);\n        }else {\n          return callback(this.statusText);\n        }\n      }\n    };\n\n    xhttp.open(opts.method, opts.host + '/' + opts.path, true);\n    for (var header in opts.headers){\n      var headerValue = opts.headers[header];\n      xhttp.setRequestHeader(header, headerValue)\n    }\n    xhttp.send(opts.body);\n  },\n\n  /**\n   * Handle an error that occurred while making a request\n   * @param {Object} err an error instance to log\n   * @private\n   */\n  handleError: function (err, callback) {\n    if (callback) return callback(err);\n  },\n\n  /**\n   * Generate a session ID to be returned with all of the searches made by this geocoder instance\n   * ID is random and cannot be tracked across sessions\n   * @private\n   */\n  generateSessionID: function () {\n    return nanoid();\n  },\n\n  /**\n   * Get a user agent string to send with the request to the events service\n   * @private\n   */\n  getUserAgent: function () {\n    return 'mapbox-gl-geocoder.' + this.version + \".\" + navigator.userAgent;\n  },\n\n  /**\n     * Get the 0-based numeric index of the item that the user selected out of the list of options\n     * @private\n     * @param {Object} selected the geojson feature selected by the user\n     * @param {Object} geocoder a Mapbox-GL-Geocoder instance\n     * @returns {Number} the index of the selected result\n     */\n  getSelectedIndex: function(selected, geocoder){\n    if (!geocoder._typeahead) return;\n    var results = geocoder._typeahead.data;\n    var selectedID = selected.id;\n    var resultIDs = results.map(function (feature) {\n      return feature.id;\n    });\n    var selectedIdx = resultIDs.indexOf(selectedID);\n    return selectedIdx;\n  },\n\n  /**\n     * Check whether events should be logged\n     * Clients using a localGeocoder or an origin other than mapbox should not have events logged\n     * @private\n     */\n  shouldEnableLogging: function(options){\n    if (options.enableEventLogging === false) return false;\n    if (options.origin && options.origin.indexOf('api.mapbox.com') == -1) return false;\n    // hard to make sense of events when a local instance is suplementing results from origin\n    if (options.localGeocoder) return false;\n    // hard to make sense of events when a custom filter is in use\n    if (options.filter) return false;\n    return true;\n  },\n\n  /**\n   * Flush out the event queue by sending events to the events service\n   * @private\n   */\n  flush: function(){\n    if (this.eventQueue.length > 0){\n      this.send(this.eventQueue);\n      this.eventQueue = new Array();\n    }\n    // //reset the timer\n    if (this.timer)  clearTimeout(this.timer);\n    if (this.flushInterval) this.timer = setTimeout(this.flush.bind(this), this.flushInterval)\n  },\n\n  /**\n   * Push event into the pending queue\n   * @param {Object} evt the event to send to the events service\n   * @param {Boolean} forceFlush indicates that the event queue should be flushed after adding this event regardless of size of the queue\n   * @private\n   */\n  push: function(evt, forceFlush){\n    this.eventQueue.push(evt);\n    if (this.eventQueue.length >= this.maxQueueSize || forceFlush){\n      this.flush();\n    }\n  },\n\n  /**\n   * Flush any remaining events from the queue before it is removed\n   * @private\n   */\n  remove: function(){\n    this.flush();\n  }\n}\n\n\n\nmodule.exports = MapboxEventManager;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-gl-geocoder/lib/events.js","module.exports = {\n  'fr': {\n    'name': 'France',\n    'bbox': [[-4.59235, 41.380007], [9.560016, 51.148506]]\n  },\n  'us': {\n    'name': 'United States',\n    'bbox': [[-171.791111, 18.91619], [-66.96466, 71.357764]]\n  },\n  'ru': {\n    'name': 'Russia',\n    'bbox': [[19.66064, 41.151416], [190.10042, 81.2504]]\n  },\n  'ca': {\n    'name': 'Canada',\n    'bbox': [[-140.99778, 41.675105], [-52.648099, 83.23324]]\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-gl-geocoder/lib/exceptions.js","'use strict';\n\nvar Typeahead = require('suggestions');\nvar debounce = require('lodash.debounce');\nvar extend = require('xtend');\nvar EventEmitter = require('events').EventEmitter;\nvar exceptions = require('./exceptions');\nvar MapboxClient = require('@mapbox/mapbox-sdk');\nvar mbxGeocoder = require('@mapbox/mapbox-sdk/services/geocoding');\nvar MapboxEventManager = require('./events');\nvar localization = require('./localization');\nvar subtag = require('subtag');\n\n/**\n * A geocoder component using the [Mapbox Geocoding API](https://docs.mapbox.com/api/search/#geocoding)\n * @class MapboxGeocoder\n * @param {Object} options\n * @param {String} options.accessToken Required.\n * @param {String} [options.origin=https://api.mapbox.com] Use to set a custom API origin.\n * @param {Object} [options.mapboxgl] A [mapbox-gl](https://github.com/mapbox/mapbox-gl-js) instance to use when creating [Markers](https://docs.mapbox.com/mapbox-gl-js/api/#marker). Required if `options.marker` is `true`.\n * @param {Number} [options.zoom=16] On geocoded result what zoom level should the map animate to when a `bbox` isn't found in the response. If a `bbox` is found the map will fit to the `bbox`.\n * @param {Boolean|Object} [options.flyTo=true] If `false`, animating the map to a selected result is disabled. If `true`, animating the map will use the default animation parameters. If an object, it will be passed as `options` to the map [`flyTo`](https://docs.mapbox.com/mapbox-gl-js/api/#map#flyto) or [`fitBounds`](https://docs.mapbox.com/mapbox-gl-js/api/#map#fitbounds) method providing control over the animation of the transition.\n * @param {String} [options.placeholder=Search] Override the default placeholder attribute value.\n * @param {Object} [options.proximity] a proximity argument: this is\n * a geographical point given as an object with `latitude` and `longitude`\n * properties. Search results closer to this point will be given\n * higher priority.\n * @param {Boolean} [options.trackProximity=true] If `true`, the geocoder proximity will automatically update based on the map view.\n * @param {Boolean} [options.collapsed=false] If `true`, the geocoder control will collapse until hovered or in focus.\n * @param {Boolean} [options.clearAndBlurOnEsc=false] If `true`, the geocoder control will clear it's contents and blur when user presses the escape key.\n * @param {Boolean} [options.clearOnBlur=false] If `true`, the geocoder control will clear its value when the input blurs.\n * @param {Array} [options.bbox] a bounding box argument: this is\n * a bounding box given as an array in the format `[minX, minY, maxX, maxY]`.\n * Search results will be limited to the bounding box.\n * @param {string} [options.countries] a comma separated list of country codes to\n * limit results to specified country or countries.\n * @param {string} [options.types] a comma seperated list of types that filter\n * results to match those specified. See https://docs.mapbox.com/api/search/#data-types\n * for available types.\n * If reverseGeocode is enabled, you should specify one type. If you configure more than one type, the first type will be used.\n * @param {Number} [options.minLength=2] Minimum number of characters to enter before results are shown.\n * @param {Number} [options.limit=5] Maximum number of results to show.\n * @param {string} [options.language] Specify the language to use for response text and query result weighting. Options are IETF language tags comprised of a mandatory ISO 639-1 language code and optionally one or more IETF subtags for country or script. More than one value can also be specified, separated by commas. Defaults to the browser's language settings.\n * @param {Function} [options.filter] A function which accepts a Feature in the [Carmen GeoJSON](https://github.com/mapbox/carmen/blob/master/carmen-geojson.md) format to filter out results from the Geocoding API response before they are included in the suggestions list. Return `true` to keep the item, `false` otherwise.\n * @param {Function} [options.localGeocoder] A function accepting the query string which performs local geocoding to supplement results from the Mapbox Geocoding API. Expected to return an Array of GeoJSON Features in the [Carmen GeoJSON](https://github.com/mapbox/carmen/blob/master/carmen-geojson.md) format.\n * @param {distance|score} [options.reverseMode=distance] - Set the factors that are used to sort nearby results.\n * @param {boolean} [options.reverseGeocode=false] If `true`, enable reverse geocoding mode. In reverse geocoding, search input is expected to be coordinates in the form `lat, lon`, with suggestions being the reverse geocodes.\n * @param {Boolean} [options.enableEventLogging=true] Allow Mapbox to collect anonymous usage statistics from the plugin.\n * @param {Boolean|Object} [options.marker=true]  If `true`, a [Marker](https://docs.mapbox.com/mapbox-gl-js/api/#marker) will be added to the map at the location of the user-selected result using a default set of Marker options.  If the value is an object, the marker will be constructed using these options. If `false`, no marker will be added to the map. Requires that `options.mapboxgl` also be set.\n * @param {Function} [options.render] A function that specifies how the results should be rendered in the dropdown menu. This function should accepts a single [Carmen GeoJSON](https://github.com/mapbox/carmen/blob/master/carmen-geojson.md) object as input and return a string. Any HTML in the returned string will be rendered.\n * @param {Function} [options.getItemValue] A function that specifies how the selected result should be rendered in the search bar. This function should accept a single [Carmen GeoJSON](https://github.com/mapbox/carmen/blob/master/carmen-geojson.md) object as input and return a string. HTML tags in the output string will not be rendered. Defaults to `(item) => item.place_name`.\n * @param {String} [options.mode=mapbox.places] A string specifying the geocoding [endpoint](https://docs.mapbox.com/api/search/#endpoints) to query. Options are `mapbox.places` and `mapbox.places-permanent`. The `mapbox.places-permanent` mode requires an enterprise license for permanent geocodes.\n * @param {Boolean} [options.localGeocoderOnly=false] If `true`, indicates that the `localGeocoder` results should be the only ones returned to the user. If `false`, indicates that the `localGeocoder` results should be combined with those from the Mapbox API with the `localGeocoder` results ranked higher.\n * @example\n * var geocoder = new MapboxGeocoder({ accessToken: mapboxgl.accessToken });\n * map.addControl(geocoder);\n * @return {MapboxGeocoder} `this`\n *\n */\n\nfunction MapboxGeocoder(options) {\n  this._eventEmitter = new EventEmitter();\n  this.options = extend({}, this.options, options);\n  this.inputString = '';\n  this.fresh = true;\n  this.lastSelected = null;\n}\n\nMapboxGeocoder.prototype = {\n  options: {\n    zoom: 16,\n    flyTo: true,\n    trackProximity: true,\n    minLength: 2,\n    reverseGeocode: false,\n    limit: 5,\n    origin: 'https://api.mapbox.com',\n    enableEventLogging: true,\n    marker: true,\n    mapboxgl: null,\n    collapsed: false,\n    clearAndBlurOnEsc: false,\n    clearOnBlur: false,\n    getItemValue: function(item) {\n      return item.place_name\n    },\n    render: function(item) {\n      var placeName = item.place_name.split(',');\n      return '<div class=\"mapboxgl-ctrl-geocoder--suggestion\"><div class=\"mapboxgl-ctrl-geocoder--suggestion-title\">' + placeName[0]+ '</div><div class=\"mapboxgl-ctrl-geocoder--suggestion-address\">' + placeName.splice(1, placeName.length).join(',') + '</div></div>';\n    }\n  },\n\n  /**\n   * Add the geocoder to a container. The container can be either a `mapboxgl.Map`, an `HTMLElement` or a CSS selector string.\n   *\n   * If the container is a [`mapboxgl.Map`](https://docs.mapbox.com/mapbox-gl-js/api/map/), this function will behave identically to [`Map.addControl(geocoder)`](https://docs.mapbox.com/mapbox-gl-js/api/map/#map#addcontrol).\n   * If the container is an instance of [`HTMLElement`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement), then the geocoder will be appended as a child of that [`HTMLElement`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement).\n   * If the container is a [CSS selector string](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors), the geocoder will be appended to the element returned from the query.\n   *\n   * This function will throw an error if the container is none of the above.\n   * It will also throw an error if the referenced HTML element cannot be found in the `document.body`.\n   *\n   * For example, if the HTML body contains the element `<div id='geocoder-container'></div>`, the following script will append the geocoder to `#geocoder-container`:\n   *\n   * ```javascript\n   * var geocoder = new MapboxGeocoder({ accessToken: mapboxgl.accessToken });\n   * geocoder.addTo('#geocoder-container');\n   * ```\n   * @param {String|HTMLElement|mapboxgl.Map} container A reference to the container to which to add the geocoder\n   */\n  addTo: function(container){\n\n    function addToExistingContainer (geocoder, container) {\n      if (!document.body.contains(container)) {\n        throw new Error(\"Element provided to #addTo() exists, but is not in the DOM\")\n      }\n      const el = geocoder.onAdd(); //returns the input elements, which are then added to the requested html container\n      container.appendChild(el);\n    }\n\n    // if the container is a map, add the control like normal\n    if (container._controlContainer){\n      //  it's a mapbox-gl map, add like normal\n      container.addControl(this);\n    }\n    // if the container is an HTMLElement, then set the parent to be that element\n    else if (container instanceof HTMLElement) {\n      addToExistingContainer(this, container);\n    }\n    // if the container is a string, treat it as a CSS query\n    else if (typeof container == 'string'){\n      const parent = document.querySelectorAll(container);\n      if (parent.length === 0){\n        throw new Error(\"Element \", container, \"not found.\")\n      }\n\n      if (parent.length > 1){\n        throw new Error(\"Geocoder can only be added to a single html element\")\n      }\n\n      addToExistingContainer(this, parent[0]);\n    }else{\n      throw new Error(\"Error: addTo must be a mapbox-gl-js map, an html element, or a CSS selector query for a single html element\")\n    }\n  },\n\n  onAdd: function(map) {\n    if (map && typeof map != 'string'){\n      this._map = map;\n    }\n\n    this.setLanguage();\n\n    if (!this.options.localGeocoderOnly){\n      this.geocoderService = mbxGeocoder(\n        MapboxClient({\n          accessToken: this.options.accessToken,\n          origin: this.options.origin\n        })\n      );\n    }\n\n    if (this.options.localGeocoderOnly && !this.options.localGeocoder){\n      throw new Error(\"A localGeocoder function must be specified to use localGeocoderOnly mode\")\n    }\n\n    this.eventManager = new MapboxEventManager(this.options);\n\n    this._onChange = this._onChange.bind(this);\n    this._onKeyDown = this._onKeyDown.bind(this);\n    this._onPaste = this._onPaste.bind(this);\n    this._onBlur = this._onBlur.bind(this);\n    this._showButton = this._showButton.bind(this);\n    this._hideButton = this._hideButton.bind(this);\n    this._onQueryResult = this._onQueryResult.bind(this);\n    this.clear = this.clear.bind(this);\n    this._updateProximity = this._updateProximity.bind(this);\n    this._collapse = this._collapse.bind(this);\n    this._unCollapse = this._unCollapse.bind(this);\n    this._clear = this._clear.bind(this);\n    this._clearOnBlur = this._clearOnBlur.bind(this);\n\n    var el = (this.container = document.createElement('div'));\n    el.className = 'mapboxgl-ctrl-geocoder mapboxgl-ctrl';\n\n    var searchIcon = this.createIcon('search', '<path d=\"M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z\"/>')\n\n    this._inputEl = document.createElement('input');\n    this._inputEl.type = 'text';\n    this._inputEl.className = 'mapboxgl-ctrl-geocoder--input';\n\n    this.setPlaceholder();\n\n    if (this.options.collapsed) {\n      this._collapse();\n      this.container.addEventListener('mouseenter', this._unCollapse);\n      this.container.addEventListener('mouseleave', this._collapse);\n      this._inputEl.addEventListener('focus', this._unCollapse);\n    }\n\n    if (this.options.collapsed || this.options.clearOnBlur) {\n      this._inputEl.addEventListener('blur', this._onBlur);\n    }\n\n    this._inputEl.addEventListener('keydown', debounce(this._onKeyDown, 200));\n    this._inputEl.addEventListener('paste', this._onPaste);\n    this._inputEl.addEventListener('change', this._onChange);\n    this.container.addEventListener('mouseenter', this._showButton);\n    this.container.addEventListener('mouseleave', this._hideButton);\n    this._inputEl.addEventListener('keyup', function(e){\n      this.eventManager.keyevent(e, this);\n    }.bind(this));\n\n    var actions = document.createElement('div');\n    actions.classList.add('mapboxgl-ctrl-geocoder--pin-right');\n\n    this._clearEl = document.createElement('button');\n    this._clearEl.setAttribute('aria-label', 'Clear');\n    this._clearEl.addEventListener('click', this.clear);\n    this._clearEl.className = 'mapboxgl-ctrl-geocoder--button';\n\n    var buttonIcon = this.createIcon('close', '<path d=\"M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z\"/>')\n    this._clearEl.appendChild(buttonIcon);\n\n    this._loadingEl = this.createIcon('loading', '<path fill=\"#333\" d=\"M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z\"/><path opacity=\".1\" d=\"M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z\"/>');\n\n    actions.appendChild(this._clearEl);\n    actions.appendChild(this._loadingEl);\n\n    el.appendChild(searchIcon);\n    el.appendChild(this._inputEl);\n    el.appendChild(actions);\n\n    this._typeahead = new Typeahead(this._inputEl, [], {\n      filter: false,\n      minLength: this.options.minLength,\n      limit: this.options.limit\n    });\n\n    this.setRenderFunction(this.options.render);\n    this._typeahead.getItemValue = this.options.getItemValue;\n\n    this.mapMarker = null;\n    this._handleMarker = this._handleMarker.bind(this);\n    if (this._map){\n      if (this.options.trackProximity ) {\n        this._updateProximity();\n        this._map.on('moveend', this._updateProximity);\n      }\n      this._mapboxgl = this.options.mapboxgl;\n      if (!this._mapboxgl && this.options.marker) {\n        // eslint-disable-next-line no-console\n        console.error(\"No mapboxgl detected in options. Map markers are disabled. Please set options.mapboxgl.\");\n        this.options.marker = false;\n      }\n    }\n    return el;\n  },\n\n  createIcon: function(name, path) {\n    var icon = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    icon.setAttribute('class', 'mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-' + name);\n    icon.setAttribute('viewBox', '0 0 18 18');\n    icon.setAttribute('xml:space','preserve');\n    icon.setAttribute('width', 18);\n    icon.setAttribute('height', 18);\n    // IE does not have innerHTML for SVG nodes\n    if (!('innerHTML' in icon)) {\n      var SVGNodeContainer = document.createElement('div');\n      SVGNodeContainer.innerHTML = '<svg>' + path.valueOf().toString() + '</svg>';\n      var SVGNode = SVGNodeContainer.firstChild,\n        SVGPath = SVGNode.firstChild;\n      icon.appendChild(SVGPath);\n    } else {\n      icon.innerHTML = path;\n    }\n    return icon;\n  },\n\n  onRemove: function() {\n    this.container.parentNode.removeChild(this.container);\n\n    if (this.options.trackProximity && this._map) {\n      this._map.off('moveend', this._updateProximity);\n    }\n\n    this._removeMarker();\n\n    this._map = null;\n\n    return this;\n  },\n\n  _onPaste: function(e){\n    var value = (e.clipboardData || window.clipboardData).getData('text');\n    if (value.length >= this.options.minLength) {\n      this._geocode(value);\n    }\n  },\n\n  _onKeyDown: function(e) {\n    var ESC_KEY_CODE = 27,\n      TAB_KEY_CODE = 9;\n\n    if (e.keyCode === ESC_KEY_CODE && this.options.clearAndBlurOnEsc) {\n      this._clear(e);\n      return this._inputEl.blur();\n    }\n\n    // if target has shadowRoot, then get the actual active element inside the shadowRoot\n    var target = e.target && e.target.shadowRoot\n      ? e.target.shadowRoot.activeElement\n      : e.target;\n    var value = target ? target.value : '';\n\n    if (!value) {\n      this.fresh = true;\n      // the user has removed all the text\n      if (e.keyCode !== TAB_KEY_CODE) this.clear(e);\n      return (this._clearEl.style.display = 'none');\n    }\n\n    // TAB, ESC, LEFT, RIGHT, ENTER, UP, DOWN\n    if ((e.metaKey || [TAB_KEY_CODE, ESC_KEY_CODE, 37, 39, 13, 38, 40].indexOf(e.keyCode) !== -1))\n      return;\n\n    if (target.value.length >= this.options.minLength) {\n      this._geocode(target.value);\n    }\n  },\n\n  _showButton: function() {\n    if (this._typeahead.selected) this._clearEl.style.display = 'block';\n  },\n\n  _hideButton: function() {\n    if (this._typeahead.selected) this._clearEl.style.display = 'none';\n  },\n\n  _onBlur: function(e) {\n    if (this.options.clearOnBlur) {\n      this._clearOnBlur(e);\n    }\n    if (this.options.collapsed) {\n      this._collapse();\n    }\n  },\n  _onChange: function() {\n    var selected = this._typeahead.selected;\n    if (selected  && JSON.stringify(selected) !== this.lastSelected) {\n      this._clearEl.style.display = 'none';\n      if (this.options.flyTo) {\n        var flyOptions;\n        if (selected.properties && exceptions[selected.properties.short_code]) {\n          // Certain geocoder search results return (and therefore zoom to fit)\n          // an unexpectedly large bounding box: for example, both Russia and the\n          // USA span both sides of -180/180, or France includes the island of\n          // Reunion in the Indian Ocean. An incomplete list of these exceptions\n          // at ./exceptions.json provides \"reasonable\" bounding boxes as a\n          // short-term solution; this may be amended as necessary.\n          flyOptions = extend({}, this.options.flyTo);\n          if (this._map){\n            this._map.fitBounds(exceptions[selected.properties.short_code].bbox, flyOptions);\n          }\n        } else if (selected.bbox) {\n          var bbox = selected.bbox;\n          flyOptions = extend({}, this.options.flyTo);\n          if (this._map){\n            this._map.fitBounds([[bbox[0], bbox[1]], [bbox[2], bbox[3]]], flyOptions);\n          }\n        } else {\n          var defaultFlyOptions = {\n            zoom: this.options.zoom\n          }\n          flyOptions = extend({}, defaultFlyOptions, this.options.flyTo);\n          //  ensure that center is not overriden by custom options\n          flyOptions.center = selected.center;\n          if (this._map){\n            this._map.flyTo(flyOptions);\n          }\n        }\n      }\n      if (this.options.marker && this._mapboxgl){\n        this._handleMarker(selected);\n      }\n\n      // After selecting a feature, re-focus the textarea and set\n      // cursor at start.\n      this._inputEl.focus();\n      this._inputEl.scrollLeft = 0;\n      this._inputEl.setSelectionRange(0, 0);\n      this.lastSelected = JSON.stringify(selected);\n      this._eventEmitter.emit('result', { result: selected });\n      this.eventManager.select(selected, this);\n    }\n  },\n\n  _geocode: function(searchInput) {\n    this._loadingEl.style.display = 'block';\n    this._eventEmitter.emit('loading', { query: searchInput });\n    this.inputString = searchInput;\n    // Possible config proprerties to pass to client\n    var keys = [\n      'bbox',\n      'limit',\n      'proximity',\n      'countries',\n      'types',\n      'language',\n      'reverseMode',\n      'mode'\n    ];\n    var self = this;\n    // Create config object\n    var config = keys.reduce(function(config, key) {\n      if (self.options[key]) {\n        // countries, types, and language need to be passed in as arrays to client\n        // https://github.com/mapbox/mapbox-sdk-js/blob/master/services/geocoding.js#L38-L47\n        ['countries', 'types', 'language'].indexOf(key) > -1\n          ? (config[key] = self.options[key].split(/[\\s,]+/))\n          : (config[key] = self.options[key]);\n\n        if (key === 'proximity' && self.options[key] && typeof self.options[key].longitude === 'number' && typeof self.options[key].latitude === 'number') {\n          config[key] = [self.options[key].longitude, self.options[key].latitude]\n        }\n      }\n      return config;\n    }, {});\n\n    var request;\n    if (this.options.localGeocoderOnly){\n      request = Promise.resolve();\n    }\n    // check if searchInput resembles coordinates, and if it does,\n    // make the request a reverseGeocode\n    else if (\n      this.options.reverseGeocode &&\n      /(-?\\d+\\.?\\d*)[, ]+(-?\\d+\\.?\\d*)[ ]*$/.test(searchInput)\n    ) {\n      // parse coordinates\n      var coords = searchInput.split(/[\\s(,)?]+/).map(function(c) {\n        return parseFloat(c, 10);\n      }).reverse();\n\n      // client only accepts one type for reverseGeocode, so\n      // use first config type if one, if not default to poi\n      config.types ? [config.types[0]] : [\"poi\"];\n      config = extend(config, { query: coords, limit: 1 });\n\n      // drop proximity which may have been set by trackProximity since it's not supported by the reverseGeocoder\n      if ('proximity' in config) {\n        delete config.proximity;\n      }\n\n      request = this.geocoderService.reverseGeocode(config).send();\n    } else {\n      config = extend(config, { query: searchInput });\n      request = this.geocoderService.forwardGeocode(config).send();\n    }\n\n    var localGeocoderRes = [];\n    if (this.options.localGeocoder) {\n      localGeocoderRes = this.options.localGeocoder(searchInput);\n      if (!localGeocoderRes) {\n        localGeocoderRes = [];\n      }\n    }\n\n    request.then(\n      function(response) {\n        this._loadingEl.style.display = 'none';\n\n        var res = {};\n\n        if (!response){\n          res = {\n            type: 'FeatureCollection',\n            features: []\n          }\n        }else if (response.statusCode == '200') {\n          res = response.body;\n          res.request = response.request\n          res.headers = response.headers\n        }\n\n        res.config = config;\n        if (this.fresh){\n          this.eventManager.start(this);\n          this.fresh = false;\n        }\n        // supplement Mapbox Geocoding API results with locally populated results\n        res.features = res.features\n          ? localGeocoderRes.concat(res.features)\n          : localGeocoderRes;\n\n        // apply results filter if provided\n        if (this.options.filter && res.features.length) {\n          res.features = res.features.filter(this.options.filter);\n        }\n\n        if (res.features.length) {\n          this._clearEl.style.display = 'block';\n          this._eventEmitter.emit('results', res);\n          this._typeahead.update(res.features);\n        } else {\n          this._clearEl.style.display = 'none';\n          this._typeahead.selected = null;\n          this._renderNoResults();\n          this._eventEmitter.emit('results', res);\n        }\n\n      }.bind(this)\n    );\n\n    request.catch(\n      function(err) {\n        this._loadingEl.style.display = 'none';\n\n        // in the event of an error in the Mapbox Geocoding API still display results from the localGeocoder\n        if (localGeocoderRes.length && this.options.localGeocoder) {\n          this._clearEl.style.display = 'block';\n          this._typeahead.update(localGeocoderRes);\n        } else {\n          this._clearEl.style.display = 'none';\n          this._typeahead.selected = null;\n          this._renderError();\n        }\n\n        this._eventEmitter.emit('results', { features: localGeocoderRes });\n        this._eventEmitter.emit('error', { error: err });\n      }.bind(this)\n    );\n\n    return request;\n  },\n\n  /**\n   * Shared logic for clearing input\n   * @param {Event} [ev] the event that triggered the clear, if available\n   * @private\n   *\n   */\n  _clear: function(ev) {\n    if (ev) ev.preventDefault();\n    this._inputEl.value = '';\n    this._typeahead.selected = null;\n    this._typeahead.clear();\n    this._onChange();\n    this._clearEl.style.display = 'none';\n    this._removeMarker();\n    this.lastSelected = null;\n    this._eventEmitter.emit('clear');\n    this.fresh = true;\n  },\n\n  /**\n   * Clear and then focus the input.\n   * @param {Event} [ev] the event that triggered the clear, if available\n   *\n   */\n  clear: function(ev) {\n    this._clear(ev);\n    this._inputEl.focus();\n  },\n\n\n  /**\n   * Clear the input, without refocusing it. Used to implement clearOnBlur\n   * constructor option.\n   * @param {Event} [ev] the blur event\n   * @private\n   */\n  _clearOnBlur: function(ev) {\n    var ctx = this;\n\n    /*\n     * If relatedTarget is not found, assume user targeted the suggestions list.\n     * In that case, do not clear on blur. There are other edge cases where\n     * ev.relatedTarget could be null. Clicking on list always results in null\n     * relatedtarget because of upstream behavior in `suggestions`.\n     *\n     * The ideal solution would be to check if ev.relatedTarget is a child of\n     * the list. See issue #258 for details on why we can't do that yet.\n     */\n    if (ev.relatedTarget) {\n      ctx._clear(ev);\n    }\n  },\n\n  _onQueryResult: function(response) {\n    var results = response.body;\n    if (!results.features.length) return;\n    var result = results.features[0];\n    this._typeahead.selected = result;\n    this._inputEl.value = result.place_name;\n    this._onChange();\n  },\n\n  _updateProximity: function() {\n    // proximity is designed for local scale, if the user is looking at the whole world,\n    // it doesn't make sense to factor in the arbitrary centre of the map\n    if (!this._map){\n      return;\n    }\n    if (this._map.getZoom() > 9) {\n      var center = this._map.getCenter().wrap();\n      this.setProximity({ longitude: center.lng, latitude: center.lat });\n    } else {\n      this.setProximity(null);\n    }\n  },\n\n  _collapse: function() {\n    // do not collapse if input is in focus\n    if (!this._inputEl.value && this._inputEl !== document.activeElement) this.container.classList.add('mapboxgl-ctrl-geocoder--collapsed');\n  },\n\n  _unCollapse: function() {\n    this.container.classList.remove('mapboxgl-ctrl-geocoder--collapsed');\n  },\n\n  /**\n   * Set & query the input\n   * @param {string} searchInput location name or other search input\n   * @returns {MapboxGeocoder} this\n   */\n  query: function(searchInput) {\n    this._geocode(searchInput).then(this._onQueryResult);\n    return this;\n  },\n\n  _renderError: function(){\n    var errorMessage = \"<div class='mapbox-gl-geocoder--error'>There was an error reaching the server</div>\"\n    this._renderMessage(errorMessage);\n  },\n\n  _renderNoResults: function(){\n    var errorMessage = \"<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results'>No results found</div>\";\n    this._renderMessage(errorMessage);\n  },\n\n  _renderMessage: function(msg){\n    this._typeahead.update([]);\n    this._typeahead.selected = null;\n    this._typeahead.clear();\n    this._typeahead.renderError(msg);\n  },\n\n  /**\n   * Get the text to use as the search bar placeholder\n   *\n   * If placeholder is provided in options, then use options.placeholder\n   * Otherwise, if language is provided in options, then use the localized string of the first language if available\n   * Otherwise use the default\n   *\n   * @returns {String} the value to use as the search bar placeholder\n   * @private\n   */\n  _getPlaceholderText: function(){\n    if (this.options.placeholder) return this.options.placeholder;\n    if (this.options.language){\n      var firstLanguage = this.options.language.split(\",\")[0];\n      var language = subtag.language(firstLanguage);\n      var localizedValue = localization.placeholder[language];\n      if (localizedValue)  return localizedValue;\n    }\n    return 'Search';\n  },\n\n  /**\n   * Set input\n   * @param {string} searchInput location name or other search input\n   * @returns {MapboxGeocoder} this\n   */\n  setInput: function(searchInput) {\n    // Set input value to passed value and clear everything else.\n    this._inputEl.value = searchInput;\n    this._typeahead.selected = null;\n    this._typeahead.clear();\n    if (searchInput.length >= this.options.minLength) {\n      this._geocode(searchInput);\n    }\n    return this;\n  },\n\n  /**\n   * Set proximity\n   * @param {Object} proximity The new `options.proximity` value. This is a geographical point given as an object with `latitude` and `longitude` properties.\n   * @returns {MapboxGeocoder} this\n   */\n  setProximity: function(proximity) {\n    this.options.proximity = proximity;\n    return this;\n  },\n\n  /**\n   * Get proximity\n   * @returns {Object} The geocoder proximity\n   */\n  getProximity: function() {\n    return this.options.proximity;\n  },\n\n  /**\n   * Set the render function used in the results dropdown\n   * @param {Function} fn The function to use as a render function. This function accepts a single [Carmen GeoJSON](https://github.com/mapbox/carmen/blob/master/carmen-geojson.md) object as input and returns a string.\n   * @returns {MapboxGeocoder} this\n   */\n  setRenderFunction: function(fn){\n    if (fn && typeof(fn) == \"function\"){\n      this._typeahead.render = fn;\n    }\n    return this;\n  },\n\n  /**\n   * Get the function used to render the results dropdown\n   *\n   * @returns {Function} the render function\n   */\n  getRenderFunction: function(){\n    return this._typeahead.render;\n  },\n\n  /**\n   * Get the language to use in UI elements and when making search requests\n   *\n   * Look first at the explicitly set options otherwise use the browser's language settings\n   * @param {String} language Specify the language to use for response text and query result weighting. Options are IETF language tags comprised of a mandatory ISO 639-1 language code and optionally one or more IETF subtags for country or script. More than one value can also be specified, separated by commas.\n   * @returns {MapboxGeocoder} this\n   */\n  setLanguage: function(language){\n    var browserLocale = navigator.language || navigator.userLanguage || navigator.browserLanguage;\n    this.options.language = language || this.options.language || browserLocale;\n    return this;\n  },\n\n  /**\n   * Get the language to use in UI elements and when making search requests\n   * @returns {String} The language(s) used by the plugin, if any\n   */\n  getLanguage: function(){\n    return this.options.language;\n  },\n\n  /**\n   * Get the zoom level the map will move to when there is no bounding box on the selected result\n   * @returns {Number} the map zoom\n   */\n  getZoom: function(){\n    return this.options.zoom;\n  },\n\n  /**\n   * Set the zoom level\n   * @param {Number} zoom The zoom level that the map should animate to when a `bbox` isn't found in the response. If a `bbox` is found the map will fit to the `bbox`.\n   * @returns {MapboxGeocoder} this\n   */\n  setZoom: function(zoom){\n    this.options.zoom = zoom;\n    return this;\n  },\n\n  /**\n   * Get the parameters used to fly to the selected response, if any\n   * @returns {Boolean|Object} The `flyTo` option\n   */\n  getFlyTo: function(){\n    return this.options.flyTo;\n  },\n\n  /**\n   * Set the flyTo options\n   * @param {Boolean|Object} flyTo If false, animating the map to a selected result is disabled. If true, animating the map will use the default animation parameters. If an object, it will be passed as `options` to the map [`flyTo`](https://docs.mapbox.com/mapbox-gl-js/api/#map#flyto) or [`fitBounds`](https://docs.mapbox.com/mapbox-gl-js/api/#map#fitbounds) method providing control over the animation of the transition.\n   */\n  setFlyTo: function(flyTo){\n    this.options.flyTo = flyTo;\n    return this;\n  },\n\n  /**\n   * Get the value of the placeholder string\n   * @returns {String} The input element's placeholder value\n   */\n  getPlaceholder: function(){\n    return this.options.placeholder;\n  },\n\n  /**\n   * Set the value of the input element's placeholder\n   * @param {String} placeholder the text to use as the input element's placeholder\n   * @returns {MapboxGeocoder} this\n   */\n  setPlaceholder: function(placeholder){\n    this.placeholder = (placeholder) ? placeholder : this._getPlaceholderText();\n    this._inputEl.placeholder = this.placeholder;\n    this._inputEl.setAttribute('aria-label', this.placeholder);\n    return this\n  },\n\n  /**\n   * Get the bounding box used by the plugin\n   * @returns {Array<Number>} the bounding box, if any\n   */\n  getBbox: function(){\n    return this.options.bbox;\n  },\n\n  /**\n   * Set the bounding box to limit search results to\n   * @param {Array<Number>} bbox a bounding box given as an array in the format [minX, minY, maxX, maxY].\n   * @returns {MapboxGeocoder} this\n   */\n  setBbox: function(bbox){\n    this.options.bbox = bbox;\n    return this;\n  },\n\n  /**\n   * Get a list of the countries to limit search results to\n   * @returns {String} a comma separated list of countries to limit to, if any\n   */\n  getCountries: function(){\n    return this.options.countries;\n  },\n\n  /**\n   * Set the countries to limit search results to\n   * @param {String} countries a comma separated list of countries to limit to\n   * @returns {MapboxGeocoder} this\n   */\n  setCountries: function(countries){\n    this.options.countries = countries;\n    return this;\n  },\n\n  /**\n   * Get a list of the types to limit search results to\n   * @returns {String} a comma separated list of types to limit to\n   */\n  getTypes: function(){\n    return this.options.types;\n  },\n\n  /**\n   * Set the types to limit search results to\n   * @param {String} countries a comma separated list of types to limit to\n   * @returns {MapboxGeocoder} this\n   */\n  setTypes: function(types){\n    this.options.types = types;\n    return this;\n  },\n\n  /**\n   * Get the minimum number of characters typed to trigger results used in the plugin\n   * @returns {Number} The minimum length in characters before a search is triggered\n   */\n  getMinLength: function(){\n    return this.options.minLength;\n  },\n\n  /**\n   * Set the minimum number of characters typed to trigger results used by the plugin\n   * @param {Number} minLength the minimum length in characters\n   * @returns {MapboxGeocoder} this\n   */\n  setMinLength: function(minLength){\n    this.options.minLength = minLength;\n    if (this._typeahead)  this._typeahead.minLength = minLength;\n    return this;\n  },\n\n  /**\n   * Get the limit value for the number of results to display used by the plugin\n   * @returns {Number} The limit value for the number of results to display used by the plugin\n   */\n  getLimit: function(){\n    return this.options.limit;\n  },\n\n  /**\n   * Set the limit value for the number of results to display used by the plugin\n   * @param {Number} limit the number of search results to return\n   * @returns {MapboxGeocoder}\n   */\n  setLimit: function(limit){\n    this.options.limit = limit;\n    if (this._typeahead) this._typeahead.options.limit = limit;\n    return this;\n  },\n\n  /**\n   * Get the filter function used by the plugin\n   * @returns {Function} the filter function\n   */\n  getFilter: function(){\n    return this.options.filter;\n  },\n\n  /**\n   * Set the filter function used by the plugin.\n   * @param {Function} filter A function which accepts a Feature in the [Carmen GeoJSON](https://github.com/mapbox/carmen/blob/master/carmen-geojson.md) format to filter out results from the Geocoding API response before they are included in the suggestions list. Return `true` to keep the item, `false` otherwise.\n   * @returns {MapboxGeocoder} this\n   */\n  setFilter: function(filter){\n    this.options.filter = filter;\n    return this;\n  },\n\n  /**\n   * Set the geocoding endpoint used by the plugin.\n   * @param {Function} origin A function which accepts an HTTPS URL to specify the endpoint to query results from.\n   * @returns {MapboxGeocoder} this\n   */\n  setOrigin: function(origin){\n    this.options.origin = origin;\n    this.geocoderService = mbxGeocoder(\n      MapboxClient({\n        accessToken: this.options.accessToken,\n        origin: this.options.origin\n      })\n    );\n    return this;\n  },\n\n  /**\n   * Get the geocoding endpoint the plugin is currently set to\n   * @returns {Function} the endpoint URL\n   */\n  getOrigin: function(){\n    return this.options.origin;\n  },\n\n  /**\n   * Handle the placement of a result marking the selected result\n   * @private\n   * @param {Object} selected the selected geojson feature\n   * @returns {MapboxGeocoder} this\n   */\n  _handleMarker: function(selected){\n    // clean up any old marker that might be present\n    if (!this._map){\n      return;\n    }\n    this._removeMarker();\n    var defaultMarkerOptions = {\n      color: '#4668F2'\n    }\n    var markerOptions = extend({}, defaultMarkerOptions, this.options.marker)\n    this.mapMarker = new this._mapboxgl.Marker(markerOptions);\n    if (selected.center) {\n      this.mapMarker\n        .setLngLat(selected.center)\n        .addTo(this._map);\n    } else if (selected.geometry && selected.geometry.type && selected.geometry.type === 'Point' && selected.geometry.coordinates) {\n      this.mapMarker\n        .setLngLat(selected.geometry.coordinates)\n        .addTo(this._map);\n    }\n    return this;\n  },\n\n  /**\n   * Handle the removal of a result marker\n   * @private\n   */\n  _removeMarker: function(){\n    if (this.mapMarker){\n      this.mapMarker.remove();\n      this.mapMarker = null;\n    }\n  },\n\n  /**\n   * Subscribe to events that happen within the plugin.\n   * @param {String} type name of event. Available events and the data passed into their respective event objects are:\n   *\n   * - __clear__ `Emitted when the input is cleared`\n   * - __loading__ `{ query } Emitted when the geocoder is looking up a query`\n   * - __results__ `{ results } Fired when the geocoder returns a response`\n   * - __result__ `{ result } Fired when input is set`\n   * - __error__ `{ error } Error as string`\n   * @param {Function} fn function that's called when the event is emitted.\n   * @returns {MapboxGeocoder} this;\n   */\n  on: function(type, fn) {\n    this._eventEmitter.on(type, fn);\n    return this;\n  },\n\n  /**\n   * Remove an event\n   * @returns {MapboxGeocoder} this\n   * @param {String} type Event name.\n   * @param {Function} fn Function that should unsubscribe to the event emitted.\n   */\n  off: function(type, fn) {\n    this._eventEmitter.removeListener(type, fn);\n    this.eventManager.remove();\n    return this;\n  }\n};\n\nmodule.exports = MapboxGeocoder;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-gl-geocoder/lib/index.js","'use strict';\n\n/**\n * Localized values for the placeholder string\n * \n * @private\n */\nvar placeholder = {\n  // list drawn from https://docs.mapbox.com/api/search/#language-coverage\n  'de': 'Suche', // german\n  'it': 'Ricerca', //italian\n  'en': 'Search', // english\n  'nl': 'Zoeken', //dutch\n  'fr': 'Chercher',  //french\n  'ca': 'Cerca', //catalan\n  'he': '', //hebrew\n  'ja': '',  //japanese\n  'lv': 'Meklt', //latvian\n  'pt': 'Procurar', //portuguese \n  'sr': '', //serbian\n  'zh': '', //chinese-simplified\n  'cs': 'Vyhledvn', //czech\n  'hu': 'Keress', //hungarian\n  'ka': '', // georgian\n  'nb': 'Ske', //norwegian\n  'sk': 'Vyhadvanie', //slovak\n  'th': '', //thai\n  'fi': 'Hae',//finnish\n  'is': 'Leita',//icelandic\n  'ko': '',//korean\n  'pl':  'Szukaj', //polish\n  'sl': 'Iskanje', //slovenian\n  'fa': '' //persian(aka farsi)\n}\n\nmodule.exports = {placeholder: placeholder};\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-gl-geocoder/lib/localization.js","'use strict';\n\nvar client = require('./lib/client');\n\nmodule.exports = client;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/index.js","'use strict';\n\nvar MapiResponse = require('../classes/mapi-response');\nvar MapiError = require('../classes/mapi-error');\nvar constants = require('../constants');\nvar parseHeaders = require('../helpers/parse-headers');\n\n// Keys are request IDs, values are XHRs.\nvar requestsUnderway = {};\n\nfunction browserAbort(request) {\n  var xhr = requestsUnderway[request.id];\n  if (!xhr) return;\n  xhr.abort();\n  delete requestsUnderway[request.id];\n}\n\nfunction createResponse(request, xhr) {\n  return new MapiResponse(request, {\n    body: xhr.response,\n    headers: parseHeaders(xhr.getAllResponseHeaders()),\n    statusCode: xhr.status\n  });\n}\n\nfunction normalizeBrowserProgressEvent(event) {\n  var total = event.total;\n  var transferred = event.loaded;\n  var percent = (100 * transferred) / total;\n  return {\n    total: total,\n    transferred: transferred,\n    percent: percent\n  };\n}\n\nfunction sendRequestXhr(request, xhr) {\n  return new Promise(function(resolve, reject) {\n    xhr.onprogress = function(event) {\n      request.emitter.emit(\n        constants.EVENT_PROGRESS_DOWNLOAD,\n        normalizeBrowserProgressEvent(event)\n      );\n    };\n\n    var file = request.file;\n    if (file) {\n      xhr.upload.onprogress = function(event) {\n        request.emitter.emit(\n          constants.EVENT_PROGRESS_UPLOAD,\n          normalizeBrowserProgressEvent(event)\n        );\n      };\n    }\n\n    xhr.onerror = function(error) {\n      reject(error);\n    };\n\n    xhr.onabort = function() {\n      var mapiError = new MapiError({\n        request: request,\n        type: constants.ERROR_REQUEST_ABORTED\n      });\n      reject(mapiError);\n    };\n\n    xhr.onload = function() {\n      delete requestsUnderway[request.id];\n      if (xhr.status < 200 || xhr.status >= 400) {\n        var mapiError = new MapiError({\n          request: request,\n          body: xhr.response,\n          statusCode: xhr.status\n        });\n        reject(mapiError);\n        return;\n      }\n      resolve(xhr);\n    };\n\n    var body = request.body;\n\n    // matching service needs to send a www-form-urlencoded request\n    if (typeof body === 'string') {\n      xhr.send(body);\n    } else if (body) {\n      xhr.send(JSON.stringify(body));\n    } else if (file) {\n      xhr.send(file);\n    } else {\n      xhr.send();\n    }\n\n    requestsUnderway[request.id] = xhr;\n  }).then(function(xhr) {\n    return createResponse(request, xhr);\n  });\n}\n\n// The accessToken argument gives this function flexibility\n// for Mapbox's internal client.\nfunction createRequestXhr(request, accessToken) {\n  var url = request.url(accessToken);\n  var xhr = new window.XMLHttpRequest();\n  xhr.open(request.method, url);\n  Object.keys(request.headers).forEach(function(key) {\n    xhr.setRequestHeader(key, request.headers[key]);\n  });\n  return xhr;\n}\n\nfunction browserSend(request) {\n  return Promise.resolve().then(function() {\n    var xhr = createRequestXhr(request, request.client.accessToken);\n    return sendRequestXhr(request, xhr);\n  });\n}\n\nmodule.exports = {\n  browserAbort: browserAbort,\n  sendRequestXhr: sendRequestXhr,\n  browserSend: browserSend,\n  createRequestXhr: createRequestXhr\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/lib/browser/browser-layer.js","'use strict';\n\nvar constants = require('../constants');\n\n/**\n * A Mapbox API error.\n *\n * If there's an error during the API transaction,\n * the Promise returned by `MapiRequest`'s [`send`](#send)\n * method should reject with a `MapiError`.\n *\n * @class MapiError\n * @hideconstructor\n * @property {MapiRequest} request - The errored request.\n * @property {string} type - The type of error. Usually this is `'HttpError'`.\n *   If the request was aborted, so the error was\n *   not sent from the server, the type will be\n *   `'RequestAbortedError'`.\n * @property {number} [statusCode] - The numeric status code of\n *   the HTTP response.\n * @property {Object | string} [body] - If the server sent a response body,\n *   this property exposes that response, parsed as JSON if possible.\n * @property {string} [message] - Whatever message could be derived from the\n *   call site and HTTP response.\n *\n * @param {MapiRequest} options.request\n * @param {number} [options.statusCode]\n * @param {string} [options.body]\n * @param {string} [options.message]\n * @param {string} [options.type]\n */\nfunction MapiError(options) {\n  var errorType = options.type || constants.ERROR_HTTP;\n\n  var body;\n  if (options.body) {\n    try {\n      body = JSON.parse(options.body);\n    } catch (e) {\n      body = options.body;\n    }\n  } else {\n    body = null;\n  }\n\n  var message = options.message || null;\n  if (!message) {\n    if (typeof body === 'string') {\n      message = body;\n    } else if (body && typeof body.message === 'string') {\n      message = body.message;\n    } else if (errorType === constants.ERROR_REQUEST_ABORTED) {\n      message = 'Request aborted';\n    }\n  }\n\n  this.message = message;\n  this.type = errorType;\n  this.statusCode = options.statusCode || null;\n  this.request = options.request;\n  this.body = body;\n}\n\nmodule.exports = MapiError;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/lib/classes/mapi-error.js","'use strict';\n\nvar parseToken = require('@mapbox/parse-mapbox-token');\nvar xtend = require('xtend');\nvar EventEmitter = require('eventemitter3');\nvar urlUtils = require('../helpers/url-utils');\nvar constants = require('../constants');\n\nvar requestId = 1;\n\n/**\n * A Mapbox API request.\n *\n * Note that creating a `MapiRequest` does *not* send the request automatically.\n * Use the request's `send` method to send it off and get a `Promise`.\n *\n * The `emitter` property is an `EventEmitter` that emits the following events:\n *\n * - `'response'` - Listeners will be called with a `MapiResponse`.\n * - `'error'` - Listeners will be called with a `MapiError`.\n * - `'downloadProgress'` - Listeners will be called with `ProgressEvents`.\n * - `'uploadProgress'` - Listeners will be called with `ProgressEvents`.\n *   Upload events are only available when the request includes a file.\n *\n * @class MapiRequest\n * @property {EventEmitter} emitter - An event emitter. See above.\n * @property {MapiClient} client - This request's `MapiClient`.\n * @property {MapiResponse|null} response - If this request has been sent and received\n *   a response, the response is available on this property.\n * @property {MapiError|Error|null} error - If this request has been sent and\n *   received an error in response, the error is available on this property.\n * @property {boolean} aborted - If the request has been aborted\n *   (via [`abort`](#abort)), this property will be `true`.\n * @property {boolean} sent - If the request has been sent, this property will\n *   be `true`. You cannot send the same request twice, so if you need to create\n *   a new request that is the equivalent of an existing one, use\n *   [`clone`](#clone).\n * @property {string} path - The request's path, including colon-prefixed route\n *   parameters.\n * @property {string} origin - The request's origin.\n * @property {string} method - The request's HTTP method.\n * @property {Object} query - A query object, which will be transformed into\n *   a URL query string.\n * @property {Object} params - A route parameters object, whose values will\n *   be interpolated the path.\n * @property {Object} headers - The request's headers.\n * @property {Object|string|null} body - Data to send with the request.\n *   If the request has a body, it will also be sent with the header\n *   `'Content-Type: application/json'`.\n * @property {Blob|ArrayBuffer|string|ReadStream} file - A file to\n *   send with the request. The browser client accepts Blobs and ArrayBuffers;\n *   the Node client accepts strings (filepaths) and ReadStreams.\n * @property {string} encoding - The encoding of the response.\n * @property {string} sendFileAs - The method to send the `file`. Options are\n *   `data` (x-www-form-urlencoded) or `form` (multipart/form-data).\n */\n\n/**\n * @ignore\n * @param {MapiClient} client\n * @param {Object} options\n * @param {string} options.method\n * @param {string} options.path\n * @param {Object} [options.query={}]\n * @param {Object} [options.params={}]\n * @param {string} [options.origin]\n * @param {Object} [options.headers]\n * @param {Object} [options.body=null]\n * @param {Blob|ArrayBuffer|string|ReadStream} [options.file=null]\n * @param {string} [options.encoding=utf8]\n */\nfunction MapiRequest(client, options) {\n  if (!client) {\n    throw new Error('MapiRequest requires a client');\n  }\n  if (!options || !options.path || !options.method) {\n    throw new Error(\n      'MapiRequest requires an options object with path and method properties'\n    );\n  }\n\n  var defaultHeaders = {};\n  if (options.body) {\n    defaultHeaders['content-type'] = 'application/json';\n  }\n\n  var headersWithDefaults = xtend(defaultHeaders, options.headers);\n\n  // Disallows duplicate header names of mixed case,\n  // e.g. Content-Type and content-type.\n  var headers = Object.keys(headersWithDefaults).reduce(function(memo, name) {\n    memo[name.toLowerCase()] = headersWithDefaults[name];\n    return memo;\n  }, {});\n\n  this.id = requestId++;\n  this._options = options;\n\n  this.emitter = new EventEmitter();\n  this.client = client;\n  this.response = null;\n  this.error = null;\n  this.sent = false;\n  this.aborted = false;\n  this.path = options.path;\n  this.method = options.method;\n  this.origin = options.origin || client.origin;\n  this.query = options.query || {};\n  this.params = options.params || {};\n  this.body = options.body || null;\n  this.file = options.file || null;\n  this.encoding = options.encoding || 'utf8';\n  this.sendFileAs = options.sendFileAs || null;\n  this.headers = headers;\n}\n\n/**\n * Get the URL of the request.\n *\n * @param {string} [accessToken] - By default, the access token of the request's\n *   client is used.\n * @return {string}\n */\nMapiRequest.prototype.url = function url(accessToken) {\n  var url = urlUtils.prependOrigin(this.path, this.origin);\n  url = urlUtils.appendQueryObject(url, this.query);\n  var routeParams = this.params;\n  var actualAccessToken =\n    accessToken == null ? this.client.accessToken : accessToken;\n  if (actualAccessToken) {\n    url = urlUtils.appendQueryParam(url, 'access_token', actualAccessToken);\n    var accessTokenOwnerId = parseToken(actualAccessToken).user;\n    routeParams = xtend({ ownerId: accessTokenOwnerId }, routeParams);\n  }\n  url = urlUtils.interpolateRouteParams(url, routeParams);\n  return url;\n};\n\n/**\n * Send the request. Returns a Promise that resolves with a `MapiResponse`.\n * You probably want to use `response.body`.\n *\n * `send` only retrieves the first page of paginated results. You can get\n * the next page by using the `MapiResponse`'s [`nextPage`](#nextpage)\n * function, or iterate through all pages using [`eachPage`](#eachpage)\n * instead of `send`.\n *\n * @returns {Promise<MapiResponse>}\n */\nMapiRequest.prototype.send = function send() {\n  var self = this;\n\n  if (self.sent) {\n    throw new Error(\n      'This request has already been sent. Check the response and error properties. Create a new request with clone().'\n    );\n  }\n  self.sent = true;\n\n  return self.client.sendRequest(self).then(\n    function(response) {\n      self.response = response;\n      self.emitter.emit(constants.EVENT_RESPONSE, response);\n      return response;\n    },\n    function(error) {\n      self.error = error;\n      self.emitter.emit(constants.EVENT_ERROR, error);\n      throw error;\n    }\n  );\n};\n\n/**\n * Abort the request.\n *\n * Any pending `Promise` returned by [`send`](#send) will be rejected with\n * an error with `type: 'RequestAbortedError'`. If you've created a request\n * that might be aborted, you need to catch and handle such errors.\n *\n * This method will also abort any requests created while fetching subsequent\n * pages via [`eachPage`](#eachpage).\n *\n * If the request has not been sent or has already been aborted, nothing\n * will happen.\n */\nMapiRequest.prototype.abort = function abort() {\n  if (this._nextPageRequest) {\n    this._nextPageRequest.abort();\n    delete this._nextPageRequest;\n  }\n\n  if (this.response || this.error || this.aborted) return;\n\n  this.aborted = true;\n  this.client.abortRequest(this);\n};\n\n/**\n * Invoke a callback for each page of a paginated API response.\n *\n * The callback should have the following signature:\n *\n * ```js\n * (\n *   error: MapiError,\n *   response: MapiResponse,\n *   next: () => void\n * ) => void\n * ```\n *\n * **The next page will not be fetched until you've invoked the\n * `next` callback**, indicating that you're ready for it.\n *\n * @param {Function} callback\n */\nMapiRequest.prototype.eachPage = function eachPage(callback) {\n  var self = this;\n\n  function handleResponse(response) {\n    function getNextPage() {\n      delete self._nextPageRequest;\n      var nextPageRequest = response.nextPage();\n      if (nextPageRequest) {\n        self._nextPageRequest = nextPageRequest;\n        getPage(nextPageRequest);\n      }\n    }\n    callback(null, response, getNextPage);\n  }\n\n  function handleError(error) {\n    callback(error, null, function() {});\n  }\n\n  function getPage(request) {\n    request.send().then(handleResponse, handleError);\n  }\n  getPage(this);\n};\n\n/**\n * Clone this request.\n *\n * Each request can only be sent *once*. So if you'd like to send the\n * same request again, clone it and send away.\n *\n * @returns {MapiRequest} - A new `MapiRequest` configured just like this one.\n */\nMapiRequest.prototype.clone = function clone() {\n  return this._extend();\n};\n\n/**\n * @ignore\n */\nMapiRequest.prototype._extend = function _extend(options) {\n  var extendedOptions = xtend(this._options, options);\n  return new MapiRequest(this.client, extendedOptions);\n};\n\nmodule.exports = MapiRequest;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/lib/classes/mapi-request.js","'use strict';\n\nvar parseLinkHeader = require('../helpers/parse-link-header');\n\n/**\n * A Mapbox API response.\n *\n * @class MapiResponse\n * @property {Object} body - The response body, parsed as JSON.\n * @property {string} rawBody - The raw response body.\n * @property {number} statusCode - The response's status code.\n * @property {Object} headers - The parsed response headers.\n * @property {Object} links - The parsed response links.\n * @property {MapiRequest} request - The response's originating `MapiRequest`.\n */\n\n/**\n * @ignore\n * @param {MapiRequest} request\n * @param {Object} responseData\n * @param {Object} responseData.headers\n * @param {string} responseData.body\n * @param {number} responseData.statusCode\n */\nfunction MapiResponse(request, responseData) {\n  this.request = request;\n  this.headers = responseData.headers;\n  this.rawBody = responseData.body;\n  this.statusCode = responseData.statusCode;\n  try {\n    this.body = JSON.parse(responseData.body || '{}');\n  } catch (parseError) {\n    this.body = responseData.body;\n  }\n  this.links = parseLinkHeader(this.headers.link);\n}\n\n/**\n * Check if there is a next page that you can fetch.\n *\n * @returns {boolean}\n */\nMapiResponse.prototype.hasNextPage = function hasNextPage() {\n  return !!this.links.next;\n};\n\n/**\n * Create a request for the next page, if there is one.\n * If there is no next page, returns `null`.\n *\n * @returns {MapiRequest | null}\n */\nMapiResponse.prototype.nextPage = function nextPage() {\n  if (!this.hasNextPage()) return null;\n  return this.request._extend({\n    path: this.links.next.url\n  });\n};\n\nmodule.exports = MapiResponse;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/lib/classes/mapi-response.js","'use strict';\n\nfunction parseSingleHeader(raw) {\n  var boundary = raw.indexOf(':');\n  var name = raw\n    .substring(0, boundary)\n    .trim()\n    .toLowerCase();\n  var value = raw.substring(boundary + 1).trim();\n  return {\n    name: name,\n    value: value\n  };\n}\n\n/**\n * Parse raw headers into an object with lowercase properties.\n * Does not fully parse headings into more complete data structure,\n * as larger libraries might do. Also does not deal with duplicate\n * headers because Node doesn't seem to deal with those well, so\n * we shouldn't let the browser either, for consistency.\n *\n * @param {string} raw\n * @returns {Object}\n */\nfunction parseHeaders(raw) {\n  var headers = {};\n  if (!raw) {\n    return headers;\n  }\n\n  raw\n    .trim()\n    .split(/[\\r|\\n]+/)\n    .forEach(function(rawHeader) {\n      var parsed = parseSingleHeader(rawHeader);\n      headers[parsed.name] = parsed.value;\n    });\n\n  return headers;\n}\n\nmodule.exports = parseHeaders;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/lib/helpers/parse-headers.js","'use strict';\n\n// Like https://github.com/thlorenz/lib/parse-link-header but without any\n// additional dependencies.\n\nfunction parseParam(param) {\n  var parts = param.match(/\\s*(.+)\\s*=\\s*\"?([^\"]+)\"?/);\n  if (!parts) return null;\n\n  return {\n    key: parts[1],\n    value: parts[2]\n  };\n}\n\nfunction parseLink(link) {\n  var parts = link.match(/<?([^>]*)>(.*)/);\n  if (!parts) return null;\n\n  var linkUrl = parts[1];\n  var linkParams = parts[2].split(';');\n  var rel = null;\n  var parsedLinkParams = linkParams.reduce(function(result, param) {\n    var parsed = parseParam(param);\n    if (!parsed) return result;\n    if (parsed.key === 'rel') {\n      if (!rel) {\n        rel = parsed.value;\n      }\n      return result;\n    }\n    result[parsed.key] = parsed.value;\n    return result;\n  }, {});\n  if (!rel) return null;\n\n  return {\n    url: linkUrl,\n    rel: rel,\n    params: parsedLinkParams\n  };\n}\n\n/**\n * Parse a Link header.\n *\n * @param {string} linkHeader\n * @returns {{\n *   [string]: {\n *     url: string,\n *     params: { [string]: string }\n *   }\n * }}\n */\nfunction parseLinkHeader(linkHeader) {\n  if (!linkHeader) return {};\n\n  return linkHeader.split(/,\\s*</).reduce(function(result, link) {\n    var parsed = parseLink(link);\n    if (!parsed) return result;\n    // rel value can be multiple whitespace-separated rels.\n    var splitRel = parsed.rel.split(/\\s+/);\n    splitRel.forEach(function(rel) {\n      if (!result[rel]) {\n        result[rel] = {\n          url: parsed.url,\n          params: parsed.params\n        };\n      }\n    });\n    return result;\n  }, {});\n}\n\nmodule.exports = parseLinkHeader;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/lib/helpers/parse-link-header.js","'use strict';\n\n// Encode each item of an array individually. The comma\n// delimiters should not themselves be encoded.\nfunction encodeArray(arrayValue) {\n  return arrayValue.map(encodeURIComponent).join(',');\n}\n\nfunction encodeValue(value) {\n  if (Array.isArray(value)) {\n    return encodeArray(value);\n  }\n  return encodeURIComponent(String(value));\n}\n\n/**\n * Append a query parameter to a URL.\n *\n * @param {string} url\n * @param {string} key\n * @param {string|number|boolean|Array<*>>} [value] - Provide an array\n *   if the value is a list and commas between values need to be\n *   preserved, unencoded.\n * @returns {string} - Modified URL.\n */\nfunction appendQueryParam(url, key, value) {\n  if (value === false || value === null) {\n    return url;\n  }\n  var punctuation = /\\?/.test(url) ? '&' : '?';\n  var query = encodeURIComponent(key);\n  if (value !== undefined && value !== '' && value !== true) {\n    query += '=' + encodeValue(value);\n  }\n  return '' + url + punctuation + query;\n}\n\n/**\n * Derive a query string from an object and append it\n * to a URL.\n *\n * @param {string} url\n * @param {Object} [queryObject] - Values should be primitives.\n * @returns {string} - Modified URL.\n */\nfunction appendQueryObject(url, queryObject) {\n  if (!queryObject) {\n    return url;\n  }\n\n  var result = url;\n  Object.keys(queryObject).forEach(function(key) {\n    var value = queryObject[key];\n    if (value === undefined) {\n      return;\n    }\n    if (Array.isArray(value)) {\n      value = value\n        .filter(function(v) {\n          return v !== null && v !== undefined;\n        })\n        .join(',');\n    }\n    result = appendQueryParam(result, key, value);\n  });\n  return result;\n}\n\n/**\n * Prepend an origin to a URL. If the URL already has an\n * origin, do nothing.\n *\n * @param {string} url\n * @param {string} origin\n * @returns {string} - Modified URL.\n */\nfunction prependOrigin(url, origin) {\n  if (!origin) {\n    return url;\n  }\n\n  if (url.slice(0, 4) === 'http') {\n    return url;\n  }\n\n  var delimiter = url[0] === '/' ? '' : '/';\n  return '' + origin.replace(/\\/$/, '') + delimiter + url;\n}\n\n/**\n * Interpolate values into a route with express-style,\n * colon-prefixed route parameters.\n *\n * @param {string} route\n * @param {Object} [params] - Values should be primitives\n *   or arrays of primitives. Provide an array if the value\n *   is a list and commas between values need to be\n *   preserved, unencoded.\n * @returns {string} - Modified URL.\n */\nfunction interpolateRouteParams(route, params) {\n  if (!params) {\n    return route;\n  }\n  return route.replace(/\\/:([a-zA-Z0-9]+)/g, function(_, paramId) {\n    var value = params[paramId];\n    if (value === undefined) {\n      throw new Error('Unspecified route parameter ' + paramId);\n    }\n    var preppedValue = encodeValue(value);\n    return '/' + preppedValue;\n  });\n}\n\nmodule.exports = {\n  appendQueryObject: appendQueryObject,\n  appendQueryParam: appendQueryParam,\n  prependOrigin: prependOrigin,\n  interpolateRouteParams: interpolateRouteParams\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/lib/helpers/url-utils.js","'use strict';\n\nvar xtend = require('xtend');\nvar v = require('./service-helpers/validator');\nvar pick = require('./service-helpers/pick');\nvar stringifyBooleans = require('./service-helpers/stringify-booleans');\nvar createServiceFactory = require('./service-helpers/create-service-factory');\n\n/**\n * Geocoding API service.\n *\n * Learn more about this service and its responses in\n * [the HTTP service documentation](https://docs.mapbox.com/api/search/#geocoding).\n */\nvar Geocoding = {};\n\nvar featureTypes = [\n  'country',\n  'region',\n  'postcode',\n  'district',\n  'place',\n  'locality',\n  'neighborhood',\n  'address',\n  'poi',\n  'poi.landmark'\n];\n\n/**\n * Search for a place.\n *\n * See the [public documentation](https://docs.mapbox.com/api/search/#forward-geocoding).\n *\n * @param {Object} config\n * @param {string} config.query - A place name.\n * @param {'mapbox.places'|'mapbox.places-permanent'} [config.mode=\"mapbox.places\"] - Either `mapbox.places` for ephemeral geocoding, or `mapbox.places-permanent` for storing results and batch geocoding.\n * @param {Array<string>} [config.countries] - Limits results to the specified countries.\n *   Each item in the array should be an [ISO 3166 alpha 2 country code](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).\n * @param {Coordinates} [config.proximity] - Bias local results based on a provided location.\n * @param {Array<'country'|'region'|'postcode'|'district'|'place'|'locality'|'neighborhood'|'address'|'poi'|'poi.landmark'>} [config.types] - Filter results by feature types.\n * @param {boolean} [config.autocomplete=true] - Return autocomplete results or not.\n * @param {BoundingBox} [config.bbox] - Limit results to a bounding box.\n * @param {number} [config.limit=5] - Limit the number of results returned.\n * @param {Array<string>} [config.language] - Specify the language to use for response text and, for forward geocoding, query result weighting.\n *  Options are [IETF language tags](https://en.wikipedia.org/wiki/IETF_language_tag) comprised of a mandatory\n *  [ISO 639-1 language code](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes) and optionally one or more IETF subtags for country or script.\n * @param {boolean} [config.routing=false] - Specify whether to request additional metadata about the recommended navigation destination. Only applicable for address features.\n * @return {MapiRequest}\n *\n * @example\n * geocodingClient.forwardGeocode({\n *   query: 'Paris, France',\n *   limit: 2\n * })\n *   .send()\n *   .then(response => {\n *     const match = response.body;\n *   });\n *\n * @example\n * // geocoding with proximity\n * geocodingClient.forwardGeocode({\n *   query: 'Paris, France',\n *   proximity: [-95.4431142, 33.6875431]\n * })\n *   .send()\n *   .then(response => {\n *     const match = response.body;\n *   });\n *\n * // geocoding with countries\n * geocodingClient.forwardGeocode({\n *   query: 'Paris, France',\n *   countries: ['fr']\n * })\n *   .send()\n *   .then(response => {\n *     const match = response.body;\n *   });\n *\n * // geocoding with bounding box\n * geocodingClient.forwardGeocode({\n *   query: 'Paris, France',\n *   bbox: [2.14, 48.72, 2.55, 48.96]\n * })\n *   .send()\n *   .then(response => {\n *     const match = response.body;\n *   });\n */\nGeocoding.forwardGeocode = function(config) {\n  v.assertShape({\n    query: v.required(v.string),\n    mode: v.oneOf('mapbox.places', 'mapbox.places-permanent'),\n    countries: v.arrayOf(v.string),\n    proximity: v.coordinates,\n    types: v.arrayOf(v.oneOf(featureTypes)),\n    autocomplete: v.boolean,\n    bbox: v.arrayOf(v.number),\n    limit: v.number,\n    language: v.arrayOf(v.string),\n    routing: v.boolean\n  })(config);\n\n  config.mode = config.mode || 'mapbox.places';\n\n  var query = stringifyBooleans(\n    xtend(\n      { country: config.countries },\n      pick(config, [\n        'proximity',\n        'types',\n        'autocomplete',\n        'bbox',\n        'limit',\n        'language',\n        'routing'\n      ])\n    )\n  );\n\n  return this.client.createRequest({\n    method: 'GET',\n    path: '/geocoding/v5/:mode/:query.json',\n    params: pick(config, ['mode', 'query']),\n    query: query\n  });\n};\n\n/**\n * Search for places near coordinates.\n *\n * See the [public documentation](https://docs.mapbox.com/api/search/#reverse-geocoding).\n *\n * @param {Object} config\n * @param {Coordinates} config.query - Coordinates at which features will be searched.\n * @param {'mapbox.places'|'mapbox.places-permanent'} [config.mode=\"mapbox.places\"] - Either `mapbox.places` for ephemeral geocoding, or `mapbox.places-permanent` for storing results and batch geocoding.\n * @param {Array<string>} [config.countries] - Limits results to the specified countries.\n *   Each item in the array should be an [ISO 3166 alpha 2 country code](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).\n * @param {Array<'country'|'region'|'postcode'|'district'|'place'|'locality'|'neighborhood'|'address'|'poi'|'poi.landmark'>} [config.types] - Filter results by feature types.\n * @param {BoundingBox} [config.bbox] - Limit results to a bounding box.\n * @param {number} [config.limit=1] - Limit the number of results returned. If using this option, you must provide a single item for `types`.\n * @param {Array<string>} [config.language] - Specify the language to use for response text and, for forward geocoding, query result weighting.\n *  Options are [IETF language tags](https://en.wikipedia.org/wiki/IETF_language_tag) comprised of a mandatory\n *  [ISO 639-1 language code](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes) and optionally one or more IETF subtags for country or script.\n * @param {'distance'|'score'} [config.reverseMode='distance'] - Set the factors that are used to sort nearby results.\n * @param {boolean} [config.routing=false] - Specify whether to request additional metadata about the recommended navigation destination. Only applicable for address features.\n * @return {MapiRequest}\n *\n * @example\n * geocodingClient.reverseGeocode({\n *   query: [-95.4431142, 33.6875431]\n * })\n *   .send()\n *   .then(response => {\n *     // GeoJSON document with geocoding matches\n *     const match = response.body;\n *   });\n */\nGeocoding.reverseGeocode = function(config) {\n  v.assertShape({\n    query: v.required(v.coordinates),\n    mode: v.oneOf('mapbox.places', 'mapbox.places-permanent'),\n    countries: v.arrayOf(v.string),\n    types: v.arrayOf(v.oneOf(featureTypes)),\n    bbox: v.arrayOf(v.number),\n    limit: v.number,\n    language: v.arrayOf(v.string),\n    reverseMode: v.oneOf('distance', 'score'),\n    routing: v.boolean\n  })(config);\n\n  config.mode = config.mode || 'mapbox.places';\n\n  var query = stringifyBooleans(\n    xtend(\n      { country: config.countries },\n      pick(config, [\n        'country',\n        'types',\n        'bbox',\n        'limit',\n        'language',\n        'reverseMode',\n        'routing'\n      ])\n    )\n  );\n\n  return this.client.createRequest({\n    method: 'GET',\n    path: '/geocoding/v5/:mode/:query.json',\n    params: pick(config, ['mode', 'query']),\n    query: query\n  });\n};\n\nmodule.exports = createServiceFactory(Geocoding);\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/services/geocoding.js","'use strict';\n\nvar MapiClient = require('../../lib/classes/mapi-client');\n// This will create the environment-appropriate client.\nvar createClient = require('../../lib/client');\n\nfunction createServiceFactory(ServicePrototype) {\n  return function(clientOrConfig) {\n    var client;\n    if (MapiClient.prototype.isPrototypeOf(clientOrConfig)) {\n      client = clientOrConfig;\n    } else {\n      client = createClient(clientOrConfig);\n    }\n    var service = Object.create(ServicePrototype);\n    service.client = client;\n    return service;\n  };\n}\n\nmodule.exports = createServiceFactory;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/services/service-helpers/create-service-factory.js","'use strict';\n\nfunction objectMap(obj, cb) {\n  return Object.keys(obj).reduce(function(result, key) {\n    result[key] = cb(key, obj[key]);\n    return result;\n  }, {});\n}\n\nmodule.exports = objectMap;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/services/service-helpers/object-map.js","'use strict';\n\n/**\n * Create a new object by picking properties off an existing object.\n * The second param can be overloaded as a callback for\n * more fine grained picking of properties.\n * @param {Object} source\n * @param {Array<string>|function(string, Object):boolean} keys\n * @returns {Object}\n */\nfunction pick(source, keys) {\n  var filter = function(key, val) {\n    return keys.indexOf(key) !== -1 && val !== undefined;\n  };\n\n  if (typeof keys === 'function') {\n    filter = keys;\n  }\n\n  return Object.keys(source)\n    .filter(function(key) {\n      return filter(key, source[key]);\n    })\n    .reduce(function(result, key) {\n      result[key] = source[key];\n      return result;\n    }, {});\n}\n\nmodule.exports = pick;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/services/service-helpers/pick.js","'use strict';\n\nvar objectMap = require('./object-map');\n\n/**\n * Stringify all the boolean values in an object, so true becomes \"true\".\n *\n * @param {Object} obj\n * @returns {Object}\n */\nfunction stringifyBoolean(obj) {\n  return objectMap(obj, function(_, value) {\n    return typeof value === 'boolean' ? JSON.stringify(value) : value;\n  });\n}\n\nmodule.exports = stringifyBoolean;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/services/service-helpers/stringify-booleans.js","'use strict';\n\nvar xtend = require('xtend');\nvar v = require('@mapbox/fusspot');\n\nfunction file(value) {\n  // If we're in a browser so Blob is available, the file must be that.\n  // In Node, however, it could be a filepath or a pipeable (Readable) stream.\n  if (typeof window !== 'undefined') {\n    if (value instanceof global.Blob || value instanceof global.ArrayBuffer) {\n      return;\n    }\n    return 'Blob or ArrayBuffer';\n  }\n  if (typeof value === 'string' || value.pipe !== undefined) {\n    return;\n  }\n  return 'Filename or Readable stream';\n}\n\nfunction assertShape(validatorObj, apiName) {\n  return v.assert(v.strictShape(validatorObj), apiName);\n}\n\nfunction date(value) {\n  var msg = 'date';\n  if (typeof value === 'boolean') {\n    return msg;\n  }\n  try {\n    var date = new Date(value);\n    if (date.getTime && isNaN(date.getTime())) {\n      return msg;\n    }\n  } catch (e) {\n    return msg;\n  }\n}\n\nfunction coordinates(value) {\n  return v.tuple(v.number, v.number)(value);\n}\n\nmodule.exports = xtend(v, {\n  file: file,\n  date: date,\n  coordinates: coordinates,\n  assertShape: assertShape\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/services/service-helpers/validator.js","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(utils.merge(defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/axios.js","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/cancel/CancelToken.js","'use strict';\n\nvar defaults = require('./../defaults');\nvar utils = require('./../utils');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar isAbsoluteURL = require('./../helpers/isAbsoluteURL');\nvar combineURLs = require('./../helpers/combineURLs');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = utils.merge({\n      url: arguments[0]\n    }, arguments[1]);\n  }\n\n  config = utils.merge(defaults, this.defaults, { method: 'get' }, config);\n\n  // Support baseURL config\n  if (config.baseURL && !isAbsoluteURL(config.url)) {\n    config.url = combineURLs(config.baseURL, config.url);\n  }\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/core/Axios.js","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/core/InterceptorManager.js","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers || {}\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/core/dispatchRequest.js","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n @ @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n  error.response = response;\n  return error;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/core/enhanceError.js","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  // Note: status is not exposed by XDomainRequest\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response\n    ));\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/core/settle.js","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/core/transformData.js","'use strict';\n\n// btoa polyfill for IE<10 courtesy https://github.com/davidchambers/Base64.js\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nfunction E() {\n  this.message = 'String contains an invalid character';\n}\nE.prototype = new Error;\nE.prototype.code = 5;\nE.prototype.name = 'InvalidCharacterError';\n\nfunction btoa(input) {\n  var str = String(input);\n  var output = '';\n  for (\n    // initialize result and counter\n    var block, charCode, idx = 0, map = chars;\n    // if the next str index does not exist:\n    //   change the mapping table to \"=\"\n    //   check if d has no fractional digits\n    str.charAt(idx | 0) || (map = '=', idx % 1);\n    // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n    output += map.charAt(63 & block >> 8 - idx % 1 * 8)\n  ) {\n    charCode = str.charCodeAt(idx += 3 / 4);\n    if (charCode > 0xFF) {\n      throw new E();\n    }\n    block = block << 8 | charCode;\n  }\n  return output;\n}\n\nmodule.exports = btoa;\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/helpers/btoa.js","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%40/gi, '@').\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      }\n\n      if (!utils.isArray(val)) {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/helpers/buildURL.js","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '');\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/helpers/combineURLs.js","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n  (function standardBrowserEnv() {\n    return {\n      write: function write(name, value, expires, path, domain, secure) {\n        var cookie = [];\n        cookie.push(name + '=' + encodeURIComponent(value));\n\n        if (utils.isNumber(expires)) {\n          cookie.push('expires=' + new Date(expires).toGMTString());\n        }\n\n        if (utils.isString(path)) {\n          cookie.push('path=' + path);\n        }\n\n        if (utils.isString(domain)) {\n          cookie.push('domain=' + domain);\n        }\n\n        if (secure === true) {\n          cookie.push('secure');\n        }\n\n        document.cookie = cookie.join('; ');\n      },\n\n      read: function read(name) {\n        var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n        return (match ? decodeURIComponent(match[3]) : null);\n      },\n\n      remove: function remove(name) {\n        this.write(name, '', Date.now() - 86400000);\n      }\n    };\n  })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return {\n      write: function write() {},\n      read: function read() { return null; },\n      remove: function remove() {}\n    };\n  })()\n);\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/helpers/cookies.js","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/helpers/isAbsoluteURL.js","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    var msie = /(msie|trident)/i.test(navigator.userAgent);\n    var urlParsingNode = document.createElement('a');\n    var originURL;\n\n    /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      var href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n                  urlParsingNode.pathname :\n                  '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })()\n);\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/helpers/isURLSameOrigin.js","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/helpers/normalizeHeaderName.js","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/helpers/parseHeaders.js","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/axios/lib/helpers/spread.js","/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */\n;(function(root) {\n\n\t// Detect free variables `exports`.\n\tvar freeExports = typeof exports == 'object' && exports;\n\n\t// Detect free variable `module`.\n\tvar freeModule = typeof module == 'object' && module &&\n\t\tmodule.exports == freeExports && module;\n\n\t// Detect free variable `global`, from Node.js or Browserified code, and use\n\t// it as `root`.\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\troot = freeGlobal;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar InvalidCharacterError = function(message) {\n\t\tthis.message = message;\n\t};\n\tInvalidCharacterError.prototype = new Error;\n\tInvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\n\tvar error = function(message) {\n\t\t// Note: the error messages used throughout this file match those used by\n\t\t// the native `atob`/`btoa` implementation in Chromium.\n\t\tthrow new InvalidCharacterError(message);\n\t};\n\n\tvar TABLE = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\t// http://whatwg.org/html/common-microsyntaxes.html#space-character\n\tvar REGEX_SPACE_CHARACTERS = /[\\t\\n\\f\\r ]/g;\n\n\t// `decode` is designed to be fully compatible with `atob` as described in the\n\t// HTML Standard. http://whatwg.org/html/webappapis.html#dom-windowbase64-atob\n\t// The optimized base64-decoding algorithm used is based on @atks excellent\n\t// implementation. https://gist.github.com/atk/1020396\n\tvar decode = function(input) {\n\t\tinput = String(input)\n\t\t\t.replace(REGEX_SPACE_CHARACTERS, '');\n\t\tvar length = input.length;\n\t\tif (length % 4 == 0) {\n\t\t\tinput = input.replace(/==?$/, '');\n\t\t\tlength = input.length;\n\t\t}\n\t\tif (\n\t\t\tlength % 4 == 1 ||\n\t\t\t// http://whatwg.org/C#alphanumeric-ascii-characters\n\t\t\t/[^+a-zA-Z0-9/]/.test(input)\n\t\t) {\n\t\t\terror(\n\t\t\t\t'Invalid character: the string to be decoded is not correctly encoded.'\n\t\t\t);\n\t\t}\n\t\tvar bitCounter = 0;\n\t\tvar bitStorage;\n\t\tvar buffer;\n\t\tvar output = '';\n\t\tvar position = -1;\n\t\twhile (++position < length) {\n\t\t\tbuffer = TABLE.indexOf(input.charAt(position));\n\t\t\tbitStorage = bitCounter % 4 ? bitStorage * 64 + buffer : buffer;\n\t\t\t// Unless this is the first of a group of 4 characters\n\t\t\tif (bitCounter++ % 4) {\n\t\t\t\t// convert the first 8 bits to a single ASCII character.\n\t\t\t\toutput += String.fromCharCode(\n\t\t\t\t\t0xFF & bitStorage >> (-2 * bitCounter & 6)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t};\n\n\t// `encode` is designed to be fully compatible with `btoa` as described in the\n\t// HTML Standard: http://whatwg.org/html/webappapis.html#dom-windowbase64-btoa\n\tvar encode = function(input) {\n\t\tinput = String(input);\n\t\tif (/[^\\0-\\xFF]/.test(input)) {\n\t\t\t// Note: no need to special-case astral symbols here, as surrogates are\n\t\t\t// matched, and the input is supposed to only contain ASCII anyway.\n\t\t\terror(\n\t\t\t\t'The string to be encoded contains characters outside of the ' +\n\t\t\t\t'Latin1 range.'\n\t\t\t);\n\t\t}\n\t\tvar padding = input.length % 3;\n\t\tvar output = '';\n\t\tvar position = -1;\n\t\tvar a;\n\t\tvar b;\n\t\tvar c;\n\t\tvar d;\n\t\tvar buffer;\n\t\t// Make sure any padding is handled outside of the loop.\n\t\tvar length = input.length - padding;\n\n\t\twhile (++position < length) {\n\t\t\t// Read three bytes, i.e. 24 bits.\n\t\t\ta = input.charCodeAt(position) << 16;\n\t\t\tb = input.charCodeAt(++position) << 8;\n\t\t\tc = input.charCodeAt(++position);\n\t\t\tbuffer = a + b + c;\n\t\t\t// Turn the 24 bits into four chunks of 6 bits each, and append the\n\t\t\t// matching character for each of them to the output.\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 18 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer >> 12 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer >> 6 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer & 0x3F)\n\t\t\t);\n\t\t}\n\n\t\tif (padding == 2) {\n\t\t\ta = input.charCodeAt(position) << 8;\n\t\t\tb = input.charCodeAt(++position);\n\t\t\tbuffer = a + b;\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 10) +\n\t\t\t\tTABLE.charAt((buffer >> 4) & 0x3F) +\n\t\t\t\tTABLE.charAt((buffer << 2) & 0x3F) +\n\t\t\t\t'='\n\t\t\t);\n\t\t} else if (padding == 1) {\n\t\t\tbuffer = input.charCodeAt(position);\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 2) +\n\t\t\t\tTABLE.charAt((buffer << 4) & 0x3F) +\n\t\t\t\t'=='\n\t\t\t);\n\t\t}\n\n\t\treturn output;\n\t};\n\n\tvar base64 = {\n\t\t'encode': encode,\n\t\t'decode': decode,\n\t\t'version': '0.1.0'\n\t};\n\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine(function() {\n\t\t\treturn base64;\n\t\t});\n\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = base64;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (var key in base64) {\n\t\t\t\tbase64.hasOwnProperty(key) && (freeExports[key] = base64[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.base64 = base64;\n\t}\n\n}(this));\n\n\n\n// WEBPACK FOOTER //\n// ./~/base-64/base64.js",";(function(factory) {\n    'use strict';\n    /* global window: false, define: false, module: false */\n    var root = typeof window === 'undefined' ? null : window;\n\n    if (typeof define === 'function' && define.amd) {\n        define(function(){ return factory(root); });\n    } else if (typeof module !== 'undefined') {\n        module.exports = factory(root);\n    } else {\n        root.DOMPurify = factory(root);\n    }\n}(function factory(window) {\n    'use strict';\n\n    var DOMPurify = function(window) {\n        return factory(window);\n    };\n\n    /**\n     * Version label, exposed for easier checks\n     * if DOMPurify is up to date or not\n     */\n    DOMPurify.version = '0.8.5';\n\n    /**\n     * Array of elements that DOMPurify removed during sanitation.\n     * Empty if nothing was removed.\n     */\n    DOMPurify.removed = [];\n\n    if (!window || !window.document || window.document.nodeType !== 9) {\n        // not running in a browser, provide a factory function\n        // so that you can pass your own Window\n        DOMPurify.isSupported = false;\n        return DOMPurify;\n    }\n\n    var document = window.document;\n    var originalDocument = document;\n    var DocumentFragment = window.DocumentFragment;\n    var HTMLTemplateElement = window.HTMLTemplateElement;\n    var Node = window.Node;\n    var NodeFilter = window.NodeFilter;\n    var NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap;\n    var Text = window.Text;\n    var Comment = window.Comment;\n    var DOMParser = window.DOMParser;\n\n    // As per issue #47, the web-components registry is inherited by a\n    // new document created via createHTMLDocument. As per the spec\n    // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n    // a new empty registry is used when creating a template contents owner\n    // document, so we use that as our parent document to ensure nothing\n    // is inherited.\n    if (typeof HTMLTemplateElement === 'function') {\n        var template = document.createElement('template');\n        if (template.content && template.content.ownerDocument) {\n            document = template.content.ownerDocument;\n        }\n    }\n    var implementation = document.implementation;\n    var createNodeIterator = document.createNodeIterator;\n    var getElementsByTagName = document.getElementsByTagName;\n    var createDocumentFragment = document.createDocumentFragment;\n    var importNode = originalDocument.importNode;\n\n    var hooks = {};\n\n    /**\n     * Expose whether this browser supports running the full DOMPurify.\n     */\n    DOMPurify.isSupported =\n        typeof implementation.createHTMLDocument !== 'undefined' &&\n        document.documentMode !== 9;\n\n    /* Add properties to a lookup table */\n    var _addToSet = function(set, array) {\n        var l = array.length;\n        while (l--) {\n            if (typeof array[l] === 'string') {\n                array[l] = array[l].toLowerCase();\n            }\n            set[array[l]] = true;\n        }\n        return set;\n    };\n\n    /* Shallow clone an object */\n    var _cloneObj = function(object) {\n        var newObject = {};\n        var property;\n        for (property in object) {\n            if (object.hasOwnProperty(property)) {\n                newObject[property] = object[property];\n            }\n        }\n        return newObject;\n    };\n\n    /**\n     * We consider the elements and attributes below to be safe. Ideally\n     * don't add any new ones but feel free to remove unwanted ones.\n     */\n\n    /* allowed element names */\n    var ALLOWED_TAGS = null;\n    var DEFAULT_ALLOWED_TAGS = _addToSet({}, [\n\n        // HTML\n        'a','abbr','acronym','address','area','article','aside','audio','b',\n        'bdi','bdo','big','blink','blockquote','body','br','button','canvas',\n        'caption','center','cite','code','col','colgroup','content','data',\n        'datalist','dd','decorator','del','details','dfn','dir','div','dl','dt',\n        'element','em','fieldset','figcaption','figure','font','footer','form',\n        'h1','h2','h3','h4','h5','h6','head','header','hgroup','hr','html','i',\n        'img','input','ins','kbd','label','legend','li','main','map','mark',\n        'marquee','menu','menuitem','meter','nav','nobr','ol','optgroup',\n        'option','output','p','pre','progress','q','rp','rt','ruby','s','samp',\n        'section','select','shadow','small','source','spacer','span','strike',\n        'strong','style','sub','summary','sup','table','tbody','td','template',\n        'textarea','tfoot','th','thead','time','tr','track','tt','u','ul','var',\n        'video','wbr',\n\n        // SVG\n        'svg','altglyph','altglyphdef','altglyphitem','animatecolor',\n        'animatemotion','animatetransform','circle','clippath','defs','desc',\n        'ellipse','filter','font','g','glyph','glyphref','hkern','image','line',\n        'lineargradient','marker','mask','metadata','mpath','path','pattern',\n        'polygon','polyline','radialgradient','rect','stop','switch','symbol',\n        'text','textpath','title','tref','tspan','view','vkern',\n\n        // SVG Filters\n        'feBlend','feColorMatrix','feComponentTransfer','feComposite',\n        'feConvolveMatrix','feDiffuseLighting','feDisplacementMap',\n        'feFlood','feFuncA','feFuncB','feFuncG','feFuncR','feGaussianBlur',\n        'feMerge','feMergeNode','feMorphology','feOffset',\n        'feSpecularLighting','feTile','feTurbulence',\n\n        //MathML\n        'math','menclose','merror','mfenced','mfrac','mglyph','mi','mlabeledtr',\n        'mmuliscripts','mn','mo','mover','mpadded','mphantom','mroot','mrow',\n        'ms','mpspace','msqrt','mystyle','msub','msup','msubsup','mtable','mtd',\n        'mtext','mtr','munder','munderover',\n\n        //Text\n        '#text'\n    ]);\n\n    /* Allowed attribute names */\n    var ALLOWED_ATTR = null;\n    var DEFAULT_ALLOWED_ATTR = _addToSet({}, [\n\n        // HTML\n        'accept','action','align','alt','autocomplete','background','bgcolor',\n        'border','cellpadding','cellspacing','checked','cite','class','clear','color',\n        'cols','colspan','coords','datetime','default','dir','disabled',\n        'download','enctype','face','for','headers','height','hidden','high','href',\n        'hreflang','id','ismap','label','lang','list','loop', 'low','max',\n        'maxlength','media','method','min','multiple','name','noshade','novalidate',\n        'nowrap','open','optimum','pattern','placeholder','poster','preload','pubdate',\n        'radiogroup','readonly','rel','required','rev','reversed','rows',\n        'rowspan','spellcheck','scope','selected','shape','size','span',\n        'srclang','start','src','step','style','summary','tabindex','title',\n        'type','usemap','valign','value','width','xmlns',\n\n        // SVG\n        'accent-height','accumulate','additivive','alignment-baseline',\n        'ascent','attributename','attributetype','azimuth','basefrequency',\n        'baseline-shift','begin','bias','by','clip','clip-path','clip-rule',\n        'color','color-interpolation','color-interpolation-filters','color-profile',\n        'color-rendering','cx','cy','d','dx','dy','diffuseconstant','direction',\n        'display','divisor','dur','edgemode','elevation','end','fill','fill-opacity',\n        'fill-rule','filter','flood-color','flood-opacity','font-family','font-size',\n        'font-size-adjust','font-stretch','font-style','font-variant','font-weight',\n        'fx', 'fy','g1','g2','glyph-name','glyphref','gradientunits','gradienttransform',\n        'image-rendering','in','in2','k','k1','k2','k3','k4','kerning','keypoints',\n        'keysplines','keytimes','lengthadjust','letter-spacing','kernelmatrix',\n        'kernelunitlength','lighting-color','local','marker-end','marker-mid',\n        'marker-start','markerheight','markerunits','markerwidth','maskcontentunits',\n        'maskunits','max','mask','mode','min','numoctaves','offset','operator',\n        'opacity','order','orient','orientation','origin','overflow','paint-order',\n        'path','pathlength','patterncontentunits','patterntransform','patternunits',\n        'points','preservealpha','r','rx','ry','radius','refx','refy','repeatcount',\n        'repeatdur','restart','result','rotate','scale','seed','shape-rendering',\n        'specularconstant','specularexponent','spreadmethod','stddeviation','stitchtiles',\n        'stop-color','stop-opacity','stroke-dasharray','stroke-dashoffset','stroke-linecap',\n        'stroke-linejoin','stroke-miterlimit','stroke-opacity','stroke','stroke-width',\n        'surfacescale','targetx','targety','transform','text-anchor','text-decoration',\n        'text-rendering','textlength','u1','u2','unicode','values','viewbox',\n        'visibility','vert-adv-y','vert-origin-x','vert-origin-y','word-spacing',\n        'wrap','writing-mode','xchannelselector','ychannelselector','x','x1','x2',\n        'y','y1','y2','z','zoomandpan',\n\n        // MathML\n        'accent','accentunder','bevelled','close','columnsalign','columnlines',\n        'columnspan','denomalign','depth','display','displaystyle','fence',\n        'frame','largeop','length','linethickness','lspace','lquote',\n        'mathbackground','mathcolor','mathsize','mathvariant','maxsize',\n        'minsize','movablelimits','notation','numalign','open','rowalign',\n        'rowlines','rowspacing','rowspan','rspace','rquote','scriptlevel',\n        'scriptminsize','scriptsizemultiplier','selection','separator',\n        'separators','stretchy','subscriptshift','supscriptshift','symmetric',\n        'voffset',\n\n        // XML\n        'xlink:href','xml:id','xlink:title','xml:space','xmlns:xlink'\n    ]);\n\n    /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n    var FORBID_TAGS = null;\n\n    /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n    var FORBID_ATTR = null;\n\n    /* Decide if custom data attributes are okay */\n    var ALLOW_DATA_ATTR = true;\n\n    /* Decide if unknown protocols are okay */\n    var ALLOW_UNKNOWN_PROTOCOLS = false;\n\n    /* Output should be safe for jQuery's $() factory? */\n    var SAFE_FOR_JQUERY = false;\n\n    /* Output should be safe for common template engines.\n     * This means, DOMPurify removes data attributes, mustaches and ERB\n     */\n    var SAFE_FOR_TEMPLATES = false;\n\n    /* Specify template detection regex for SAFE_FOR_TEMPLATES mode */\n    var MUSTACHE_EXPR = /\\{\\{[\\s\\S]*|[\\s\\S]*\\}\\}/gm;\n    var ERB_EXPR = /<%[\\s\\S]*|[\\s\\S]*%>/gm;\n\n    /* Decide if document with <html>... should be returned */\n    var WHOLE_DOCUMENT = false;\n\n    /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html string.\n     * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n     */\n    var RETURN_DOM = false;\n\n    /* Decide if a DOM `DocumentFragment` should be returned, instead of a html string */\n    var RETURN_DOM_FRAGMENT = false;\n\n    /* If `RETURN_DOM` or `RETURN_DOM_FRAGMENT` is enabled, decide if the returned DOM\n     * `Node` is imported into the current `Document`. If this flag is not enabled the\n     * `Node` will belong (its ownerDocument) to a fresh `HTMLDocument`, created by\n     * DOMPurify. */\n    var RETURN_DOM_IMPORT = false;\n\n    /* Output should be free from DOM clobbering attacks? */\n    var SANITIZE_DOM = true;\n\n    /* Keep element content when removing element? */\n    var KEEP_CONTENT = true;\n\n    /* Tags to ignore content of when KEEP_CONTENT is true */\n    var FORBID_CONTENTS = _addToSet({}, [\n        'audio', 'head', 'math', 'script', 'style', 'svg', 'video'\n    ]);\n\n    /* Tags that are safe for data: URIs */\n    var DATA_URI_TAGS = _addToSet({}, [\n        'audio', 'video', 'img', 'source'\n    ]);\n\n    /* Attributes safe for values like \"javascript:\" */\n    var URI_SAFE_ATTRIBUTES = _addToSet({}, [\n        'alt','class','for','id','label','name','pattern','placeholder',\n        'summary','title','value','style','xmlns'\n    ]);\n\n    /* Keep a reference to config to pass to hooks */\n    var CONFIG = null;\n\n    /* Ideally, do not touch anything below this line */\n    /* ______________________________________________ */\n\n    var formElement = document.createElement('form');\n\n    /**\n     * _parseConfig\n     *\n     * @param  optional config literal\n     */\n    var _parseConfig = function(cfg) {\n        /* Shield configuration object from tampering */\n        if (typeof cfg !== 'object') {\n            cfg = {};\n        }\n\n        /* Set configuration parameters */\n        ALLOWED_TAGS = 'ALLOWED_TAGS' in cfg ?\n            _addToSet({}, cfg.ALLOWED_TAGS) : DEFAULT_ALLOWED_TAGS;\n        ALLOWED_ATTR = 'ALLOWED_ATTR' in cfg ?\n            _addToSet({}, cfg.ALLOWED_ATTR) : DEFAULT_ALLOWED_ATTR;\n        FORBID_TAGS = 'FORBID_TAGS' in cfg ?\n            _addToSet({}, cfg.FORBID_TAGS) : {};\n        FORBID_ATTR = 'FORBID_ATTR' in cfg ?\n            _addToSet({}, cfg.FORBID_ATTR) : {};\n        ALLOW_DATA_ATTR     = cfg.ALLOW_DATA_ATTR     !== false; // Default true\n        ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n        SAFE_FOR_JQUERY     = cfg.SAFE_FOR_JQUERY     ||  false; // Default false\n        SAFE_FOR_TEMPLATES  = cfg.SAFE_FOR_TEMPLATES  ||  false; // Default false\n        WHOLE_DOCUMENT      = cfg.WHOLE_DOCUMENT      ||  false; // Default false\n        RETURN_DOM          = cfg.RETURN_DOM          ||  false; // Default false\n        RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT ||  false; // Default false\n        RETURN_DOM_IMPORT   = cfg.RETURN_DOM_IMPORT   ||  false; // Default false\n        SANITIZE_DOM        = cfg.SANITIZE_DOM        !== false; // Default true\n        KEEP_CONTENT        = cfg.KEEP_CONTENT        !== false; // Default true\n\n        if (SAFE_FOR_TEMPLATES) {\n            ALLOW_DATA_ATTR = false;\n        }\n\n        if (RETURN_DOM_FRAGMENT) {\n            RETURN_DOM = true;\n        }\n\n        /* Merge configuration parameters */\n        if (cfg.ADD_TAGS) {\n            if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n                ALLOWED_TAGS = _cloneObj(ALLOWED_TAGS);\n            }\n            _addToSet(ALLOWED_TAGS, cfg.ADD_TAGS);\n        }\n        if (cfg.ADD_ATTR) {\n            if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n                ALLOWED_ATTR = _cloneObj(ALLOWED_ATTR);\n            }\n            _addToSet(ALLOWED_ATTR, cfg.ADD_ATTR);\n        }\n        if (cfg.ADD_URI_SAFE_ATTR) {\n            _addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR);\n        }\n\n        /* Add #text in case KEEP_CONTENT is set to true */\n        if (KEEP_CONTENT) { ALLOWED_TAGS['#text'] = true; }\n\n        // Prevent further manipulation of configuration.\n        // Not available in IE8, Safari 5, etc.\n        if (Object && 'freeze' in Object) { Object.freeze(cfg); }\n\n        CONFIG = cfg;\n    };\n\n   /**\n     * _forceRemove\n     *\n     * @param  a DOM node\n     */\n    var _forceRemove = function(node) {\n        DOMPurify.removed.push({element: node});\n        try {\n            node.parentNode.removeChild(node);\n        } catch (e) {\n            node.outerHTML = '';\n        }\n    };\n\n   /**\n     * _removeAttribute\n     *\n     * @param  an Attribute name\n     * @param  a DOM node\n     */\n    var _removeAttribute = function(name, node) {\n        DOMPurify.removed.push({\n            attribute: node.getAttributeNode(name),\n            from: node\n        });\n        node.removeAttribute(name);\n    };\n\n   /**\n     * _initDocument\n     *\n     * @param  a string of dirty markup\n     * @return a DOM, filled with the dirty markup\n     */\n    var _initDocument = function(dirty) {\n        /* Create a HTML document using DOMParser */\n        var doc, body;\n        try {\n            doc = new DOMParser().parseFromString(dirty, 'text/html');\n        } catch (e) {}\n\n        /* Some browsers throw, some browsers return null for the code above\n           DOMParser with text/html support is only in very recent browsers.\n           See #159 why the check here is extra-thorough */\n        if (!doc || !doc.documentElement) {\n            doc = implementation.createHTMLDocument('');\n            body = doc.body;\n            body.parentNode.removeChild(body.parentNode.firstElementChild);\n            body.outerHTML = dirty;\n        }\n\n        /* Work on whole document or just its body */\n        if (typeof doc.getElementsByTagName === 'function') {\n            return doc.getElementsByTagName(\n                WHOLE_DOCUMENT ? 'html' : 'body')[0];\n        }\n        return getElementsByTagName.call(doc,\n            WHOLE_DOCUMENT ? 'html' : 'body')[0];\n    };\n\n    /**\n     * _createIterator\n     *\n     * @param  document/fragment to create iterator for\n     * @return iterator instance\n     */\n    var _createIterator = function(root) {\n        return createNodeIterator.call(root.ownerDocument || root,\n            root,\n            NodeFilter.SHOW_ELEMENT\n            | NodeFilter.SHOW_COMMENT\n            | NodeFilter.SHOW_TEXT,\n            function() { return NodeFilter.FILTER_ACCEPT; },\n            false\n        );\n    };\n\n    /**\n     * _isClobbered\n     *\n     * @param  element to check for clobbering attacks\n     * @return true if clobbered, false if safe\n     */\n    var _isClobbered = function(elm) {\n        if (elm instanceof Text || elm instanceof Comment) {\n            return false;\n        }\n        if (  typeof elm.nodeName !== 'string'\n           || typeof elm.textContent !== 'string'\n           || typeof elm.removeChild !== 'function'\n           || !(elm.attributes instanceof NamedNodeMap)\n           || typeof elm.removeAttribute !== 'function'\n           || typeof elm.setAttribute !== 'function'\n        ) {\n            return true;\n        }\n        return false;\n    };\n\n    /**\n     * _isNode\n     *\n     * @param object to check whether it's a DOM node\n     * @return true is object is a DOM node\n     */\n    var _isNode = function(obj) {\n        return (\n            typeof Node === \"object\" ? obj instanceof Node : obj\n                && typeof obj === \"object\" && typeof obj.nodeType === \"number\"\n                && typeof obj.nodeName===\"string\"\n        );\n    };\n\n    /**\n     * _sanitizeElements\n     *\n     * @protect nodeName\n     * @protect textContent\n     * @protect removeChild\n     *\n     * @param   node to check for permission to exist\n     * @return  true if node was killed, false if left alive\n     */\n    var _sanitizeElements = function(currentNode) {\n        var tagName, content;\n        /* Execute a hook if present */\n        _executeHook('beforeSanitizeElements', currentNode, null);\n\n        /* Check if element is clobbered or can clobber */\n        if (_isClobbered(currentNode)) {\n            _forceRemove(currentNode);\n            return true;\n        }\n\n        /* Now let's check the element's type and name */\n        tagName = currentNode.nodeName.toLowerCase();\n\n        /* Execute a hook if present */\n        _executeHook('uponSanitizeElement', currentNode, {\n            tagName: tagName,\n            allowedTags: ALLOWED_TAGS\n        });\n\n        /* Remove element if anything forbids its presence */\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n            /* Keep content except for black-listed elements */\n            if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]\n                    && typeof currentNode.insertAdjacentHTML === 'function') {\n                try {\n                    currentNode.insertAdjacentHTML('AfterEnd', currentNode.innerHTML);\n                } catch (e) {}\n            }\n            _forceRemove(currentNode);\n            return true;\n        }\n\n        /* Convert markup to cover jQuery behavior */\n        if (SAFE_FOR_JQUERY && !currentNode.firstElementChild &&\n                (!currentNode.content || !currentNode.content.firstElementChild) &&\n                /</g.test(currentNode.textContent)) {\n            DOMPurify.removed.push({element: currentNode.cloneNode()});\n            currentNode.innerHTML = currentNode.textContent.replace(/</g, '&lt;');\n        }\n\n        /* Sanitize element content to be template-safe */\n        if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n            /* Get the element's text content */\n            content = currentNode.textContent;\n            content = content.replace(MUSTACHE_EXPR, ' ');\n            content = content.replace(ERB_EXPR, ' ');\n            if (currentNode.textContent !== content) {\n                DOMPurify.removed.push({element: currentNode.cloneNode()});\n                currentNode.textContent = content;\n            }\n        }\n\n        /* Execute a hook if present */\n        _executeHook('afterSanitizeElements', currentNode, null);\n\n        return false;\n    };\n\n    var DATA_ATTR = /^data-[\\-\\w.\\u00B7-\\uFFFF]/;\n    var IS_ALLOWED_URI = /^(?:(?:(?:f|ht)tps?|mailto|tel):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i;\n    var IS_SCRIPT_OR_DATA = /^(?:\\w+script|data):/i;\n    /* This needs to be extensive thanks to Webkit/Blink's behavior */\n    var ATTR_WHITESPACE = /[\\x00-\\x20\\xA0\\u1680\\u180E\\u2000-\\u2029\\u205f\\u3000]/g;\n\n    /**\n     * _sanitizeAttributes\n     *\n     * @protect attributes\n     * @protect nodeName\n     * @protect removeAttribute\n     * @protect setAttribute\n     *\n     * @param   node to sanitize\n     * @return  void\n     */\n    var _sanitizeAttributes = function(currentNode) {\n        var attr, name, value, lcName, idAttr, attributes, hookEvent, l;\n        /* Execute a hook if present */\n        _executeHook('beforeSanitizeAttributes', currentNode, null);\n\n        attributes = currentNode.attributes;\n\n        /* Check if we have attributes; if not we might have a text node */\n        if (!attributes) { return; }\n\n        hookEvent = {\n            attrName: '',\n            attrValue: '',\n            keepAttr: true,\n            allowedAttributes: ALLOWED_ATTR\n        };\n        l = attributes.length;\n\n        /* Go backwards over all attributes; safely remove bad ones */\n        while (l--) {\n            attr = attributes[l];\n            name = attr.name;\n            value = attr.value.trim();\n            lcName = name.toLowerCase();\n\n            /* Execute a hook if present */\n            hookEvent.attrName = lcName;\n            hookEvent.attrValue = value;\n            hookEvent.keepAttr = true;\n            _executeHook('uponSanitizeAttribute', currentNode, hookEvent );\n            value = hookEvent.attrValue;\n\n            /* Remove attribute */\n            // Safari (iOS + Mac), last tested v8.0.5, crashes if you try to\n            // remove a \"name\" attribute from an <img> tag that has an \"id\"\n            // attribute at the time.\n            if (lcName === 'name'  &&\n                    currentNode.nodeName === 'IMG' && attributes.id) {\n                idAttr = attributes.id;\n                attributes = Array.prototype.slice.apply(attributes);\n                _removeAttribute('id', currentNode);\n                _removeAttribute(name, currentNode);\n                if (attributes.indexOf(idAttr) > l) {\n                    currentNode.setAttribute('id', idAttr.value);\n                }\n            } else {\n                // This avoids a crash in Safari v9.0 with double-ids.\n                // The trick is to first set the id to be empty and then to\n                // remove the attriubute\n                if (name === 'id') {\n                    currentNode.setAttribute(name, '');\n                }\n                _removeAttribute(name, currentNode);\n            }\n\n            /* Did the hooks approve of the attribute? */\n            if (!hookEvent.keepAttr) {\n                continue;\n            }\n\n            /* Make sure attribute cannot clobber */\n            if (SANITIZE_DOM &&\n                    (lcName === 'id' || lcName === 'name') &&\n                    (value in window || value in document || value in formElement)) {\n                continue;\n            }\n\n            /* Sanitize attribute content to be template-safe */\n            if (SAFE_FOR_TEMPLATES) {\n                value = value.replace(MUSTACHE_EXPR, ' ');\n                value = value.replace(ERB_EXPR, ' ');\n            }\n\n            /* Allow valid data-* attributes: At least one character after \"-\"\n               (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n               XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n               We don't need to check the value; it's always URI safe. */\n            if (ALLOW_DATA_ATTR && DATA_ATTR.test(lcName)) {\n                // This attribute is safe\n            }\n            /* Otherwise, check the name is permitted */\n            else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n                continue;\n            }\n            /* Check value is safe. First, is attr inert? If so, is safe */\n            else if (URI_SAFE_ATTRIBUTES[lcName]) {\n                // This attribute is safe\n            }\n            /* Check no script, data or unknown possibly unsafe URI\n               unless we know URI values are safe for that attribute */\n            else if (IS_ALLOWED_URI.test(value.replace(ATTR_WHITESPACE,''))) {\n                // This attribute is safe\n            }\n            /* Keep image data URIs alive if src is allowed */\n            else if (\n                lcName === 'src' &&\n                value.indexOf('data:') === 0 &&\n                DATA_URI_TAGS[currentNode.nodeName.toLowerCase()]) {\n                // This attribute is safe\n            }\n            /* Allow unknown protocols: This provides support for links that\n               are handled by protocol handlers which may be unknown ahead of\n               time, e.g. fb:, spotify: */\n            else if (\n                ALLOW_UNKNOWN_PROTOCOLS &&\n                !IS_SCRIPT_OR_DATA.test(value.replace(ATTR_WHITESPACE,''))) {\n                // This attribute is safe\n            }\n            /* Check for binary attributes */\n            else if (!value) {\n                // binary attributes are safe at this point\n            }\n            /* Anything else, presume unsafe, do not add it back */\n            else {\n                continue;\n            }\n\n            /* Handle invalid data-* attribute set by try-catching it */\n            try {\n                currentNode.setAttribute(name, value);\n                DOMPurify.removed.pop();\n            } catch (e) {}\n        }\n\n        /* Execute a hook if present */\n        _executeHook('afterSanitizeAttributes', currentNode, null);\n    };\n\n    /**\n     * _sanitizeShadowDOM\n     *\n     * @param  fragment to iterate over recursively\n     * @return void\n     */\n    var _sanitizeShadowDOM = function(fragment) {\n        var shadowNode;\n        var shadowIterator = _createIterator(fragment);\n\n        /* Execute a hook if present */\n        _executeHook('beforeSanitizeShadowDOM', fragment, null);\n\n        while ( (shadowNode = shadowIterator.nextNode()) ) {\n            /* Execute a hook if present */\n            _executeHook('uponSanitizeShadowNode', shadowNode, null);\n\n            /* Sanitize tags and elements */\n            if (_sanitizeElements(shadowNode)) {\n                continue;\n            }\n\n            /* Deep shadow DOM detected */\n            if (shadowNode.content instanceof DocumentFragment) {\n                _sanitizeShadowDOM(shadowNode.content);\n            }\n\n            /* Check attributes, sanitize if necessary */\n            _sanitizeAttributes(shadowNode);\n        }\n\n        /* Execute a hook if present */\n        _executeHook('afterSanitizeShadowDOM', fragment, null);\n    };\n\n    /**\n     * _executeHook\n     * Execute user configurable hooks\n     *\n     * @param  {String} entryPoint  Name of the hook's entry point\n     * @param  {Node} currentNode\n     */\n    var _executeHook = function(entryPoint, currentNode, data) {\n        if (!hooks[entryPoint]) { return; }\n\n        hooks[entryPoint].forEach(function(hook) {\n            hook.call(DOMPurify, currentNode, data, CONFIG);\n        });\n    };\n\n    /**\n     * sanitize\n     * Public method providing core sanitation functionality\n     *\n     * @param {String|Node} dirty string or DOM node\n     * @param {Object} configuration object\n     */\n    DOMPurify.sanitize = function(dirty, cfg) {\n        var body, importedNode, currentNode, oldNode, nodeIterator, returnNode;\n        /* Make sure we have a string to sanitize.\n           DO NOT return early, as this will return the wrong type if\n           the user has requested a DOM object rather than a string */\n        if (!dirty) {\n            dirty = '<!-->';\n        }\n\n        /* Stringify, in case dirty is an object */\n        if (typeof dirty !== 'string' && !_isNode(dirty)) {\n            if (typeof dirty.toString !== 'function') {\n                throw new TypeError('toString is not a function');\n            } else {\n                dirty = dirty.toString();\n            }\n        }\n\n        /* Check we can run. Otherwise fall back or ignore */\n        if (!DOMPurify.isSupported) {\n            if (typeof window.toStaticHTML === 'object'\n                || typeof window.toStaticHTML === 'function') {\n                if (typeof dirty === 'string') {\n                    return window.toStaticHTML(dirty);\n                } else if (_isNode(dirty)) {\n                    return window.toStaticHTML(dirty.outerHTML);\n                }\n            }\n            return dirty;\n        }\n\n        /* Assign config vars */\n        _parseConfig(cfg);\n\n        /* Clean up removed elements */\n        DOMPurify.removed = [];\n\n        if (dirty instanceof Node) {\n            /* If dirty is a DOM element, append to an empty document to avoid\n               elements being stripped by the parser */\n            body = _initDocument('<!-->');\n            importedNode = body.ownerDocument.importNode(dirty, true);\n            if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n                /* Node is already a body, use as is */\n                body = importedNode;\n            } else {\n                body.appendChild( importedNode );\n            }\n        } else {\n            /* Exit directly if we have nothing to do */\n            if (!RETURN_DOM && !WHOLE_DOCUMENT && dirty.indexOf('<') === -1) {\n                return dirty;\n            }\n\n            /* Initialize the document to work on */\n            body = _initDocument(dirty);\n\n            /* Check we have a DOM node from the data */\n            if (!body) {\n                return RETURN_DOM ? null : '';\n            }\n        }\n\n        /* Get node iterator */\n        nodeIterator = _createIterator(body);\n\n        /* Now start iterating over the created document */\n        while ( (currentNode = nodeIterator.nextNode()) ) {\n\n            /* Fix IE's strange behavior with manipulated textNodes #89 */\n            if (currentNode.nodeType === 3 && currentNode === oldNode) {\n                continue;\n            }\n\n            /* Sanitize tags and elements */\n            if (_sanitizeElements(currentNode)) {\n                continue;\n            }\n\n            /* Shadow DOM detected, sanitize it */\n            if (currentNode.content instanceof DocumentFragment) {\n                _sanitizeShadowDOM(currentNode.content);\n            }\n\n            /* Check attributes, sanitize if necessary */\n            _sanitizeAttributes(currentNode);\n\n            oldNode = currentNode;\n        }\n\n        /* Return sanitized string or DOM */\n        if (RETURN_DOM) {\n\n            if (RETURN_DOM_FRAGMENT) {\n                returnNode = createDocumentFragment.call(body.ownerDocument);\n\n                while (body.firstChild) {\n                    returnNode.appendChild(body.firstChild);\n                }\n            } else {\n                returnNode = body;\n            }\n\n            if (RETURN_DOM_IMPORT) {\n                /* adoptNode() is not used because internal state is not reset\n                   (e.g. the past names map of a HTMLFormElement), this is safe\n                   in theory but we would rather not risk another attack vector.\n                   The state that is cloned by importNode() is explicitly defined\n                   by the specs. */\n                returnNode = importNode.call(originalDocument, returnNode, true);\n            }\n\n            return returnNode;\n        }\n\n        return WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n    };\n\n    /**\n     * addHook\n     * Public method to add DOMPurify hooks\n     *\n     * @param {String} entryPoint\n     * @param {Function} hookFunction\n     */\n    DOMPurify.addHook = function(entryPoint, hookFunction) {\n        if (typeof hookFunction !== 'function') { return; }\n        hooks[entryPoint] = hooks[entryPoint] || [];\n        hooks[entryPoint].push(hookFunction);\n    };\n\n    /**\n     * removeHook\n     * Public method to remove a DOMPurify hook at a given entryPoint\n     * (pops it from the stack of hooks if more are present)\n     *\n     * @param {String} entryPoint\n     * @return void\n     */\n    DOMPurify.removeHook = function(entryPoint) {\n        if (hooks[entryPoint]) {\n            hooks[entryPoint].pop();\n        }\n    };\n\n    /**\n     * removeHooks\n     * Public method to remove all DOMPurify hooks at a given entryPoint\n     *\n     * @param  {String} entryPoint\n     * @return void\n     */\n    DOMPurify.removeHooks = function(entryPoint) {\n        if (hooks[entryPoint]) {\n            hooks[entryPoint] = [];\n        }\n    };\n\n    /**\n     * removeAllHooks\n     * Public method to remove all DOMPurify hooks\n     *\n     * @return void\n     */\n    DOMPurify.removeAllHooks = function() {\n        hooks = {};\n    };\n\n    return DOMPurify;\n}));\n\n\n\n// WEBPACK FOOTER //\n// ./~/dompurify/src/purify.js","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/eventemitter3/index.js","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function eventListener() {\n      if (errorListener !== undefined) {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n    var errorListener;\n\n    // Adding an error listener is not optional because\n    // if an error is thrown on an event emitter we cannot\n    // guarantee that the actual event we are waiting will\n    // be fired. The result could be a silent way to create\n    // memory or file descriptor leaks, which is something\n    // we should avoid.\n    if (name !== 'error') {\n      errorListener = function errorListener(err) {\n        emitter.removeListener(name, eventListener);\n        reject(err);\n      };\n\n      emitter.once('error', errorListener);\n    }\n\n    emitter.once(name, eventListener);\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/events/events.js","/*\n * Fuzzy\n * https://github.com/myork/fuzzy\n *\n * Copyright (c) 2012 Matt York\n * Licensed under the MIT license.\n */\n\n(function() {\n\nvar root = this;\n\nvar fuzzy = {};\n\n// Use in node or in browser\nif (typeof exports !== 'undefined') {\n  module.exports = fuzzy;\n} else {\n  root.fuzzy = fuzzy;\n}\n\n// Return all elements of `array` that have a fuzzy\n// match against `pattern`.\nfuzzy.simpleFilter = function(pattern, array) {\n  return array.filter(function(str) {\n    return fuzzy.test(pattern, str);\n  });\n};\n\n// Does `pattern` fuzzy match `str`?\nfuzzy.test = function(pattern, str) {\n  return fuzzy.match(pattern, str) !== null;\n};\n\n// If `pattern` matches `str`, wrap each matching character\n// in `opts.pre` and `opts.post`. If no match, return null\nfuzzy.match = function(pattern, str, opts) {\n  opts = opts || {};\n  var patternIdx = 0\n    , result = []\n    , len = str.length\n    , totalScore = 0\n    , currScore = 0\n    // prefix\n    , pre = opts.pre || ''\n    // suffix\n    , post = opts.post || ''\n    // String to compare against. This might be a lowercase version of the\n    // raw string\n    , compareString =  opts.caseSensitive && str || str.toLowerCase()\n    , ch;\n\n  pattern = opts.caseSensitive && pattern || pattern.toLowerCase();\n\n  // For each character in the string, either add it to the result\n  // or wrap in template if it's the next string in the pattern\n  for(var idx = 0; idx < len; idx++) {\n    ch = str[idx];\n    if(compareString[idx] === pattern[patternIdx]) {\n      ch = pre + ch + post;\n      patternIdx += 1;\n\n      // consecutive characters should increase the score more than linearly\n      currScore += 1 + currScore;\n    } else {\n      currScore = 0;\n    }\n    totalScore += currScore;\n    result[result.length] = ch;\n  }\n\n  // return rendered string if we have a match for every char\n  if(patternIdx === pattern.length) {\n    // if the string is an exact match with pattern, totalScore should be maxed\n    totalScore = (compareString === pattern) ? Infinity : totalScore;\n    return {rendered: result.join(''), score: totalScore};\n  }\n\n  return null;\n};\n\n// The normal entry point. Filters `arr` for matches against `pattern`.\n// It returns an array with matching values of the type:\n//\n//     [{\n//         string:   '<b>lah' // The rendered string\n//       , index:    2        // The index of the element in `arr`\n//       , original: 'blah'   // The original element in `arr`\n//     }]\n//\n// `opts` is an optional argument bag. Details:\n//\n//    opts = {\n//        // string to put before a matching character\n//        pre:     '<b>'\n//\n//        // string to put after matching character\n//      , post:    '</b>'\n//\n//        // Optional function. Input is an entry in the given arr`,\n//        // output should be the string to test `pattern` against.\n//        // In this example, if `arr = [{crying: 'koala'}]` we would return\n//        // 'koala'.\n//      , extract: function(arg) { return arg.crying; }\n//    }\nfuzzy.filter = function(pattern, arr, opts) {\n  if(!arr || arr.length === 0) {\n    return [];\n  }\n  if (typeof pattern !== 'string') {\n    return arr;\n  }\n  opts = opts || {};\n  return arr\n    .reduce(function(prev, element, idx, arr) {\n      var str = element;\n      if(opts.extract) {\n        str = opts.extract(element);\n      }\n      var rendered = fuzzy.match(pattern, str, opts);\n      if(rendered != null) {\n        prev[prev.length] = {\n            string: rendered.rendered\n          , score: rendered.score\n          , index: idx\n          , original: element\n        };\n      }\n      return prev;\n    }, [])\n\n    // Sort by score. Browsers are inconsistent wrt stable/unstable\n    // sorting, so force stable by using the index in the case of tie.\n    // See http://ofb.net/~sethml/is-sort-stable.html\n    .sort(function(a,b) {\n      var compare = b.score - a.score;\n      if(compare) return compare;\n      return a.index - b.index;\n    });\n};\n\n\n}());\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/fuzzy/lib/fuzzy.js","'use strict';\nvar toString = Object.prototype.toString;\n\nmodule.exports = function (x) {\n\tvar prototype;\n\treturn toString.call(x) === '[object Object]' && (prototype = Object.getPrototypeOf(x), prototype === null || prototype === Object.getPrototypeOf({}));\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/is-plain-obj/index.js","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash.debounce/index.js","// This file replaces `index.js` in bundlers like webpack or Rollup,\n// according to `browser` config in `package.json`.\n\nif (process.env.NODE_ENV !== 'production') {\n  // All bundlers will remove this block in production bundle\n  if (typeof navigator !== 'undefined' && navigator.product === 'ReactNative') {\n    throw new Error(\n      'React Native does not have a built-in secure random generator. ' +\n      'If you dont need unpredictable IDs, you can use `nanoid/non-secure`. ' +\n      'For secure ID install `expo-random` locally and use `nanoid/async`.'\n    )\n  }\n  if (typeof self === 'undefined' || (!self.crypto && !self.msCrypto)) {\n    throw new Error(\n      'Your browser does not have secure random generator. ' +\n      'If you dont need unpredictable IDs, you can use nanoid/non-secure.'\n    )\n  }\n}\n\nvar crypto = self.crypto || self.msCrypto\n\n// This alphabet uses a-z A-Z 0-9 _- symbols.\n// Symbols are generated for smaller size.\n// -_zyxwvutsrqponmlkjihgfedcba9876543210ZYXWVUTSRQPONMLKJIHGFEDCBA\nvar url = '-_'\n// Loop from 36 to 0 (from z to a and 9 to 0 in Base36).\nvar i = 36\nwhile (i--) {\n  // 36 is radix. Number.prototype.toString(36) returns number\n  // in Base36 representation. Base36 is like hex, but it uses 09 and a-z.\n  url += i.toString(36)\n}\n// Loop from 36 to 10 (from Z to A in Base36).\ni = 36\nwhile (i-- - 10) {\n  url += i.toString(36).toUpperCase()\n}\n\nmodule.exports = function (size) {\n  var id = ''\n  var bytes = crypto.getRandomValues(new Uint8Array(size || 21))\n  i = size || 21\n\n  // Compact alternative for `for (var i = 0; i < size; i++)`\n  while (i--) {\n    // We cant use bytes bigger than the alphabet. 63 is 00111111 bitmask.\n    // This mask reduces random byte 0-255 to 0-63 values.\n    // There is no need in `|| ''` and `* 1.6` hacks in here,\n    // because bitmask trim bytes exact to alphabet size.\n    id += url[bytes[i] & 63]\n  }\n  return id\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/nanoid/index.browser.js","!function(root, name, make) {\r\n  if (typeof module != 'undefined' && module.exports) module.exports = make()\r\n  else root[name] = make()\r\n}(this, 'subtag', function() {\r\n\r\n  var empty = ''\r\n  var pattern = /^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/\r\n\r\n  function match(tag) {\r\n    return tag.match(pattern) || []\r\n  }\r\n\r\n  function split(tag) {\r\n    return match(tag).filter(function(v, i) { return v && i })\r\n  }\r\n\r\n  function api(tag) {\r\n    tag = match(tag)\r\n    return {\r\n      language: tag[1] || empty,\r\n      extlang: tag[2] || empty,\r\n      script: tag[3] || empty,\r\n      region: tag[4] || empty\r\n    }\r\n  }\r\n\r\n  function expose(target, key, value) {\r\n    Object.defineProperty(target, key, {\r\n      value: value,\r\n      enumerable: true\r\n    })\r\n  }\r\n\r\n  function part(position, pattern, type) {\r\n    function method(tag) {\r\n      return match(tag)[position] || empty\r\n    }\r\n    expose(method, 'pattern', pattern)\r\n    expose(api, type, method)\r\n  }\r\n\r\n  part(1, /^[a-zA-Z]{2,3}$/, 'language')\r\n  part(2, /^[a-zA-Z]{3}$/, 'extlang')\r\n  part(3, /^[a-zA-Z]{4}$/, 'script')\r\n  part(4, /^[a-zA-Z]{2}$|^[0-9]{3}$/, 'region')\r\n\r\n  expose(api, 'split', split)\r\n\r\n  return api\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/subtag/subtag.js","'use strict';\n\n/**\n * A typeahead component for inputs\n * @class Suggestions\n *\n * @param {HTMLInputElement} el A valid HTML input element\n * @param {Array} data An array of data used for results\n * @param {Object} options\n * @param {Number} [options.limit=5] Max number of results to display in the auto suggest list.\n * @param {Number} [options.minLength=2] Number of characters typed into an input to trigger suggestions.\n * @param {Boolean} [options.hideOnBlur=true] If `true`, hides the suggestions when focus is lost.\n * @return {Suggestions} `this`\n * @example\n * // in the browser\n * var input = document.querySelector('input');\n * var data = [\n *   'Roy Eldridge',\n *   'Roy Hargrove',\n *   'Rex Stewart'\n * ];\n *\n * new Suggestions(input, data);\n *\n * // with options\n * var input = document.querySelector('input');\n * var data = [{\n *   name: 'Roy Eldridge',\n *   year: 1911\n * }, {\n *   name: 'Roy Hargrove',\n *   year: 1969\n * }, {\n *   name: 'Rex Stewart',\n *   year: 1907\n * }];\n *\n * var typeahead = new Suggestions(input, data, {\n *   filter: false, // Disable filtering\n *   minLength: 3, // Number of characters typed into an input to trigger suggestions.\n *   limit: 3, //  Max number of results to display.\n *   hideOnBlur: false // Don't hide results when input loses focus\n * });\n *\n * // As we're passing an object of an arrays as data, override\n * // `getItemValue` by specifying the specific property to search on.\n * typeahead.getItemValue = function(item) { return item.name };\n *\n * input.addEventListener('change', function() {\n *   console.log(typeahead.selected); // Current selected item.\n * });\n *\n * // With browserify\n * var Suggestions = require('suggestions');\n *\n * new Suggestions(input, data);\n */\nvar Suggestions = require('./src/suggestions');\nwindow.Suggestions = module.exports = Suggestions;\n\n\n\n// WEBPACK FOOTER //\n// ./~/suggestions/index.js","'use strict';\n\nvar List = function(component) {\n  this.component = component;\n  this.items = [];\n  this.active = 0;\n  this.wrapper = document.createElement('div');\n  this.wrapper.className = 'suggestions-wrapper';\n  this.element = document.createElement('ul');\n  this.element.className = 'suggestions';\n  this.wrapper.appendChild(this.element);\n\n  // selectingListItem is set to true in the time between the mousedown and mouseup when clicking an item in the list\n  // mousedown on a list item will cause the input to blur which normally hides the list, so this flag is used to keep\n  // the list open until the mouseup\n  this.selectingListItem = false;\n\n  component.el.parentNode.insertBefore(this.wrapper, component.el.nextSibling);\n  return this;\n};\n\nList.prototype.show = function() {\n  this.element.style.display = 'block';\n};\n\nList.prototype.hide = function() {\n  this.element.style.display = 'none';\n};\n\nList.prototype.add = function(item) {\n  this.items.push(item);\n};\n\nList.prototype.clear = function() {\n  this.items = [];\n  this.active = 0;\n};\n\nList.prototype.isEmpty = function() {\n  return !this.items.length;\n};\n\nList.prototype.isVisible = function() {\n  return this.element.style.display === 'block';\n};\n\nList.prototype.draw = function() {\n  this.element.innerHTML = '';\n\n  if (this.items.length === 0) {\n    this.hide();\n    return;\n  }\n\n  for (var i = 0; i < this.items.length; i++) {\n    this.drawItem(this.items[i], this.active === i);\n  }\n\n  this.show();\n};\n\nList.prototype.drawItem = function(item, active) {\n  var li = document.createElement('li'),\n    a = document.createElement('a');\n\n  if (active) li.className += ' active';\n\n  a.innerHTML = item.string;\n\n  li.appendChild(a);\n  this.element.appendChild(li);\n\n  li.addEventListener('mousedown', function() {\n    this.selectingListItem = true;\n  }.bind(this));\n\n  li.addEventListener('mouseup', function() {\n    this.handleMouseUp.call(this, item);\n  }.bind(this));\n};\n\nList.prototype.handleMouseUp = function(item) {\n  this.selectingListItem = false;\n  this.component.value(item.original);\n  this.clear();\n  this.draw();\n};\n\nList.prototype.move = function(index) {\n  this.active = index;\n  this.draw();\n};\n\nList.prototype.previous = function() {\n  this.move(this.active === 0 ? this.items.length - 1 : this.active - 1);\n};\n\nList.prototype.next = function() {\n  this.move(this.active === this.items.length - 1 ? 0 : this.active + 1);\n};\n\nList.prototype.drawError = function(msg){\n  var li = document.createElement('li');\n\n  li.innerHTML = msg;\n\n  this.element.appendChild(li);\n  this.show();\n}\n\nmodule.exports = List;\n\n\n\n// WEBPACK FOOTER //\n// ./~/suggestions/src/list.js","'use strict';\n\nvar extend = require('xtend');\nvar fuzzy = require('fuzzy');\nvar List = require('./list');\n\nvar Suggestions = function(el, data, options) {\n  options = options || {};\n\n  this.options = extend({\n    minLength: 2,\n    limit: 5,\n    filter: true,\n    hideOnBlur: true\n  }, options);\n\n  this.el = el;\n  this.data = data || [];\n  this.list = new List(this);\n\n  this.query = '';\n  this.selected = null;\n\n  this.list.draw();\n\n  this.el.addEventListener('keyup', function(e) {\n    this.handleKeyUp(e.keyCode);\n  }.bind(this), false);\n\n  this.el.addEventListener('keydown', function(e) {\n    this.handleKeyDown(e);\n  }.bind(this));\n\n  this.el.addEventListener('focus', function() {\n    this.handleFocus();\n  }.bind(this));\n\n  this.el.addEventListener('blur', function() {\n    this.handleBlur();\n  }.bind(this));\n\n  this.el.addEventListener('paste', function(e) {\n    this.handlePaste(e);\n  }.bind(this));\n\n  // use user-provided render function if given, otherwise just use the default\n  this.render = (this.options.render) ? this.options.render.bind(this) : this.render.bind(this)\n\n  this.getItemValue = (this.options.getItemValue) ? this.options.getItemValue.bind(this) : this.getItemValue.bind(this);\n\n  return this;\n};\n\nSuggestions.prototype.handleKeyUp = function(keyCode) {\n  // 40 - DOWN\n  // 38 - UP\n  // 27 - ESC\n  // 13 - ENTER\n  // 9 - TAB\n\n  if (keyCode === 40 ||\n      keyCode === 38 ||\n      keyCode === 27 ||\n      keyCode === 13 ||\n      keyCode === 9) return;\n\n  this.handleInputChange(this.el.value);\n};\n\nSuggestions.prototype.handleKeyDown = function(e) {\n  switch (e.keyCode) {\n    case 13: // ENTER\n    case 9: // TAB\n      if (!this.list.isEmpty()) {\n        if (this.list.isVisible()) {\n          e.preventDefault();\n        }\n        this.value(this.list.items[this.list.active].original);\n        this.list.hide();\n      }\n    break;\n    case 27: // ESC\n      if (!this.list.isEmpty()) this.list.hide();\n    break;\n    case 38: // UP\n      this.list.previous();\n    break;\n    case 40: // DOWN\n      this.list.next();\n    break;\n  }\n};\n\nSuggestions.prototype.handleBlur = function() {\n  if (!this.list.selectingListItem && this.options.hideOnBlur) {\n    this.list.hide();\n  }\n};\n\nSuggestions.prototype.handlePaste = function(e) {\n  if (e.clipboardData) {\n    this.handleInputChange(e.clipboardData.getData('Text'));\n  } else {\n    var self = this;\n    setTimeout(function () {\n      self.handleInputChange(e.target.value);\n    }, 100);\n  }\n};\n\nSuggestions.prototype.handleInputChange = function(query) {\n  this.query = this.normalize(query);\n\n  this.list.clear();\n\n  if (this.query.length < this.options.minLength) {\n    this.list.draw();\n    return;\n  }\n\n  this.getCandidates(function(data) {\n    for (var i = 0; i < data.length; i++) {\n      this.list.add(data[i]);\n      if (i === (this.options.limit - 1)) break;\n    }\n    this.list.draw();\n  }.bind(this));\n};\n\nSuggestions.prototype.handleFocus = function() {\n  if (!this.list.isEmpty()) this.list.show();\n  this.list.selectingListItem = false;\n};\n\n/**\n * Update data previously passed\n *\n * @param {Array} revisedData\n */\nSuggestions.prototype.update = function(revisedData) {\n  this.data = revisedData;\n  this.handleKeyUp();\n};\n\n/**\n * Clears data\n */\nSuggestions.prototype.clear = function() {\n  this.data = [];\n  this.list.clear();\n};\n\n/**\n * Normalize the results list and input value for matching\n *\n * @param {String} value\n * @return {String}\n */\nSuggestions.prototype.normalize = function(value) {\n  value = value.toLowerCase();\n  return value;\n};\n\n/**\n * Evaluates whether an array item qualifies as a match with the current query\n *\n * @param {String} candidate a possible item from the array passed\n * @param {String} query the current query\n * @return {Boolean}\n */\nSuggestions.prototype.match = function(candidate, query) {\n  return candidate.indexOf(query) > -1;\n};\n\nSuggestions.prototype.value = function(value) {\n  this.selected = value;\n  this.el.value = this.getItemValue(value);\n\n  if (document.createEvent) {\n    var e = document.createEvent('HTMLEvents');\n    e.initEvent('change', true, false);\n    this.el.dispatchEvent(e);\n  } else {\n    this.el.fireEvent('onchange');\n  }\n};\n\nSuggestions.prototype.getCandidates = function(callback) {\n  var options = {\n    pre: '<strong>',\n    post: '</strong>',\n    extract: function(d) { return this.getItemValue(d); }.bind(this)\n  };\n  var results;\n  if(this.options.filter){\n    results = fuzzy.filter(this.query, this.data, options);\n\n    results = results.map(function(item){\n      return {\n        original: item.original,\n        string: this.render(item.original, item.string)\n      };\n    }.bind(this))\n  }else{\n    results = this.data.map(function(d) {\n      var renderedString = this.render(d);\n      return {\n        original: d,\n        string: renderedString\n      };\n    }.bind(this));\n  }\n  callback(results);\n};\n\n/**\n * For a given item in the data array, return what should be used as the candidate string\n *\n * @param {Object|String} item an item from the data array\n * @return {String} item\n */\nSuggestions.prototype.getItemValue = function(item) {\n  return item;\n};\n\n/**\n * For a given item in the data array, return a string of html that should be rendered in the dropdown\n * @param {Object|String} item an item from the data array\n * @param {String} sourceFormatting a string that has pre-formatted html that should be passed directly through the render function \n * @return {String} html\n */\nSuggestions.prototype.render = function(item, sourceFormatting) {\n  if (sourceFormatting){\n    // use existing formatting on the source string\n    return sourceFormatting;\n  }\n  var boldString = (item.original) ? this.getItemValue(item.original) : this.getItemValue(item);\n  var indexString = this.normalize(boldString);\n  var indexOfQuery = indexString.lastIndexOf(this.query);\n  while (indexOfQuery > -1) {\n    var endIndexOfQuery = indexOfQuery + this.query.length;\n    boldString = boldString.slice(0, indexOfQuery) + '<strong>' + boldString.slice(indexOfQuery, endIndexOfQuery) + '</strong>' + boldString.slice(endIndexOfQuery);\n    indexOfQuery = indexString.slice(0, indexOfQuery).lastIndexOf(this.query);\n  }\n  return boldString\n}\n\n/**\n * Render an custom error message in the suggestions list\n * @param {String} msg An html string to render as an error message\n */\nSuggestions.prototype.renderError = function(msg){\n  this.list.drawError(msg);\n}\n\nmodule.exports = Suggestions;\n\n\n\n// WEBPACK FOOTER //\n// ./~/suggestions/src/suggestions.js","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/module.js","import '../sass/style.scss';\n\nimport {\n\t$,\n\t$$\n} from './modules/bling';\n\nimport autoComplete from './modules/autocomplete';\nimport typeAhead from './modules/typeAhead';\nimport loadPlaces from './modules/loadPlaces';\nimport ajaxHeart from './modules/heart.js';\n\n\nautoComplete($('#address'), $('#lat'), $('#lng'));\ntypeAhead( $('.search') );\n\nif($('#map')){\nloadPlaces();\n}\n\nautoComplete($('#mapSearch'));\n\n//$$ = queryselectoorall\nconst heartForms = $$('form.heart');\n//add eventlistener to all hearts\nheartForms.on('submit', ajaxHeart)\n\n\n// WEBPACK FOOTER //\n// ./public/javascripts/delicious-app.js"],"sourceRoot":""}