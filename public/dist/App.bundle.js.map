{"version":3,"sources":["webpack:///webpack/bootstrap 99a169bb29a32687019c","webpack:///./~/xtend/immutable.js","webpack:///./~/@mapbox/mapbox-sdk/lib/constants.js","webpack:///(webpack)/buildin/global.js","webpack:///./~/@mapbox/mapbox-sdk/lib/browser/browser-client.js","webpack:///./~/@mapbox/mapbox-sdk/lib/classes/mapi-client.js","webpack:///./~/@mapbox/parse-mapbox-token/index.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./public/javascripts/modules/autocomplete.js","webpack:///./public/javascripts/modules/bling.js","webpack:///./public/sass/style.scss?9bfe","webpack:///./~/@mapbox/fusspot/lib/index.js","webpack:///./~/@mapbox/mapbox-gl-geocoder/lib/events.js","webpack:///./~/@mapbox/mapbox-gl-geocoder/lib/exceptions.js","webpack:///./~/@mapbox/mapbox-gl-geocoder/lib/index.js","webpack:///./~/@mapbox/mapbox-gl-geocoder/lib/localization.js","webpack:///./~/@mapbox/mapbox-sdk/index.js","webpack:///./~/@mapbox/mapbox-sdk/lib/browser/browser-layer.js","webpack:///./~/@mapbox/mapbox-sdk/lib/classes/mapi-error.js","webpack:///./~/@mapbox/mapbox-sdk/lib/classes/mapi-request.js","webpack:///./~/@mapbox/mapbox-sdk/lib/classes/mapi-response.js","webpack:///./~/@mapbox/mapbox-sdk/lib/helpers/parse-headers.js","webpack:///./~/@mapbox/mapbox-sdk/lib/helpers/parse-link-header.js","webpack:///./~/@mapbox/mapbox-sdk/lib/helpers/url-utils.js","webpack:///./~/@mapbox/mapbox-sdk/services/geocoding.js","webpack:///./~/@mapbox/mapbox-sdk/services/service-helpers/create-service-factory.js","webpack:///./~/@mapbox/mapbox-sdk/services/service-helpers/object-map.js","webpack:///./~/@mapbox/mapbox-sdk/services/service-helpers/pick.js","webpack:///./~/@mapbox/mapbox-sdk/services/service-helpers/stringify-booleans.js","webpack:///./~/@mapbox/mapbox-sdk/services/service-helpers/validator.js","webpack:///./~/base-64/base64.js","webpack:///./~/eventemitter3/index.js","webpack:///./~/events/events.js","webpack:///./~/fuzzy/lib/fuzzy.js","webpack:///./~/is-plain-obj/index.js","webpack:///./~/lodash.debounce/index.js","webpack:///./~/nanoid/index.browser.js","webpack:///./~/node-libs-browser/~/process/browser.js","webpack:///./~/subtag/subtag.js","webpack:///./~/suggestions/index.js","webpack:///./~/suggestions/src/list.js","webpack:///./~/suggestions/src/suggestions.js","webpack:///(webpack)/buildin/module.js","webpack:///./public/javascripts/delicious-app.js"],"names":["module","exports","extend","hasOwnProperty","Object","prototype","target","i","arguments","length","source","key","call","API_ORIGIN","EVENT_PROGRESS_DOWNLOAD","EVENT_PROGRESS_UPLOAD","EVENT_ERROR","EVENT_RESPONSE","ERROR_HTTP","ERROR_REQUEST_ABORTED","g","Function","eval","e","window","browser","require","MapiClient","BrowserClient","options","create","constructor","sendRequest","browserSend","abortRequest","browserAbort","createBrowserClient","parseToken","MapiRequest","constants","accessToken","Error","origin","createRequest","requestOptions","base64","tokenCache","token","parts","split","usage","rawPayload","parsedPayload","parsePaylod","result","user","u","has","authorization","a","expires","exp","created","iat","scopes","client","lastLogin","ll","impersonator","iu","JSON","parse","decode","parseError","obj","MapboxGeocoder","autocomplete","input","latInput","lngInput","MAPBOX_KEY","mapboxgl","geocoder","addTo","on","value","place_name","geometry","coordinates","document","querySelector","style","$","bind","$$","querySelectorAll","Node","name","fn","addEventListener","NodeList","__proto__","Array","forEach","elem","isPlainObject","xtend","DEFAULT_ERROR_PATH","NEWLINE_INDENT","v","assert","rootValidator","message","validate","errorMessage","processMessage","apiName","shape","validatorObj","validators","objectEntries","shapeValidator","validationResult","plainObject","validator","errorMessages","push","concat","map","renderedMessage","join","objectId","path","ofPhrase","strictShape","strictShapeValidator","shapeResult","invalidKeys","keys","reduce","memo","valueKey","undefined","arrayOf","createArrayValidator","tuple","isArray","slice","validatingTuple","getValidator","index","arrayValidator","plainArray","required","requiredValidator","formatErrorMessage","isArrayCulprit","apply","__required","oneOfType","oneOfTypeValidator","messages","filter","Boolean","every","orList","m","max","arr","equal","compareWith","equalValidator","stringify","oneOf","range","min","rangeValidator","number","any","boolean","string","func","len","prettifyResult","list","addArticle","nounPhrase","test","prettyResult","arrayCulprit","output","prepend","nanoid","MapboxEventManager","endpoint","access_token","version","sessionID","generateSessionID","userAgent","getUserAgent","send","countries","types","bbox","language","limit","locale","navigator","enableEventLogging","shouldEnableLogging","eventQueue","flushInterval","maxQueueSize","timer","setTimeout","flush","lastSentInput","lastSentIndex","select","selected","resultIndex","getSelectedIndex","payload","getEventPayload","resultPlaceName","resultId","id","queryString","start","keyevent","keyEvent","metaKey","indexOf","keyCode","lastAction","callback","getRequestOptions","request","err","handleError","method","host","headers","body","event","proximity","longitude","latitude","zoom","_map","getZoom","Date","sessionIdentifier","country","mapZoom","keyboardLocale","inputString","_inputEl","opts","xhttp","XMLHttpRequest","onreadystatechange","readyState","status","statusText","open","header","headerValue","setRequestHeader","_typeahead","results","data","selectedID","resultIDs","feature","selectedIdx","localGeocoder","clearTimeout","evt","forceFlush","remove","Typeahead","debounce","EventEmitter","exceptions","MapboxClient","mbxGeocoder","localization","subtag","_eventEmitter","fresh","lastSelected","flyTo","trackProximity","minLength","reverseGeocode","marker","collapsed","clearAndBlurOnEsc","clearOnBlur","getItemValue","item","render","placeName","splice","container","addToExistingContainer","contains","el","onAdd","appendChild","_controlContainer","addControl","HTMLElement","parent","setLanguage","localGeocoderOnly","geocoderService","eventManager","_onChange","_onKeyDown","_onPaste","_onBlur","_showButton","_hideButton","_onQueryResult","clear","_updateProximity","_collapse","_unCollapse","_clear","_clearOnBlur","createElement","className","searchIcon","createIcon","type","setPlaceholder","actions","classList","add","_clearEl","setAttribute","buttonIcon","_loadingEl","setRenderFunction","mapMarker","_handleMarker","_mapboxgl","console","error","icon","createElementNS","SVGNodeContainer","innerHTML","valueOf","toString","SVGNode","firstChild","SVGPath","onRemove","parentNode","removeChild","off","_removeMarker","clipboardData","getData","_geocode","ESC_KEY_CODE","TAB_KEY_CODE","blur","shadowRoot","activeElement","display","flyOptions","properties","short_code","fitBounds","defaultFlyOptions","center","focus","scrollLeft","setSelectionRange","emit","searchInput","query","self","config","Promise","resolve","coords","c","parseFloat","reverse","forwardGeocode","localGeocoderRes","then","response","res","features","statusCode","update","_renderNoResults","catch","_renderError","ev","preventDefault","ctx","relatedTarget","getCenter","wrap","setProximity","lng","lat","_renderMessage","msg","renderError","_getPlaceholderText","placeholder","firstLanguage","localizedValue","setInput","getProximity","getRenderFunction","browserLocale","userLanguage","browserLanguage","getLanguage","setZoom","getFlyTo","setFlyTo","getPlaceholder","getBbox","setBbox","getCountries","setCountries","getTypes","setTypes","getMinLength","setMinLength","getLimit","setLimit","getFilter","setFilter","setOrigin","getOrigin","defaultMarkerOptions","color","markerOptions","Marker","setLngLat","removeListener","MapiResponse","MapiError","parseHeaders","requestsUnderway","xhr","abort","createResponse","getAllResponseHeaders","normalizeBrowserProgressEvent","total","transferred","loaded","percent","sendRequestXhr","reject","onprogress","emitter","file","upload","onerror","onabort","mapiError","onload","createRequestXhr","url","errorType","urlUtils","requestId","defaultHeaders","headersWithDefaults","toLowerCase","_options","sent","aborted","params","encoding","sendFileAs","prependOrigin","appendQueryObject","routeParams","actualAccessToken","appendQueryParam","accessTokenOwnerId","ownerId","interpolateRouteParams","_nextPageRequest","eachPage","handleResponse","getNextPage","nextPageRequest","nextPage","getPage","clone","_extend","extendedOptions","parseLinkHeader","responseData","rawBody","links","link","hasNextPage","next","parseSingleHeader","raw","boundary","substring","trim","rawHeader","parsed","parseParam","param","match","parseLink","linkUrl","linkParams","rel","parsedLinkParams","linkHeader","splitRel","encodeArray","arrayValue","encodeURIComponent","encodeValue","String","punctuation","queryObject","delimiter","replace","route","_","paramId","preppedValue","pick","stringifyBooleans","createServiceFactory","Geocoding","featureTypes","assertShape","mode","routing","reverseMode","createClient","ServicePrototype","clientOrConfig","isPrototypeOf","service","objectMap","cb","val","stringifyBoolean","global","Blob","ArrayBuffer","pipe","date","getTime","isNaN","root","freeExports","freeModule","freeGlobal","InvalidCharacterError","TABLE","REGEX_SPACE_CHARACTERS","bitCounter","bitStorage","buffer","position","charAt","fromCharCode","encode","padding","b","d","charCodeAt","define","nodeType","prefix","Events","EE","context","once","addListener","TypeError","listener","_events","_eventsCount","clearEvent","eventNames","names","events","getOwnPropertySymbols","listeners","handlers","l","ee","listenerCount","a1","a2","a3","a4","a5","args","j","removeAllListeners","prefixed","R","Reflect","ReflectApply","receiver","ReflectOwnKeys","ownKeys","getOwnPropertyNames","ProcessEmitWarning","warning","warn","NumberIsNaN","Number","init","_maxListeners","defaultMaxListeners","checkListener","defineProperty","enumerable","get","set","arg","RangeError","getPrototypeOf","setMaxListeners","n","_getMaxListeners","that","getMaxListeners","doError","er","handler","arrayClone","_addListener","existing","newListener","unshift","warned","w","count","prependListener","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","prependOnceListener","originalListener","shift","spliceOne","_listeners","unwrap","evlistener","unwrapListeners","rawListeners","copy","pop","ret","eventListener","errorListener","fuzzy","simpleFilter","pattern","array","str","patternIdx","totalScore","currScore","pre","post","compareString","caseSensitive","ch","idx","Infinity","rendered","score","prev","element","extract","original","sort","compare","x","FUNC_ERROR_TEXT","NAN","symbolTag","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","freeSelf","objectProto","objectToString","nativeMax","Math","nativeMin","now","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","toNumber","isObject","invokeFunc","time","thisArg","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","shouldInvoke","trailingEdge","cancel","debounced","isInvoking","isObjectLike","isSymbol","other","isBinary","process","env","NODE_ENV","product","crypto","msCrypto","toUpperCase","size","bytes","getRandomValues","Uint8Array","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","runClearTimeout","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","timeout","run","nextTick","Item","title","argv","versions","noop","binding","cwd","chdir","dir","umask","make","empty","tag","api","extlang","script","region","expose","part","Suggestions","List","component","items","active","wrapper","selectingListItem","insertBefore","nextSibling","show","hide","isEmpty","isVisible","draw","drawItem","li","handleMouseUp","move","previous","drawError","hideOnBlur","handleKeyUp","handleKeyDown","handleFocus","handleBlur","handlePaste","handleInputChange","normalize","getCandidates","revisedData","candidate","createEvent","initEvent","dispatchEvent","fireEvent","renderedString","sourceFormatting","boldString","indexString","indexOfQuery","lastIndexOf","endIndexOfQuery","webpackPolyfill","deprecate","paths","children"],"mappings":"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","file":"App.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 42);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 99a169bb29a32687019c","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/xtend/immutable.js","'use strict';\n\nmodule.exports = {\n  API_ORIGIN: 'https://api.mapbox.com',\n  EVENT_PROGRESS_DOWNLOAD: 'downloadProgress',\n  EVENT_PROGRESS_UPLOAD: 'uploadProgress',\n  EVENT_ERROR: 'error',\n  EVENT_RESPONSE: 'response',\n  ERROR_HTTP: 'HttpError',\n  ERROR_REQUEST_ABORTED: 'RequestAbortedError'\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/lib/constants.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/global.js","'use strict';\n\nvar browser = require('./browser-layer');\nvar MapiClient = require('../classes/mapi-client');\n\nfunction BrowserClient(options) {\n  MapiClient.call(this, options);\n}\nBrowserClient.prototype = Object.create(MapiClient.prototype);\nBrowserClient.prototype.constructor = BrowserClient;\n\nBrowserClient.prototype.sendRequest = browser.browserSend;\nBrowserClient.prototype.abortRequest = browser.browserAbort;\n\n/**\n * Create a client for the browser.\n *\n * @param {Object} options\n * @param {string} options.accessToken\n * @param {string} [options.origin]\n * @returns {MapiClient}\n */\nfunction createBrowserClient(options) {\n  return new BrowserClient(options);\n}\n\nmodule.exports = createBrowserClient;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/lib/browser/browser-client.js","'use strict';\n\nvar parseToken = require('@mapbox/parse-mapbox-token');\nvar MapiRequest = require('./mapi-request');\nvar constants = require('../constants');\n\n/**\n * A low-level Mapbox API client. Use it to create service clients\n * that share the same configuration.\n *\n * Services and `MapiRequest`s use the underlying `MapiClient` to\n * determine how to create, send, and abort requests in a way\n * that is appropriate to the configuration and environment\n * (Node or the browser).\n *\n * @class MapiClient\n * @property {string} accessToken - The Mapbox access token assigned\n *   to this client.\n * @property {string} [origin] - The origin\n *   to use for API requests. Defaults to https://api.mapbox.com.\n */\n\nfunction MapiClient(options) {\n  if (!options || !options.accessToken) {\n    throw new Error('Cannot create a client without an access token');\n  }\n  // Try parsing the access token to determine right away if it's valid.\n  parseToken(options.accessToken);\n\n  this.accessToken = options.accessToken;\n  this.origin = options.origin || constants.API_ORIGIN;\n}\n\nMapiClient.prototype.createRequest = function createRequest(requestOptions) {\n  return new MapiRequest(this, requestOptions);\n};\n\nmodule.exports = MapiClient;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/lib/classes/mapi-client.js","'use strict';\n\nvar base64 = require('base-64');\n\nvar tokenCache = {};\n\nfunction parseToken(token) {\n  if (tokenCache[token]) {\n    return tokenCache[token];\n  }\n\n  var parts = token.split('.');\n  var usage = parts[0];\n  var rawPayload = parts[1];\n  if (!rawPayload) {\n    throw new Error('Invalid token');\n  }\n\n  var parsedPayload = parsePaylod(rawPayload);\n\n  var result = {\n    usage: usage,\n    user: parsedPayload.u\n  };\n  if (has(parsedPayload, 'a')) result.authorization = parsedPayload.a;\n  if (has(parsedPayload, 'exp')) result.expires = parsedPayload.exp * 1000;\n  if (has(parsedPayload, 'iat')) result.created = parsedPayload.iat * 1000;\n  if (has(parsedPayload, 'scopes')) result.scopes = parsedPayload.scopes;\n  if (has(parsedPayload, 'client')) result.client = parsedPayload.client;\n  if (has(parsedPayload, 'll')) result.lastLogin = parsedPayload.ll;\n  if (has(parsedPayload, 'iu')) result.impersonator = parsedPayload.iu;\n\n  tokenCache[token] = result;\n  return result;\n}\n\nfunction parsePaylod(rawPayload) {\n  try {\n    return JSON.parse(base64.decode(rawPayload));\n  } catch (parseError) {\n    throw new Error('Invalid token');\n  }\n}\n\nfunction has(obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n}\n\nmodule.exports = parseToken;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/parse-mapbox-token/index.js","/* globals __webpack_amd_options__ */\r\nmodule.exports = __webpack_amd_options__;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/amd-options.js\n// module id = 6\n// module chunks = 0","const MapboxGeocoder = require('@mapbox/mapbox-gl-geocoder')\n\nfunction autocomplete(input, latInput, lngInput) {\n\tif (!input) return\n\n\tconst MAPBOX_KEY =\n\t\t'pk.eyJ1IjoiamVuYXJvOTQiLCJhIjoiY2pzbnBpajh3MGV5MTQ0cnJ3dmJlczFqbiJ9.Aktxa1EqTzpy7yEaBDM1xQ'\n\tmapboxgl.accessToken = MAPBOX_KEY\n\n\tlet geocoder = new MapboxGeocoder({\n\t\taccessToken: mapboxgl.accessToken,\n\t\tmapboxgl: mapboxgl,\n\t})\n\n\tgeocoder.addTo('#search-address')\n\tgeocoder.on('result', e => {\n\t\tinput.value = e.result.place_name\n\t\tlngInput.value = e.result.geometry.coordinates[0]\n\t\tlatInput.value = e.result.geometry.coordinates[1]\n\t})\n\n\tdocument.querySelector('#search-address>div').style =\n\t\t'width: 100%; max-width: unset; border: 1px solid #e6e6e6; box-shadow: unset; border-radius: 0; z-index: 1000; font-family: sans-serif; font-size: 100%; line-height: 1.15; margin: 0 0 10px 0;'\n}\n\nexport default autocomplete\n\n\n// WEBPACK FOOTER //\n// ./public/javascripts/modules/autocomplete.js","// based on https://gist.github.com/paulirish/12fb951a8b893a454b32\n\nconst $ = document.querySelector.bind(document);\nconst $$ = document.querySelectorAll.bind(document);\n\nNode.prototype.on = window.on = function (name, fn) {\n  this.addEventListener(name, fn);\n};\n\nNodeList.prototype.__proto__ = Array.prototype; // eslint-disable-line\n\nNodeList.prototype.on = NodeList.prototype.addEventListener = function (name, fn) {\n  this.forEach((elem) => {\n    elem.on(name, fn);\n  });\n};\n\nexport { $, $$ };\n\n\n\n// WEBPACK FOOTER //\n// ./public/javascripts/modules/bling.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/sass/style.scss\n// module id = 9\n// module chunks = 0","'use strict';\n/**\n * Validators are functions which assert certain type.\n * They can return a string which can then be used\n * to display a helpful error message.\n * They can also return a function for a custom error message.\n */\nvar isPlainObject = require('is-plain-obj');\nvar xtend = require('xtend');\n\nvar DEFAULT_ERROR_PATH = 'value';\nvar NEWLINE_INDENT = '\\n  ';\n\nvar v = {};\n\n/**\n * Runners\n *\n * Take root validators and run assertion\n */\nv.assert = function(rootValidator, options) {\n  options = options || {};\n  return function(value) {\n    var message = validate(rootValidator, value);\n    // all good\n    if (!message) {\n      return;\n    }\n\n    var errorMessage = processMessage(message, options);\n\n    if (options.apiName) {\n      errorMessage = options.apiName + ': ' + errorMessage;\n    }\n\n    throw new Error(errorMessage);\n  };\n};\n\n/**\n * Higher Order Validators\n *\n * validators which take other validators as input\n * and output a new validator\n */\nv.shape = function shape(validatorObj) {\n  var validators = objectEntries(validatorObj);\n  return function shapeValidator(value) {\n    var validationResult = validate(v.plainObject, value);\n\n    if (validationResult) {\n      return validationResult;\n    }\n\n    var key, validator;\n    var errorMessages = [];\n\n    for (var i = 0; i < validators.length; i++) {\n      key = validators[i].key;\n      validator = validators[i].value;\n      validationResult = validate(validator, value[key]);\n\n      if (validationResult) {\n        // return [key].concat(validationResult);\n        errorMessages.push([key].concat(validationResult));\n      }\n    }\n\n    if (errorMessages.length < 2) {\n      return errorMessages[0];\n    }\n\n    // enumerate all the error messages\n    return function(options) {\n      errorMessages = errorMessages.map(function(message) {\n        var key = message[0];\n        var renderedMessage = processMessage(message, options)\n          .split('\\n')\n          .join(NEWLINE_INDENT); // indents any inner nesting\n        return '- ' + key + ': ' + renderedMessage;\n      });\n\n      var objectId = options.path.join('.');\n      var ofPhrase = objectId === DEFAULT_ERROR_PATH ? '' : ' of ' + objectId;\n\n      return (\n        'The following properties' +\n        ofPhrase +\n        ' have invalid values:' +\n        NEWLINE_INDENT +\n        errorMessages.join(NEWLINE_INDENT)\n      );\n    };\n  };\n};\n\nv.strictShape = function strictShape(validatorObj) {\n  var shapeValidator = v.shape(validatorObj);\n  return function strictShapeValidator(value) {\n    var shapeResult = shapeValidator(value);\n    if (shapeResult) {\n      return shapeResult;\n    }\n\n    var invalidKeys = Object.keys(value).reduce(function(memo, valueKey) {\n      if (validatorObj[valueKey] === undefined) {\n        memo.push(valueKey);\n      }\n      return memo;\n    }, []);\n\n    if (invalidKeys.length !== 0) {\n      return function() {\n        return 'The following keys are invalid: ' + invalidKeys.join(', ');\n      };\n    }\n  };\n};\n\nv.arrayOf = function arrayOf(validator) {\n  return createArrayValidator(validator);\n};\n\nv.tuple = function tuple() {\n  var validators = Array.isArray(arguments[0])\n    ? arguments[0]\n    : Array.prototype.slice.call(arguments);\n  return createArrayValidator(validators);\n};\n\n// Currently array validation fails when the first invalid item is found.\nfunction createArrayValidator(validators) {\n  var validatingTuple = Array.isArray(validators);\n  var getValidator = function(index) {\n    if (validatingTuple) {\n      return validators[index];\n    }\n    return validators;\n  };\n\n  return function arrayValidator(value) {\n    var validationResult = validate(v.plainArray, value);\n    if (validationResult) {\n      return validationResult;\n    }\n\n    if (validatingTuple && value.length !== validators.length) {\n      return 'an array with ' + validators.length + ' items';\n    }\n\n    for (var i = 0; i < value.length; i++) {\n      validationResult = validate(getValidator(i), value[i]);\n      if (validationResult) {\n        return [i].concat(validationResult);\n      }\n    }\n  };\n}\n\nv.required = function required(validator) {\n  function requiredValidator(value) {\n    if (value == null) {\n      return function(options) {\n        return formatErrorMessage(\n          options,\n          isArrayCulprit(options.path)\n            ? 'cannot be undefined/null.'\n            : 'is required.'\n        );\n      };\n    }\n    return validator.apply(this, arguments);\n  }\n  requiredValidator.__required = true;\n\n  return requiredValidator;\n};\n\nv.oneOfType = function oneOfType() {\n  var validators = Array.isArray(arguments[0])\n    ? arguments[0]\n    : Array.prototype.slice.call(arguments);\n  return function oneOfTypeValidator(value) {\n    var messages = validators\n      .map(function(validator) {\n        return validate(validator, value);\n      })\n      .filter(Boolean);\n\n    // If we don't have as many messages as no. of validators,\n    // then at least one validator was ok with the value.\n    if (messages.length !== validators.length) {\n      return;\n    }\n\n    // check primitive type\n    if (\n      messages.every(function(message) {\n        return message.length === 1 && typeof message[0] === 'string';\n      })\n    ) {\n      return orList(\n        messages.map(function(m) {\n          return m[0];\n        })\n      );\n    }\n\n    // Complex oneOfTypes like\n    // `v.oneOftypes(v.shape({name: v.string})`, `v.shape({name: v.number}))`\n    // are complex \\_()_/. For the current scope only returning the longest message.\n    return messages.reduce(function(max, arr) {\n      return arr.length > max.length ? arr : max;\n    });\n  };\n};\n\n/**\n * Meta Validators\n * which take options as argument (not validators)\n * and return a new primitive validator\n */\nv.equal = function equal(compareWith) {\n  return function equalValidator(value) {\n    if (value !== compareWith) {\n      return JSON.stringify(compareWith);\n    }\n  };\n};\n\nv.oneOf = function oneOf() {\n  var options = Array.isArray(arguments[0])\n    ? arguments[0]\n    : Array.prototype.slice.call(arguments);\n  var validators = options.map(function(value) {\n    return v.equal(value);\n  });\n\n  return v.oneOfType.apply(this, validators);\n};\n\nv.range = function range(compareWith) {\n  var min = compareWith[0];\n  var max = compareWith[1];\n  return function rangeValidator(value) {\n    var validationResult = validate(v.number, value);\n\n    if (validationResult || value < min || value > max) {\n      return 'number between ' + min + ' & ' + max + ' (inclusive)';\n    }\n  };\n};\n\n/**\n * Primitive validators\n *\n * simple validators which return a string or undefined\n */\nv.any = function any() {\n  return;\n};\n\nv.boolean = function boolean(value) {\n  if (typeof value !== 'boolean') {\n    return 'boolean';\n  }\n};\n\nv.number = function number(value) {\n  if (typeof value !== 'number') {\n    return 'number';\n  }\n};\n\nv.plainArray = function plainArray(value) {\n  if (!Array.isArray(value)) {\n    return 'array';\n  }\n};\n\nv.plainObject = function plainObject(value) {\n  if (!isPlainObject(value)) {\n    return 'object';\n  }\n};\n\nv.string = function string(value) {\n  if (typeof value !== 'string') {\n    return 'string';\n  }\n};\n\nv.func = function func(value) {\n  if (typeof value !== 'function') {\n    return 'function';\n  }\n};\n\nfunction validate(validator, value) {\n  // assertions are optional by default unless wrapped in v.require\n  if (value == null && !validator.hasOwnProperty('__required')) {\n    return;\n  }\n\n  var result = validator(value);\n\n  if (result) {\n    return Array.isArray(result) ? result : [result];\n  }\n}\n\nfunction processMessage(message, options) {\n  // message array follows the convention\n  // [...path, result]\n  // path is an array of object keys / array indices\n  // result is output of the validator\n  var len = message.length;\n\n  var result = message[len - 1];\n  var path = message.slice(0, len - 1);\n\n  if (path.length === 0) {\n    path = [DEFAULT_ERROR_PATH];\n  }\n  options = xtend(options, { path: path });\n\n  return typeof result === 'function'\n    ? result(options) // allows customization of result\n    : formatErrorMessage(options, prettifyResult(result));\n}\n\nfunction orList(list) {\n  if (list.length < 2) {\n    return list[0];\n  }\n  if (list.length === 2) {\n    return list.join(' or ');\n  }\n  return list.slice(0, -1).join(', ') + ', or ' + list.slice(-1);\n}\n\nfunction prettifyResult(result) {\n  return 'must be ' + addArticle(result) + '.';\n}\n\nfunction addArticle(nounPhrase) {\n  if (/^an? /.test(nounPhrase)) {\n    return nounPhrase;\n  }\n  if (/^[aeiou]/i.test(nounPhrase)) {\n    return 'an ' + nounPhrase;\n  }\n  if (/^[a-z]/i.test(nounPhrase)) {\n    return 'a ' + nounPhrase;\n  }\n  return nounPhrase;\n}\n\nfunction formatErrorMessage(options, prettyResult) {\n  var arrayCulprit = isArrayCulprit(options.path);\n  var output = options.path.join('.') + ' ' + prettyResult;\n  var prepend = arrayCulprit ? 'Item at position ' : '';\n\n  return prepend + output;\n}\n\nfunction isArrayCulprit(path) {\n  return typeof path[path.length - 1] == 'number' || typeof path[0] == 'number';\n}\n\nfunction objectEntries(obj) {\n  return Object.keys(obj || {}).map(function(key) {\n    return { key: key, value: obj[key] };\n  });\n}\n\nv.validate = validate;\nv.processMessage = processMessage;\n\nmodule.exports = v;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/fusspot/lib/index.js","'use strict';\nvar nanoid = require('nanoid')\n\n/**\n * Construct a new mapbox event client to send interaction events to the mapbox event service\n * @param {Object} options options with which to create the service\n * @param {String} options.accessToken the mapbox access token to make requests\n * @param {Number} [options.flushInterval=1000] the number of ms after which to flush the event queue\n * @param {Number} [options.maxQueueSize=100] the number of events to queue before flushing\n * @private\n */\nfunction MapboxEventManager(options) {\n  this.origin = options.origin || 'https://api.mapbox.com';\n  this.endpoint = 'events/v2';\n  this.access_token = options.accessToken;\n  this.version = '0.2.0'\n  this.sessionID = this.generateSessionID();\n  this.userAgent = this.getUserAgent();\n\n  this.options = options;\n  this.send = this.send.bind(this);\n\n\n  // parse global options to be sent with each request\n  this.countries = (options.countries) ? options.countries.split(\",\") : null;\n  this.types = (options.types) ? options.types.split(\",\") : null;\n  this.bbox = (options.bbox) ? options.bbox : null;\n  this.language = (options.language) ? options.language.split(\",\") : null;\n  this.limit = (options.limit) ? +options.limit : null;\n  this.locale = navigator.language || null;\n  this.enableEventLogging = this.shouldEnableLogging(options);\n  this.eventQueue = new Array();\n  this.flushInterval = options.flushInterval || 1000;\n  this.maxQueueSize = options.maxQueueSize || 100;\n  this.timer = (this.flushInterval) ? setTimeout(this.flush.bind(this), this.flushInterval) : null;\n  // keep some state to deduplicate requests if necessary\n  this.lastSentInput = \"\";\n  this.lastSentIndex = 0;\n}\n\nMapboxEventManager.prototype = {\n  /**\n     * Send a search.select event to the mapbox events service\n     * This event marks the array index of the item selected by the user out of the array of possible options\n     * @private\n     * @param {Object} selected the geojson feature selected by the user\n     * @param {Object} geocoder a mapbox-gl-geocoder instance\n     * @returns {Promise}\n     */\n  select: function(selected, geocoder){\n    var resultIndex = this.getSelectedIndex(selected, geocoder);\n    var payload = this.getEventPayload('search.select', geocoder);\n    payload.resultIndex = resultIndex;\n    payload.resultPlaceName  = selected.place_name;\n    payload.resultId = selected.id;\n    if ((resultIndex === this.lastSentIndex && payload.queryString === this.lastSentInput) || resultIndex == -1) {\n      // don't log duplicate events if the user re-selected the same feature on the same search\n      return;\n    }\n    this.lastSentIndex = resultIndex;\n    this.lastSentInput = payload.queryString;\n    if (!payload.queryString) return; // will be rejected\n    return this.push(payload)\n  },\n\n  /**\n     * Send a search-start event to the mapbox events service\n     * This turnstile event marks when a user starts a new search\n     * @private\n     * @param {Object} geocoder a mapbox-gl-geocoder instance\n     * @returns {Promise}\n     */\n  start: function(geocoder){\n    var payload = this.getEventPayload('search.start', geocoder);\n    if (!payload.queryString) return; // will be rejected\n    return this.push(payload);\n  },\n\n  /**\n   * Send a search-keyevent event to the mapbox events service\n   * This event records each keypress in sequence\n   * @private\n   * @param {Object} keyEvent the keydown event to log\n   * @param {Object} geocoder a mapbox-gl-geocoder instance\n   * \n   */\n  keyevent: function(keyEvent, geocoder){\n\n    //pass invalid event\n    if (!keyEvent.key) return;\n    // don't send events for keys that don't change the input\n    // TAB, ESC, LEFT, RIGHT, ENTER, UP, DOWN\n    if (keyEvent.metaKey || [9, 27, 37, 39, 13, 38, 40].indexOf(keyEvent.keyCode) !== -1) return;\n    var payload = this.getEventPayload('search.keystroke', geocoder);\n    payload.lastAction = keyEvent.key;\n    if (!payload.queryString) return; // will be rejected\n    return this.push(payload);\n  },\n\n  /**\n   * Send an event to the events service\n   *\n   * The event is skipped if the instance is not enabled to send logging events\n   *\n   * @private\n   * @param {Object} payload the http POST body of the event\n   * @param {Function} [callback] a callback function to invoke when the send has completed\n   * @returns {Promise}\n   */\n  send: function (payload, callback) {\n    if (!this.enableEventLogging) {\n      if (callback) return callback();\n      return;\n    }\n    var options = this.getRequestOptions(payload);\n    this.request(options, function(err){\n      if (err) return this.handleError(err, callback);\n      if (callback) {\n        return callback();\n      }\n    }.bind(this))\n  },\n  /**\n   * Get http request options\n   * @private\n   * @param {*} payload\n   */\n  getRequestOptions: function(payload){\n    if (!Array.isArray(payload)) payload = [payload];\n    var options = {\n      // events must be sent with POST\n      method: \"POST\",\n      host: this.origin,\n      path: this.endpoint +  \"?access_token=\" + this.access_token,\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body:JSON.stringify(payload) //events are arrays\n    }\n    return options\n  },\n\n  /**\n   * Get the event payload to send to the events service\n   * Most payload properties are shared across all events\n   * @private\n   * @param {String} event the name of the event to send to the events service. Valid options are 'search.start', 'search.select', 'search.feedback'.\n   * @param {Object} geocoder a mapbox-gl-geocoder instance\n   * @returns {Object} an event payload\n   */\n  getEventPayload: function (event, geocoder) {\n    var proximity;\n    if (!geocoder.options.proximity) proximity = null;\n    else proximity = [geocoder.options.proximity.longitude, geocoder.options.proximity.latitude];\n\n    var zoom = (geocoder._map) ? geocoder._map.getZoom() : undefined;\n    var payload = {\n      event: event,\n      created: +new Date(),\n      sessionIdentifier: this.sessionID,\n      country: this.countries,\n      userAgent: this.userAgent,\n      language: this.language,\n      bbox: this.bbox,\n      types: this.types,\n      endpoint: 'mapbox.places',\n      // fuzzyMatch: search.fuzzy, //todo  --> add to plugin\n      proximity: proximity,\n      limit: geocoder.options.limit,\n      // routing: search.routing, //todo --> add to plugin\n      mapZoom: zoom,\n      keyboardLocale: this.locale\n    }\n\n    // get the text in the search bar\n    if (event === \"search.select\"){\n      payload.queryString = geocoder.inputString;\n    }else if (event != \"search.select\" && geocoder._inputEl){\n      payload.queryString = geocoder._inputEl.value;\n    }else{\n      payload.queryString = geocoder.inputString;\n    }\n    return payload;\n  },\n\n  /**\n   * Wraps the request function for easier testing\n   * Make an http request and invoke a callback\n   * @private\n   * @param {Object} opts options describing the http request to be made\n   * @param {Function} callback the callback to invoke when the http request is completed\n   */\n  request: function (opts, callback) {\n    var xhttp = new XMLHttpRequest();\n    xhttp.onreadystatechange = function() {\n      if (this.readyState == 4 ) {\n        if (this.status == 204){\n          //success\n          return callback(null);\n        }else {\n          return callback(this.statusText);\n        }\n      }\n    };\n\n    xhttp.open(opts.method, opts.host + '/' + opts.path, true);\n    for (var header in opts.headers){\n      var headerValue = opts.headers[header];\n      xhttp.setRequestHeader(header, headerValue)\n    }\n    xhttp.send(opts.body);\n  },\n\n  /**\n   * Handle an error that occurred while making a request\n   * @param {Object} err an error instance to log\n   * @private\n   */\n  handleError: function (err, callback) {\n    if (callback) return callback(err);\n  },\n\n  /**\n   * Generate a session ID to be returned with all of the searches made by this geocoder instance\n   * ID is random and cannot be tracked across sessions\n   * @private\n   */\n  generateSessionID: function () {\n    return nanoid();\n  },\n\n  /**\n   * Get a user agent string to send with the request to the events service\n   * @private\n   */\n  getUserAgent: function () {\n    return 'mapbox-gl-geocoder.' + this.version + \".\" + navigator.userAgent;\n  },\n\n  /**\n     * Get the 0-based numeric index of the item that the user selected out of the list of options\n     * @private\n     * @param {Object} selected the geojson feature selected by the user\n     * @param {Object} geocoder a Mapbox-GL-Geocoder instance\n     * @returns {Number} the index of the selected result\n     */\n  getSelectedIndex: function(selected, geocoder){\n    if (!geocoder._typeahead) return;\n    var results = geocoder._typeahead.data;\n    var selectedID = selected.id;\n    var resultIDs = results.map(function (feature) {\n      return feature.id;\n    });\n    var selectedIdx = resultIDs.indexOf(selectedID);\n    return selectedIdx;\n  },\n\n  /**\n     * Check whether events should be logged\n     * Clients using a localGeocoder or an origin other than mapbox should not have events logged\n     * @private\n     */\n  shouldEnableLogging: function(options){\n    if (options.enableEventLogging === false) return false;\n    if (options.origin && options.origin.indexOf('api.mapbox.com') == -1) return false;\n    // hard to make sense of events when a local instance is suplementing results from origin\n    if (options.localGeocoder) return false;\n    // hard to make sense of events when a custom filter is in use\n    if (options.filter) return false;\n    return true;\n  },\n\n  /**\n   * Flush out the event queue by sending events to the events service\n   * @private\n   */\n  flush: function(){\n    if (this.eventQueue.length > 0){\n      this.send(this.eventQueue);\n      this.eventQueue = new Array();\n    }\n    // //reset the timer\n    if (this.timer)  clearTimeout(this.timer);\n    if (this.flushInterval) this.timer = setTimeout(this.flush.bind(this), this.flushInterval)\n  },\n\n  /**\n   * Push event into the pending queue\n   * @param {Object} evt the event to send to the events service\n   * @param {Boolean} forceFlush indicates that the event queue should be flushed after adding this event regardless of size of the queue\n   * @private\n   */\n  push: function(evt, forceFlush){\n    this.eventQueue.push(evt);\n    if (this.eventQueue.length >= this.maxQueueSize || forceFlush){\n      this.flush();\n    }\n  },\n\n  /**\n   * Flush any remaining events from the queue before it is removed\n   * @private\n   */\n  remove: function(){\n    this.flush();\n  }\n}\n\n\n\nmodule.exports = MapboxEventManager;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-gl-geocoder/lib/events.js","module.exports = {\n  'fr': {\n    'name': 'France',\n    'bbox': [[-4.59235, 41.380007], [9.560016, 51.148506]]\n  },\n  'us': {\n    'name': 'United States',\n    'bbox': [[-171.791111, 18.91619], [-66.96466, 71.357764]]\n  },\n  'ru': {\n    'name': 'Russia',\n    'bbox': [[19.66064, 41.151416], [190.10042, 81.2504]]\n  },\n  'ca': {\n    'name': 'Canada',\n    'bbox': [[-140.99778, 41.675105], [-52.648099, 83.23324]]\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-gl-geocoder/lib/exceptions.js","'use strict';\n\nvar Typeahead = require('suggestions');\nvar debounce = require('lodash.debounce');\nvar extend = require('xtend');\nvar EventEmitter = require('events').EventEmitter;\nvar exceptions = require('./exceptions');\nvar MapboxClient = require('@mapbox/mapbox-sdk');\nvar mbxGeocoder = require('@mapbox/mapbox-sdk/services/geocoding');\nvar MapboxEventManager = require('./events');\nvar localization = require('./localization');\nvar subtag = require('subtag');\n\n/**\n * A geocoder component using the [Mapbox Geocoding API](https://docs.mapbox.com/api/search/#geocoding)\n * @class MapboxGeocoder\n * @param {Object} options\n * @param {String} options.accessToken Required.\n * @param {String} [options.origin=https://api.mapbox.com] Use to set a custom API origin.\n * @param {Object} [options.mapboxgl] A [mapbox-gl](https://github.com/mapbox/mapbox-gl-js) instance to use when creating [Markers](https://docs.mapbox.com/mapbox-gl-js/api/#marker). Required if `options.marker` is `true`.\n * @param {Number} [options.zoom=16] On geocoded result what zoom level should the map animate to when a `bbox` isn't found in the response. If a `bbox` is found the map will fit to the `bbox`.\n * @param {Boolean|Object} [options.flyTo=true] If `false`, animating the map to a selected result is disabled. If `true`, animating the map will use the default animation parameters. If an object, it will be passed as `options` to the map [`flyTo`](https://docs.mapbox.com/mapbox-gl-js/api/#map#flyto) or [`fitBounds`](https://docs.mapbox.com/mapbox-gl-js/api/#map#fitbounds) method providing control over the animation of the transition.\n * @param {String} [options.placeholder=Search] Override the default placeholder attribute value.\n * @param {Object} [options.proximity] a proximity argument: this is\n * a geographical point given as an object with `latitude` and `longitude`\n * properties. Search results closer to this point will be given\n * higher priority.\n * @param {Boolean} [options.trackProximity=true] If `true`, the geocoder proximity will automatically update based on the map view.\n * @param {Boolean} [options.collapsed=false] If `true`, the geocoder control will collapse until hovered or in focus.\n * @param {Boolean} [options.clearAndBlurOnEsc=false] If `true`, the geocoder control will clear it's contents and blur when user presses the escape key.\n * @param {Boolean} [options.clearOnBlur=false] If `true`, the geocoder control will clear its value when the input blurs.\n * @param {Array} [options.bbox] a bounding box argument: this is\n * a bounding box given as an array in the format `[minX, minY, maxX, maxY]`.\n * Search results will be limited to the bounding box.\n * @param {string} [options.countries] a comma separated list of country codes to\n * limit results to specified country or countries.\n * @param {string} [options.types] a comma seperated list of types that filter\n * results to match those specified. See https://docs.mapbox.com/api/search/#data-types\n * for available types.\n * If reverseGeocode is enabled, you should specify one type. If you configure more than one type, the first type will be used.\n * @param {Number} [options.minLength=2] Minimum number of characters to enter before results are shown.\n * @param {Number} [options.limit=5] Maximum number of results to show.\n * @param {string} [options.language] Specify the language to use for response text and query result weighting. Options are IETF language tags comprised of a mandatory ISO 639-1 language code and optionally one or more IETF subtags for country or script. More than one value can also be specified, separated by commas. Defaults to the browser's language settings.\n * @param {Function} [options.filter] A function which accepts a Feature in the [Carmen GeoJSON](https://github.com/mapbox/carmen/blob/master/carmen-geojson.md) format to filter out results from the Geocoding API response before they are included in the suggestions list. Return `true` to keep the item, `false` otherwise.\n * @param {Function} [options.localGeocoder] A function accepting the query string which performs local geocoding to supplement results from the Mapbox Geocoding API. Expected to return an Array of GeoJSON Features in the [Carmen GeoJSON](https://github.com/mapbox/carmen/blob/master/carmen-geojson.md) format.\n * @param {distance|score} [options.reverseMode=distance] - Set the factors that are used to sort nearby results.\n * @param {boolean} [options.reverseGeocode=false] If `true`, enable reverse geocoding mode. In reverse geocoding, search input is expected to be coordinates in the form `lat, lon`, with suggestions being the reverse geocodes.\n * @param {Boolean} [options.enableEventLogging=true] Allow Mapbox to collect anonymous usage statistics from the plugin.\n * @param {Boolean|Object} [options.marker=true]  If `true`, a [Marker](https://docs.mapbox.com/mapbox-gl-js/api/#marker) will be added to the map at the location of the user-selected result using a default set of Marker options.  If the value is an object, the marker will be constructed using these options. If `false`, no marker will be added to the map. Requires that `options.mapboxgl` also be set.\n * @param {Function} [options.render] A function that specifies how the results should be rendered in the dropdown menu. This function should accepts a single [Carmen GeoJSON](https://github.com/mapbox/carmen/blob/master/carmen-geojson.md) object as input and return a string. Any HTML in the returned string will be rendered.\n * @param {Function} [options.getItemValue] A function that specifies how the selected result should be rendered in the search bar. This function should accept a single [Carmen GeoJSON](https://github.com/mapbox/carmen/blob/master/carmen-geojson.md) object as input and return a string. HTML tags in the output string will not be rendered. Defaults to `(item) => item.place_name`.\n * @param {String} [options.mode=mapbox.places] A string specifying the geocoding [endpoint](https://docs.mapbox.com/api/search/#endpoints) to query. Options are `mapbox.places` and `mapbox.places-permanent`. The `mapbox.places-permanent` mode requires an enterprise license for permanent geocodes.\n * @param {Boolean} [options.localGeocoderOnly=false] If `true`, indicates that the `localGeocoder` results should be the only ones returned to the user. If `false`, indicates that the `localGeocoder` results should be combined with those from the Mapbox API with the `localGeocoder` results ranked higher.\n * @example\n * var geocoder = new MapboxGeocoder({ accessToken: mapboxgl.accessToken });\n * map.addControl(geocoder);\n * @return {MapboxGeocoder} `this`\n *\n */\n\nfunction MapboxGeocoder(options) {\n  this._eventEmitter = new EventEmitter();\n  this.options = extend({}, this.options, options);\n  this.inputString = '';\n  this.fresh = true;\n  this.lastSelected = null;\n}\n\nMapboxGeocoder.prototype = {\n  options: {\n    zoom: 16,\n    flyTo: true,\n    trackProximity: true,\n    minLength: 2,\n    reverseGeocode: false,\n    limit: 5,\n    origin: 'https://api.mapbox.com',\n    enableEventLogging: true,\n    marker: true,\n    mapboxgl: null,\n    collapsed: false,\n    clearAndBlurOnEsc: false,\n    clearOnBlur: false,\n    getItemValue: function(item) {\n      return item.place_name\n    },\n    render: function(item) {\n      var placeName = item.place_name.split(',');\n      return '<div class=\"mapboxgl-ctrl-geocoder--suggestion\"><div class=\"mapboxgl-ctrl-geocoder--suggestion-title\">' + placeName[0]+ '</div><div class=\"mapboxgl-ctrl-geocoder--suggestion-address\">' + placeName.splice(1, placeName.length).join(',') + '</div></div>';\n    }\n  },\n\n  /**\n   * Add the geocoder to a container. The container can be either a `mapboxgl.Map`, an `HTMLElement` or a CSS selector string.\n   *\n   * If the container is a [`mapboxgl.Map`](https://docs.mapbox.com/mapbox-gl-js/api/map/), this function will behave identically to [`Map.addControl(geocoder)`](https://docs.mapbox.com/mapbox-gl-js/api/map/#map#addcontrol).\n   * If the container is an instance of [`HTMLElement`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement), then the geocoder will be appended as a child of that [`HTMLElement`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement).\n   * If the container is a [CSS selector string](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors), the geocoder will be appended to the element returned from the query.\n   *\n   * This function will throw an error if the container is none of the above.\n   * It will also throw an error if the referenced HTML element cannot be found in the `document.body`.\n   *\n   * For example, if the HTML body contains the element `<div id='geocoder-container'></div>`, the following script will append the geocoder to `#geocoder-container`:\n   *\n   * ```javascript\n   * var geocoder = new MapboxGeocoder({ accessToken: mapboxgl.accessToken });\n   * geocoder.addTo('#geocoder-container');\n   * ```\n   * @param {String|HTMLElement|mapboxgl.Map} container A reference to the container to which to add the geocoder\n   */\n  addTo: function(container){\n\n    function addToExistingContainer (geocoder, container) {\n      if (!document.body.contains(container)) {\n        throw new Error(\"Element provided to #addTo() exists, but is not in the DOM\")\n      }\n      const el = geocoder.onAdd(); //returns the input elements, which are then added to the requested html container\n      container.appendChild(el);\n    }\n\n    // if the container is a map, add the control like normal\n    if (container._controlContainer){\n      //  it's a mapbox-gl map, add like normal\n      container.addControl(this);\n    }\n    // if the container is an HTMLElement, then set the parent to be that element\n    else if (container instanceof HTMLElement) {\n      addToExistingContainer(this, container);\n    }\n    // if the container is a string, treat it as a CSS query\n    else if (typeof container == 'string'){\n      const parent = document.querySelectorAll(container);\n      if (parent.length === 0){\n        throw new Error(\"Element \", container, \"not found.\")\n      }\n\n      if (parent.length > 1){\n        throw new Error(\"Geocoder can only be added to a single html element\")\n      }\n\n      addToExistingContainer(this, parent[0]);\n    }else{\n      throw new Error(\"Error: addTo must be a mapbox-gl-js map, an html element, or a CSS selector query for a single html element\")\n    }\n  },\n\n  onAdd: function(map) {\n    if (map && typeof map != 'string'){\n      this._map = map;\n    }\n\n    this.setLanguage();\n\n    if (!this.options.localGeocoderOnly){\n      this.geocoderService = mbxGeocoder(\n        MapboxClient({\n          accessToken: this.options.accessToken,\n          origin: this.options.origin\n        })\n      );\n    }\n\n    if (this.options.localGeocoderOnly && !this.options.localGeocoder){\n      throw new Error(\"A localGeocoder function must be specified to use localGeocoderOnly mode\")\n    }\n\n    this.eventManager = new MapboxEventManager(this.options);\n\n    this._onChange = this._onChange.bind(this);\n    this._onKeyDown = this._onKeyDown.bind(this);\n    this._onPaste = this._onPaste.bind(this);\n    this._onBlur = this._onBlur.bind(this);\n    this._showButton = this._showButton.bind(this);\n    this._hideButton = this._hideButton.bind(this);\n    this._onQueryResult = this._onQueryResult.bind(this);\n    this.clear = this.clear.bind(this);\n    this._updateProximity = this._updateProximity.bind(this);\n    this._collapse = this._collapse.bind(this);\n    this._unCollapse = this._unCollapse.bind(this);\n    this._clear = this._clear.bind(this);\n    this._clearOnBlur = this._clearOnBlur.bind(this);\n\n    var el = (this.container = document.createElement('div'));\n    el.className = 'mapboxgl-ctrl-geocoder mapboxgl-ctrl';\n\n    var searchIcon = this.createIcon('search', '<path d=\"M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z\"/>')\n\n    this._inputEl = document.createElement('input');\n    this._inputEl.type = 'text';\n    this._inputEl.className = 'mapboxgl-ctrl-geocoder--input';\n\n    this.setPlaceholder();\n\n    if (this.options.collapsed) {\n      this._collapse();\n      this.container.addEventListener('mouseenter', this._unCollapse);\n      this.container.addEventListener('mouseleave', this._collapse);\n      this._inputEl.addEventListener('focus', this._unCollapse);\n    }\n\n    if (this.options.collapsed || this.options.clearOnBlur) {\n      this._inputEl.addEventListener('blur', this._onBlur);\n    }\n\n    this._inputEl.addEventListener('keydown', debounce(this._onKeyDown, 200));\n    this._inputEl.addEventListener('paste', this._onPaste);\n    this._inputEl.addEventListener('change', this._onChange);\n    this.container.addEventListener('mouseenter', this._showButton);\n    this.container.addEventListener('mouseleave', this._hideButton);\n    this._inputEl.addEventListener('keyup', function(e){\n      this.eventManager.keyevent(e, this);\n    }.bind(this));\n\n    var actions = document.createElement('div');\n    actions.classList.add('mapboxgl-ctrl-geocoder--pin-right');\n\n    this._clearEl = document.createElement('button');\n    this._clearEl.setAttribute('aria-label', 'Clear');\n    this._clearEl.addEventListener('click', this.clear);\n    this._clearEl.className = 'mapboxgl-ctrl-geocoder--button';\n\n    var buttonIcon = this.createIcon('close', '<path d=\"M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z\"/>')\n    this._clearEl.appendChild(buttonIcon);\n\n    this._loadingEl = this.createIcon('loading', '<path fill=\"#333\" d=\"M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z\"/><path opacity=\".1\" d=\"M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z\"/>');\n\n    actions.appendChild(this._clearEl);\n    actions.appendChild(this._loadingEl);\n\n    el.appendChild(searchIcon);\n    el.appendChild(this._inputEl);\n    el.appendChild(actions);\n\n    this._typeahead = new Typeahead(this._inputEl, [], {\n      filter: false,\n      minLength: this.options.minLength,\n      limit: this.options.limit\n    });\n\n    this.setRenderFunction(this.options.render);\n    this._typeahead.getItemValue = this.options.getItemValue;\n\n    this.mapMarker = null;\n    this._handleMarker = this._handleMarker.bind(this);\n    if (this._map){\n      if (this.options.trackProximity ) {\n        this._updateProximity();\n        this._map.on('moveend', this._updateProximity);\n      }\n      this._mapboxgl = this.options.mapboxgl;\n      if (!this._mapboxgl && this.options.marker) {\n        // eslint-disable-next-line no-console\n        console.error(\"No mapboxgl detected in options. Map markers are disabled. Please set options.mapboxgl.\");\n        this.options.marker = false;\n      }\n    }\n    return el;\n  },\n\n  createIcon: function(name, path) {\n    var icon = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    icon.setAttribute('class', 'mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-' + name);\n    icon.setAttribute('viewBox', '0 0 18 18');\n    icon.setAttribute('xml:space','preserve');\n    icon.setAttribute('width', 18);\n    icon.setAttribute('height', 18);\n    // IE does not have innerHTML for SVG nodes\n    if (!('innerHTML' in icon)) {\n      var SVGNodeContainer = document.createElement('div');\n      SVGNodeContainer.innerHTML = '<svg>' + path.valueOf().toString() + '</svg>';\n      var SVGNode = SVGNodeContainer.firstChild,\n        SVGPath = SVGNode.firstChild;\n      icon.appendChild(SVGPath);\n    } else {\n      icon.innerHTML = path;\n    }\n    return icon;\n  },\n\n  onRemove: function() {\n    this.container.parentNode.removeChild(this.container);\n\n    if (this.options.trackProximity && this._map) {\n      this._map.off('moveend', this._updateProximity);\n    }\n\n    this._removeMarker();\n\n    this._map = null;\n\n    return this;\n  },\n\n  _onPaste: function(e){\n    var value = (e.clipboardData || window.clipboardData).getData('text');\n    if (value.length >= this.options.minLength) {\n      this._geocode(value);\n    }\n  },\n\n  _onKeyDown: function(e) {\n    var ESC_KEY_CODE = 27,\n      TAB_KEY_CODE = 9;\n\n    if (e.keyCode === ESC_KEY_CODE && this.options.clearAndBlurOnEsc) {\n      this._clear(e);\n      return this._inputEl.blur();\n    }\n\n    // if target has shadowRoot, then get the actual active element inside the shadowRoot\n    var target = e.target && e.target.shadowRoot\n      ? e.target.shadowRoot.activeElement\n      : e.target;\n    var value = target ? target.value : '';\n\n    if (!value) {\n      this.fresh = true;\n      // the user has removed all the text\n      if (e.keyCode !== TAB_KEY_CODE) this.clear(e);\n      return (this._clearEl.style.display = 'none');\n    }\n\n    // TAB, ESC, LEFT, RIGHT, ENTER, UP, DOWN\n    if ((e.metaKey || [TAB_KEY_CODE, ESC_KEY_CODE, 37, 39, 13, 38, 40].indexOf(e.keyCode) !== -1))\n      return;\n\n    if (target.value.length >= this.options.minLength) {\n      this._geocode(target.value);\n    }\n  },\n\n  _showButton: function() {\n    if (this._typeahead.selected) this._clearEl.style.display = 'block';\n  },\n\n  _hideButton: function() {\n    if (this._typeahead.selected) this._clearEl.style.display = 'none';\n  },\n\n  _onBlur: function(e) {\n    if (this.options.clearOnBlur) {\n      this._clearOnBlur(e);\n    }\n    if (this.options.collapsed) {\n      this._collapse();\n    }\n  },\n  _onChange: function() {\n    var selected = this._typeahead.selected;\n    if (selected  && JSON.stringify(selected) !== this.lastSelected) {\n      this._clearEl.style.display = 'none';\n      if (this.options.flyTo) {\n        var flyOptions;\n        if (selected.properties && exceptions[selected.properties.short_code]) {\n          // Certain geocoder search results return (and therefore zoom to fit)\n          // an unexpectedly large bounding box: for example, both Russia and the\n          // USA span both sides of -180/180, or France includes the island of\n          // Reunion in the Indian Ocean. An incomplete list of these exceptions\n          // at ./exceptions.json provides \"reasonable\" bounding boxes as a\n          // short-term solution; this may be amended as necessary.\n          flyOptions = extend({}, this.options.flyTo);\n          if (this._map){\n            this._map.fitBounds(exceptions[selected.properties.short_code].bbox, flyOptions);\n          }\n        } else if (selected.bbox) {\n          var bbox = selected.bbox;\n          flyOptions = extend({}, this.options.flyTo);\n          if (this._map){\n            this._map.fitBounds([[bbox[0], bbox[1]], [bbox[2], bbox[3]]], flyOptions);\n          }\n        } else {\n          var defaultFlyOptions = {\n            zoom: this.options.zoom\n          }\n          flyOptions = extend({}, defaultFlyOptions, this.options.flyTo);\n          //  ensure that center is not overriden by custom options\n          flyOptions.center = selected.center;\n          if (this._map){\n            this._map.flyTo(flyOptions);\n          }\n        }\n      }\n      if (this.options.marker && this._mapboxgl){\n        this._handleMarker(selected);\n      }\n\n      // After selecting a feature, re-focus the textarea and set\n      // cursor at start.\n      this._inputEl.focus();\n      this._inputEl.scrollLeft = 0;\n      this._inputEl.setSelectionRange(0, 0);\n      this.lastSelected = JSON.stringify(selected);\n      this._eventEmitter.emit('result', { result: selected });\n      this.eventManager.select(selected, this);\n    }\n  },\n\n  _geocode: function(searchInput) {\n    this._loadingEl.style.display = 'block';\n    this._eventEmitter.emit('loading', { query: searchInput });\n    this.inputString = searchInput;\n    // Possible config proprerties to pass to client\n    var keys = [\n      'bbox',\n      'limit',\n      'proximity',\n      'countries',\n      'types',\n      'language',\n      'reverseMode',\n      'mode'\n    ];\n    var self = this;\n    // Create config object\n    var config = keys.reduce(function(config, key) {\n      if (self.options[key]) {\n        // countries, types, and language need to be passed in as arrays to client\n        // https://github.com/mapbox/mapbox-sdk-js/blob/master/services/geocoding.js#L38-L47\n        ['countries', 'types', 'language'].indexOf(key) > -1\n          ? (config[key] = self.options[key].split(/[\\s,]+/))\n          : (config[key] = self.options[key]);\n\n        if (key === 'proximity' && self.options[key] && typeof self.options[key].longitude === 'number' && typeof self.options[key].latitude === 'number') {\n          config[key] = [self.options[key].longitude, self.options[key].latitude]\n        }\n      }\n      return config;\n    }, {});\n\n    var request;\n    if (this.options.localGeocoderOnly){\n      request = Promise.resolve();\n    }\n    // check if searchInput resembles coordinates, and if it does,\n    // make the request a reverseGeocode\n    else if (\n      this.options.reverseGeocode &&\n      /(-?\\d+\\.?\\d*)[, ]+(-?\\d+\\.?\\d*)[ ]*$/.test(searchInput)\n    ) {\n      // parse coordinates\n      var coords = searchInput.split(/[\\s(,)?]+/).map(function(c) {\n        return parseFloat(c, 10);\n      }).reverse();\n\n      // client only accepts one type for reverseGeocode, so\n      // use first config type if one, if not default to poi\n      config.types ? [config.types[0]] : [\"poi\"];\n      config = extend(config, { query: coords, limit: 1 });\n\n      // drop proximity which may have been set by trackProximity since it's not supported by the reverseGeocoder\n      if ('proximity' in config) {\n        delete config.proximity;\n      }\n\n      request = this.geocoderService.reverseGeocode(config).send();\n    } else {\n      config = extend(config, { query: searchInput });\n      request = this.geocoderService.forwardGeocode(config).send();\n    }\n\n    var localGeocoderRes = [];\n    if (this.options.localGeocoder) {\n      localGeocoderRes = this.options.localGeocoder(searchInput);\n      if (!localGeocoderRes) {\n        localGeocoderRes = [];\n      }\n    }\n\n    request.then(\n      function(response) {\n        this._loadingEl.style.display = 'none';\n\n        var res = {};\n\n        if (!response){\n          res = {\n            type: 'FeatureCollection',\n            features: []\n          }\n        }else if (response.statusCode == '200') {\n          res = response.body;\n          res.request = response.request\n          res.headers = response.headers\n        }\n\n        res.config = config;\n        if (this.fresh){\n          this.eventManager.start(this);\n          this.fresh = false;\n        }\n        // supplement Mapbox Geocoding API results with locally populated results\n        res.features = res.features\n          ? localGeocoderRes.concat(res.features)\n          : localGeocoderRes;\n\n        // apply results filter if provided\n        if (this.options.filter && res.features.length) {\n          res.features = res.features.filter(this.options.filter);\n        }\n\n        if (res.features.length) {\n          this._clearEl.style.display = 'block';\n          this._eventEmitter.emit('results', res);\n          this._typeahead.update(res.features);\n        } else {\n          this._clearEl.style.display = 'none';\n          this._typeahead.selected = null;\n          this._renderNoResults();\n          this._eventEmitter.emit('results', res);\n        }\n\n      }.bind(this)\n    );\n\n    request.catch(\n      function(err) {\n        this._loadingEl.style.display = 'none';\n\n        // in the event of an error in the Mapbox Geocoding API still display results from the localGeocoder\n        if (localGeocoderRes.length && this.options.localGeocoder) {\n          this._clearEl.style.display = 'block';\n          this._typeahead.update(localGeocoderRes);\n        } else {\n          this._clearEl.style.display = 'none';\n          this._typeahead.selected = null;\n          this._renderError();\n        }\n\n        this._eventEmitter.emit('results', { features: localGeocoderRes });\n        this._eventEmitter.emit('error', { error: err });\n      }.bind(this)\n    );\n\n    return request;\n  },\n\n  /**\n   * Shared logic for clearing input\n   * @param {Event} [ev] the event that triggered the clear, if available\n   * @private\n   *\n   */\n  _clear: function(ev) {\n    if (ev) ev.preventDefault();\n    this._inputEl.value = '';\n    this._typeahead.selected = null;\n    this._typeahead.clear();\n    this._onChange();\n    this._clearEl.style.display = 'none';\n    this._removeMarker();\n    this.lastSelected = null;\n    this._eventEmitter.emit('clear');\n    this.fresh = true;\n  },\n\n  /**\n   * Clear and then focus the input.\n   * @param {Event} [ev] the event that triggered the clear, if available\n   *\n   */\n  clear: function(ev) {\n    this._clear(ev);\n    this._inputEl.focus();\n  },\n\n\n  /**\n   * Clear the input, without refocusing it. Used to implement clearOnBlur\n   * constructor option.\n   * @param {Event} [ev] the blur event\n   * @private\n   */\n  _clearOnBlur: function(ev) {\n    var ctx = this;\n\n    /*\n     * If relatedTarget is not found, assume user targeted the suggestions list.\n     * In that case, do not clear on blur. There are other edge cases where\n     * ev.relatedTarget could be null. Clicking on list always results in null\n     * relatedtarget because of upstream behavior in `suggestions`.\n     *\n     * The ideal solution would be to check if ev.relatedTarget is a child of\n     * the list. See issue #258 for details on why we can't do that yet.\n     */\n    if (ev.relatedTarget) {\n      ctx._clear(ev);\n    }\n  },\n\n  _onQueryResult: function(response) {\n    var results = response.body;\n    if (!results.features.length) return;\n    var result = results.features[0];\n    this._typeahead.selected = result;\n    this._inputEl.value = result.place_name;\n    this._onChange();\n  },\n\n  _updateProximity: function() {\n    // proximity is designed for local scale, if the user is looking at the whole world,\n    // it doesn't make sense to factor in the arbitrary centre of the map\n    if (!this._map){\n      return;\n    }\n    if (this._map.getZoom() > 9) {\n      var center = this._map.getCenter().wrap();\n      this.setProximity({ longitude: center.lng, latitude: center.lat });\n    } else {\n      this.setProximity(null);\n    }\n  },\n\n  _collapse: function() {\n    // do not collapse if input is in focus\n    if (!this._inputEl.value && this._inputEl !== document.activeElement) this.container.classList.add('mapboxgl-ctrl-geocoder--collapsed');\n  },\n\n  _unCollapse: function() {\n    this.container.classList.remove('mapboxgl-ctrl-geocoder--collapsed');\n  },\n\n  /**\n   * Set & query the input\n   * @param {string} searchInput location name or other search input\n   * @returns {MapboxGeocoder} this\n   */\n  query: function(searchInput) {\n    this._geocode(searchInput).then(this._onQueryResult);\n    return this;\n  },\n\n  _renderError: function(){\n    var errorMessage = \"<div class='mapbox-gl-geocoder--error'>There was an error reaching the server</div>\"\n    this._renderMessage(errorMessage);\n  },\n\n  _renderNoResults: function(){\n    var errorMessage = \"<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results'>No results found</div>\";\n    this._renderMessage(errorMessage);\n  },\n\n  _renderMessage: function(msg){\n    this._typeahead.update([]);\n    this._typeahead.selected = null;\n    this._typeahead.clear();\n    this._typeahead.renderError(msg);\n  },\n\n  /**\n   * Get the text to use as the search bar placeholder\n   *\n   * If placeholder is provided in options, then use options.placeholder\n   * Otherwise, if language is provided in options, then use the localized string of the first language if available\n   * Otherwise use the default\n   *\n   * @returns {String} the value to use as the search bar placeholder\n   * @private\n   */\n  _getPlaceholderText: function(){\n    if (this.options.placeholder) return this.options.placeholder;\n    if (this.options.language){\n      var firstLanguage = this.options.language.split(\",\")[0];\n      var language = subtag.language(firstLanguage);\n      var localizedValue = localization.placeholder[language];\n      if (localizedValue)  return localizedValue;\n    }\n    return 'Search';\n  },\n\n  /**\n   * Set input\n   * @param {string} searchInput location name or other search input\n   * @returns {MapboxGeocoder} this\n   */\n  setInput: function(searchInput) {\n    // Set input value to passed value and clear everything else.\n    this._inputEl.value = searchInput;\n    this._typeahead.selected = null;\n    this._typeahead.clear();\n    if (searchInput.length >= this.options.minLength) {\n      this._geocode(searchInput);\n    }\n    return this;\n  },\n\n  /**\n   * Set proximity\n   * @param {Object} proximity The new `options.proximity` value. This is a geographical point given as an object with `latitude` and `longitude` properties.\n   * @returns {MapboxGeocoder} this\n   */\n  setProximity: function(proximity) {\n    this.options.proximity = proximity;\n    return this;\n  },\n\n  /**\n   * Get proximity\n   * @returns {Object} The geocoder proximity\n   */\n  getProximity: function() {\n    return this.options.proximity;\n  },\n\n  /**\n   * Set the render function used in the results dropdown\n   * @param {Function} fn The function to use as a render function. This function accepts a single [Carmen GeoJSON](https://github.com/mapbox/carmen/blob/master/carmen-geojson.md) object as input and returns a string.\n   * @returns {MapboxGeocoder} this\n   */\n  setRenderFunction: function(fn){\n    if (fn && typeof(fn) == \"function\"){\n      this._typeahead.render = fn;\n    }\n    return this;\n  },\n\n  /**\n   * Get the function used to render the results dropdown\n   *\n   * @returns {Function} the render function\n   */\n  getRenderFunction: function(){\n    return this._typeahead.render;\n  },\n\n  /**\n   * Get the language to use in UI elements and when making search requests\n   *\n   * Look first at the explicitly set options otherwise use the browser's language settings\n   * @param {String} language Specify the language to use for response text and query result weighting. Options are IETF language tags comprised of a mandatory ISO 639-1 language code and optionally one or more IETF subtags for country or script. More than one value can also be specified, separated by commas.\n   * @returns {MapboxGeocoder} this\n   */\n  setLanguage: function(language){\n    var browserLocale = navigator.language || navigator.userLanguage || navigator.browserLanguage;\n    this.options.language = language || this.options.language || browserLocale;\n    return this;\n  },\n\n  /**\n   * Get the language to use in UI elements and when making search requests\n   * @returns {String} The language(s) used by the plugin, if any\n   */\n  getLanguage: function(){\n    return this.options.language;\n  },\n\n  /**\n   * Get the zoom level the map will move to when there is no bounding box on the selected result\n   * @returns {Number} the map zoom\n   */\n  getZoom: function(){\n    return this.options.zoom;\n  },\n\n  /**\n   * Set the zoom level\n   * @param {Number} zoom The zoom level that the map should animate to when a `bbox` isn't found in the response. If a `bbox` is found the map will fit to the `bbox`.\n   * @returns {MapboxGeocoder} this\n   */\n  setZoom: function(zoom){\n    this.options.zoom = zoom;\n    return this;\n  },\n\n  /**\n   * Get the parameters used to fly to the selected response, if any\n   * @returns {Boolean|Object} The `flyTo` option\n   */\n  getFlyTo: function(){\n    return this.options.flyTo;\n  },\n\n  /**\n   * Set the flyTo options\n   * @param {Boolean|Object} flyTo If false, animating the map to a selected result is disabled. If true, animating the map will use the default animation parameters. If an object, it will be passed as `options` to the map [`flyTo`](https://docs.mapbox.com/mapbox-gl-js/api/#map#flyto) or [`fitBounds`](https://docs.mapbox.com/mapbox-gl-js/api/#map#fitbounds) method providing control over the animation of the transition.\n   */\n  setFlyTo: function(flyTo){\n    this.options.flyTo = flyTo;\n    return this;\n  },\n\n  /**\n   * Get the value of the placeholder string\n   * @returns {String} The input element's placeholder value\n   */\n  getPlaceholder: function(){\n    return this.options.placeholder;\n  },\n\n  /**\n   * Set the value of the input element's placeholder\n   * @param {String} placeholder the text to use as the input element's placeholder\n   * @returns {MapboxGeocoder} this\n   */\n  setPlaceholder: function(placeholder){\n    this.placeholder = (placeholder) ? placeholder : this._getPlaceholderText();\n    this._inputEl.placeholder = this.placeholder;\n    this._inputEl.setAttribute('aria-label', this.placeholder);\n    return this\n  },\n\n  /**\n   * Get the bounding box used by the plugin\n   * @returns {Array<Number>} the bounding box, if any\n   */\n  getBbox: function(){\n    return this.options.bbox;\n  },\n\n  /**\n   * Set the bounding box to limit search results to\n   * @param {Array<Number>} bbox a bounding box given as an array in the format [minX, minY, maxX, maxY].\n   * @returns {MapboxGeocoder} this\n   */\n  setBbox: function(bbox){\n    this.options.bbox = bbox;\n    return this;\n  },\n\n  /**\n   * Get a list of the countries to limit search results to\n   * @returns {String} a comma separated list of countries to limit to, if any\n   */\n  getCountries: function(){\n    return this.options.countries;\n  },\n\n  /**\n   * Set the countries to limit search results to\n   * @param {String} countries a comma separated list of countries to limit to\n   * @returns {MapboxGeocoder} this\n   */\n  setCountries: function(countries){\n    this.options.countries = countries;\n    return this;\n  },\n\n  /**\n   * Get a list of the types to limit search results to\n   * @returns {String} a comma separated list of types to limit to\n   */\n  getTypes: function(){\n    return this.options.types;\n  },\n\n  /**\n   * Set the types to limit search results to\n   * @param {String} countries a comma separated list of types to limit to\n   * @returns {MapboxGeocoder} this\n   */\n  setTypes: function(types){\n    this.options.types = types;\n    return this;\n  },\n\n  /**\n   * Get the minimum number of characters typed to trigger results used in the plugin\n   * @returns {Number} The minimum length in characters before a search is triggered\n   */\n  getMinLength: function(){\n    return this.options.minLength;\n  },\n\n  /**\n   * Set the minimum number of characters typed to trigger results used by the plugin\n   * @param {Number} minLength the minimum length in characters\n   * @returns {MapboxGeocoder} this\n   */\n  setMinLength: function(minLength){\n    this.options.minLength = minLength;\n    if (this._typeahead)  this._typeahead.minLength = minLength;\n    return this;\n  },\n\n  /**\n   * Get the limit value for the number of results to display used by the plugin\n   * @returns {Number} The limit value for the number of results to display used by the plugin\n   */\n  getLimit: function(){\n    return this.options.limit;\n  },\n\n  /**\n   * Set the limit value for the number of results to display used by the plugin\n   * @param {Number} limit the number of search results to return\n   * @returns {MapboxGeocoder}\n   */\n  setLimit: function(limit){\n    this.options.limit = limit;\n    if (this._typeahead) this._typeahead.options.limit = limit;\n    return this;\n  },\n\n  /**\n   * Get the filter function used by the plugin\n   * @returns {Function} the filter function\n   */\n  getFilter: function(){\n    return this.options.filter;\n  },\n\n  /**\n   * Set the filter function used by the plugin.\n   * @param {Function} filter A function which accepts a Feature in the [Carmen GeoJSON](https://github.com/mapbox/carmen/blob/master/carmen-geojson.md) format to filter out results from the Geocoding API response before they are included in the suggestions list. Return `true` to keep the item, `false` otherwise.\n   * @returns {MapboxGeocoder} this\n   */\n  setFilter: function(filter){\n    this.options.filter = filter;\n    return this;\n  },\n\n  /**\n   * Set the geocoding endpoint used by the plugin.\n   * @param {Function} origin A function which accepts an HTTPS URL to specify the endpoint to query results from.\n   * @returns {MapboxGeocoder} this\n   */\n  setOrigin: function(origin){\n    this.options.origin = origin;\n    this.geocoderService = mbxGeocoder(\n      MapboxClient({\n        accessToken: this.options.accessToken,\n        origin: this.options.origin\n      })\n    );\n    return this;\n  },\n\n  /**\n   * Get the geocoding endpoint the plugin is currently set to\n   * @returns {Function} the endpoint URL\n   */\n  getOrigin: function(){\n    return this.options.origin;\n  },\n\n  /**\n   * Handle the placement of a result marking the selected result\n   * @private\n   * @param {Object} selected the selected geojson feature\n   * @returns {MapboxGeocoder} this\n   */\n  _handleMarker: function(selected){\n    // clean up any old marker that might be present\n    if (!this._map){\n      return;\n    }\n    this._removeMarker();\n    var defaultMarkerOptions = {\n      color: '#4668F2'\n    }\n    var markerOptions = extend({}, defaultMarkerOptions, this.options.marker)\n    this.mapMarker = new this._mapboxgl.Marker(markerOptions);\n    if (selected.center) {\n      this.mapMarker\n        .setLngLat(selected.center)\n        .addTo(this._map);\n    } else if (selected.geometry && selected.geometry.type && selected.geometry.type === 'Point' && selected.geometry.coordinates) {\n      this.mapMarker\n        .setLngLat(selected.geometry.coordinates)\n        .addTo(this._map);\n    }\n    return this;\n  },\n\n  /**\n   * Handle the removal of a result marker\n   * @private\n   */\n  _removeMarker: function(){\n    if (this.mapMarker){\n      this.mapMarker.remove();\n      this.mapMarker = null;\n    }\n  },\n\n  /**\n   * Subscribe to events that happen within the plugin.\n   * @param {String} type name of event. Available events and the data passed into their respective event objects are:\n   *\n   * - __clear__ `Emitted when the input is cleared`\n   * - __loading__ `{ query } Emitted when the geocoder is looking up a query`\n   * - __results__ `{ results } Fired when the geocoder returns a response`\n   * - __result__ `{ result } Fired when input is set`\n   * - __error__ `{ error } Error as string`\n   * @param {Function} fn function that's called when the event is emitted.\n   * @returns {MapboxGeocoder} this;\n   */\n  on: function(type, fn) {\n    this._eventEmitter.on(type, fn);\n    return this;\n  },\n\n  /**\n   * Remove an event\n   * @returns {MapboxGeocoder} this\n   * @param {String} type Event name.\n   * @param {Function} fn Function that should unsubscribe to the event emitted.\n   */\n  off: function(type, fn) {\n    this._eventEmitter.removeListener(type, fn);\n    this.eventManager.remove();\n    return this;\n  }\n};\n\nmodule.exports = MapboxGeocoder;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-gl-geocoder/lib/index.js","'use strict';\n\n/**\n * Localized values for the placeholder string\n * \n * @private\n */\nvar placeholder = {\n  // list drawn from https://docs.mapbox.com/api/search/#language-coverage\n  'de': 'Suche', // german\n  'it': 'Ricerca', //italian\n  'en': 'Search', // english\n  'nl': 'Zoeken', //dutch\n  'fr': 'Chercher',  //french\n  'ca': 'Cerca', //catalan\n  'he': '', //hebrew\n  'ja': '',  //japanese\n  'lv': 'Meklt', //latvian\n  'pt': 'Procurar', //portuguese \n  'sr': '', //serbian\n  'zh': '', //chinese-simplified\n  'cs': 'Vyhledvn', //czech\n  'hu': 'Keress', //hungarian\n  'ka': '', // georgian\n  'nb': 'Ske', //norwegian\n  'sk': 'Vyhadvanie', //slovak\n  'th': '', //thai\n  'fi': 'Hae',//finnish\n  'is': 'Leita',//icelandic\n  'ko': '',//korean\n  'pl':  'Szukaj', //polish\n  'sl': 'Iskanje', //slovenian\n  'fa': '' //persian(aka farsi)\n}\n\nmodule.exports = {placeholder: placeholder};\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-gl-geocoder/lib/localization.js","'use strict';\n\nvar client = require('./lib/client');\n\nmodule.exports = client;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/index.js","'use strict';\n\nvar MapiResponse = require('../classes/mapi-response');\nvar MapiError = require('../classes/mapi-error');\nvar constants = require('../constants');\nvar parseHeaders = require('../helpers/parse-headers');\n\n// Keys are request IDs, values are XHRs.\nvar requestsUnderway = {};\n\nfunction browserAbort(request) {\n  var xhr = requestsUnderway[request.id];\n  if (!xhr) return;\n  xhr.abort();\n  delete requestsUnderway[request.id];\n}\n\nfunction createResponse(request, xhr) {\n  return new MapiResponse(request, {\n    body: xhr.response,\n    headers: parseHeaders(xhr.getAllResponseHeaders()),\n    statusCode: xhr.status\n  });\n}\n\nfunction normalizeBrowserProgressEvent(event) {\n  var total = event.total;\n  var transferred = event.loaded;\n  var percent = (100 * transferred) / total;\n  return {\n    total: total,\n    transferred: transferred,\n    percent: percent\n  };\n}\n\nfunction sendRequestXhr(request, xhr) {\n  return new Promise(function(resolve, reject) {\n    xhr.onprogress = function(event) {\n      request.emitter.emit(\n        constants.EVENT_PROGRESS_DOWNLOAD,\n        normalizeBrowserProgressEvent(event)\n      );\n    };\n\n    var file = request.file;\n    if (file) {\n      xhr.upload.onprogress = function(event) {\n        request.emitter.emit(\n          constants.EVENT_PROGRESS_UPLOAD,\n          normalizeBrowserProgressEvent(event)\n        );\n      };\n    }\n\n    xhr.onerror = function(error) {\n      reject(error);\n    };\n\n    xhr.onabort = function() {\n      var mapiError = new MapiError({\n        request: request,\n        type: constants.ERROR_REQUEST_ABORTED\n      });\n      reject(mapiError);\n    };\n\n    xhr.onload = function() {\n      delete requestsUnderway[request.id];\n      if (xhr.status < 200 || xhr.status >= 400) {\n        var mapiError = new MapiError({\n          request: request,\n          body: xhr.response,\n          statusCode: xhr.status\n        });\n        reject(mapiError);\n        return;\n      }\n      resolve(xhr);\n    };\n\n    var body = request.body;\n\n    // matching service needs to send a www-form-urlencoded request\n    if (typeof body === 'string') {\n      xhr.send(body);\n    } else if (body) {\n      xhr.send(JSON.stringify(body));\n    } else if (file) {\n      xhr.send(file);\n    } else {\n      xhr.send();\n    }\n\n    requestsUnderway[request.id] = xhr;\n  }).then(function(xhr) {\n    return createResponse(request, xhr);\n  });\n}\n\n// The accessToken argument gives this function flexibility\n// for Mapbox's internal client.\nfunction createRequestXhr(request, accessToken) {\n  var url = request.url(accessToken);\n  var xhr = new window.XMLHttpRequest();\n  xhr.open(request.method, url);\n  Object.keys(request.headers).forEach(function(key) {\n    xhr.setRequestHeader(key, request.headers[key]);\n  });\n  return xhr;\n}\n\nfunction browserSend(request) {\n  return Promise.resolve().then(function() {\n    var xhr = createRequestXhr(request, request.client.accessToken);\n    return sendRequestXhr(request, xhr);\n  });\n}\n\nmodule.exports = {\n  browserAbort: browserAbort,\n  sendRequestXhr: sendRequestXhr,\n  browserSend: browserSend,\n  createRequestXhr: createRequestXhr\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/lib/browser/browser-layer.js","'use strict';\n\nvar constants = require('../constants');\n\n/**\n * A Mapbox API error.\n *\n * If there's an error during the API transaction,\n * the Promise returned by `MapiRequest`'s [`send`](#send)\n * method should reject with a `MapiError`.\n *\n * @class MapiError\n * @hideconstructor\n * @property {MapiRequest} request - The errored request.\n * @property {string} type - The type of error. Usually this is `'HttpError'`.\n *   If the request was aborted, so the error was\n *   not sent from the server, the type will be\n *   `'RequestAbortedError'`.\n * @property {number} [statusCode] - The numeric status code of\n *   the HTTP response.\n * @property {Object | string} [body] - If the server sent a response body,\n *   this property exposes that response, parsed as JSON if possible.\n * @property {string} [message] - Whatever message could be derived from the\n *   call site and HTTP response.\n *\n * @param {MapiRequest} options.request\n * @param {number} [options.statusCode]\n * @param {string} [options.body]\n * @param {string} [options.message]\n * @param {string} [options.type]\n */\nfunction MapiError(options) {\n  var errorType = options.type || constants.ERROR_HTTP;\n\n  var body;\n  if (options.body) {\n    try {\n      body = JSON.parse(options.body);\n    } catch (e) {\n      body = options.body;\n    }\n  } else {\n    body = null;\n  }\n\n  var message = options.message || null;\n  if (!message) {\n    if (typeof body === 'string') {\n      message = body;\n    } else if (body && typeof body.message === 'string') {\n      message = body.message;\n    } else if (errorType === constants.ERROR_REQUEST_ABORTED) {\n      message = 'Request aborted';\n    }\n  }\n\n  this.message = message;\n  this.type = errorType;\n  this.statusCode = options.statusCode || null;\n  this.request = options.request;\n  this.body = body;\n}\n\nmodule.exports = MapiError;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/lib/classes/mapi-error.js","'use strict';\n\nvar parseToken = require('@mapbox/parse-mapbox-token');\nvar xtend = require('xtend');\nvar EventEmitter = require('eventemitter3');\nvar urlUtils = require('../helpers/url-utils');\nvar constants = require('../constants');\n\nvar requestId = 1;\n\n/**\n * A Mapbox API request.\n *\n * Note that creating a `MapiRequest` does *not* send the request automatically.\n * Use the request's `send` method to send it off and get a `Promise`.\n *\n * The `emitter` property is an `EventEmitter` that emits the following events:\n *\n * - `'response'` - Listeners will be called with a `MapiResponse`.\n * - `'error'` - Listeners will be called with a `MapiError`.\n * - `'downloadProgress'` - Listeners will be called with `ProgressEvents`.\n * - `'uploadProgress'` - Listeners will be called with `ProgressEvents`.\n *   Upload events are only available when the request includes a file.\n *\n * @class MapiRequest\n * @property {EventEmitter} emitter - An event emitter. See above.\n * @property {MapiClient} client - This request's `MapiClient`.\n * @property {MapiResponse|null} response - If this request has been sent and received\n *   a response, the response is available on this property.\n * @property {MapiError|Error|null} error - If this request has been sent and\n *   received an error in response, the error is available on this property.\n * @property {boolean} aborted - If the request has been aborted\n *   (via [`abort`](#abort)), this property will be `true`.\n * @property {boolean} sent - If the request has been sent, this property will\n *   be `true`. You cannot send the same request twice, so if you need to create\n *   a new request that is the equivalent of an existing one, use\n *   [`clone`](#clone).\n * @property {string} path - The request's path, including colon-prefixed route\n *   parameters.\n * @property {string} origin - The request's origin.\n * @property {string} method - The request's HTTP method.\n * @property {Object} query - A query object, which will be transformed into\n *   a URL query string.\n * @property {Object} params - A route parameters object, whose values will\n *   be interpolated the path.\n * @property {Object} headers - The request's headers.\n * @property {Object|string|null} body - Data to send with the request.\n *   If the request has a body, it will also be sent with the header\n *   `'Content-Type: application/json'`.\n * @property {Blob|ArrayBuffer|string|ReadStream} file - A file to\n *   send with the request. The browser client accepts Blobs and ArrayBuffers;\n *   the Node client accepts strings (filepaths) and ReadStreams.\n * @property {string} encoding - The encoding of the response.\n * @property {string} sendFileAs - The method to send the `file`. Options are\n *   `data` (x-www-form-urlencoded) or `form` (multipart/form-data).\n */\n\n/**\n * @ignore\n * @param {MapiClient} client\n * @param {Object} options\n * @param {string} options.method\n * @param {string} options.path\n * @param {Object} [options.query={}]\n * @param {Object} [options.params={}]\n * @param {string} [options.origin]\n * @param {Object} [options.headers]\n * @param {Object} [options.body=null]\n * @param {Blob|ArrayBuffer|string|ReadStream} [options.file=null]\n * @param {string} [options.encoding=utf8]\n */\nfunction MapiRequest(client, options) {\n  if (!client) {\n    throw new Error('MapiRequest requires a client');\n  }\n  if (!options || !options.path || !options.method) {\n    throw new Error(\n      'MapiRequest requires an options object with path and method properties'\n    );\n  }\n\n  var defaultHeaders = {};\n  if (options.body) {\n    defaultHeaders['content-type'] = 'application/json';\n  }\n\n  var headersWithDefaults = xtend(defaultHeaders, options.headers);\n\n  // Disallows duplicate header names of mixed case,\n  // e.g. Content-Type and content-type.\n  var headers = Object.keys(headersWithDefaults).reduce(function(memo, name) {\n    memo[name.toLowerCase()] = headersWithDefaults[name];\n    return memo;\n  }, {});\n\n  this.id = requestId++;\n  this._options = options;\n\n  this.emitter = new EventEmitter();\n  this.client = client;\n  this.response = null;\n  this.error = null;\n  this.sent = false;\n  this.aborted = false;\n  this.path = options.path;\n  this.method = options.method;\n  this.origin = options.origin || client.origin;\n  this.query = options.query || {};\n  this.params = options.params || {};\n  this.body = options.body || null;\n  this.file = options.file || null;\n  this.encoding = options.encoding || 'utf8';\n  this.sendFileAs = options.sendFileAs || null;\n  this.headers = headers;\n}\n\n/**\n * Get the URL of the request.\n *\n * @param {string} [accessToken] - By default, the access token of the request's\n *   client is used.\n * @return {string}\n */\nMapiRequest.prototype.url = function url(accessToken) {\n  var url = urlUtils.prependOrigin(this.path, this.origin);\n  url = urlUtils.appendQueryObject(url, this.query);\n  var routeParams = this.params;\n  var actualAccessToken =\n    accessToken == null ? this.client.accessToken : accessToken;\n  if (actualAccessToken) {\n    url = urlUtils.appendQueryParam(url, 'access_token', actualAccessToken);\n    var accessTokenOwnerId = parseToken(actualAccessToken).user;\n    routeParams = xtend({ ownerId: accessTokenOwnerId }, routeParams);\n  }\n  url = urlUtils.interpolateRouteParams(url, routeParams);\n  return url;\n};\n\n/**\n * Send the request. Returns a Promise that resolves with a `MapiResponse`.\n * You probably want to use `response.body`.\n *\n * `send` only retrieves the first page of paginated results. You can get\n * the next page by using the `MapiResponse`'s [`nextPage`](#nextpage)\n * function, or iterate through all pages using [`eachPage`](#eachpage)\n * instead of `send`.\n *\n * @returns {Promise<MapiResponse>}\n */\nMapiRequest.prototype.send = function send() {\n  var self = this;\n\n  if (self.sent) {\n    throw new Error(\n      'This request has already been sent. Check the response and error properties. Create a new request with clone().'\n    );\n  }\n  self.sent = true;\n\n  return self.client.sendRequest(self).then(\n    function(response) {\n      self.response = response;\n      self.emitter.emit(constants.EVENT_RESPONSE, response);\n      return response;\n    },\n    function(error) {\n      self.error = error;\n      self.emitter.emit(constants.EVENT_ERROR, error);\n      throw error;\n    }\n  );\n};\n\n/**\n * Abort the request.\n *\n * Any pending `Promise` returned by [`send`](#send) will be rejected with\n * an error with `type: 'RequestAbortedError'`. If you've created a request\n * that might be aborted, you need to catch and handle such errors.\n *\n * This method will also abort any requests created while fetching subsequent\n * pages via [`eachPage`](#eachpage).\n *\n * If the request has not been sent or has already been aborted, nothing\n * will happen.\n */\nMapiRequest.prototype.abort = function abort() {\n  if (this._nextPageRequest) {\n    this._nextPageRequest.abort();\n    delete this._nextPageRequest;\n  }\n\n  if (this.response || this.error || this.aborted) return;\n\n  this.aborted = true;\n  this.client.abortRequest(this);\n};\n\n/**\n * Invoke a callback for each page of a paginated API response.\n *\n * The callback should have the following signature:\n *\n * ```js\n * (\n *   error: MapiError,\n *   response: MapiResponse,\n *   next: () => void\n * ) => void\n * ```\n *\n * **The next page will not be fetched until you've invoked the\n * `next` callback**, indicating that you're ready for it.\n *\n * @param {Function} callback\n */\nMapiRequest.prototype.eachPage = function eachPage(callback) {\n  var self = this;\n\n  function handleResponse(response) {\n    function getNextPage() {\n      delete self._nextPageRequest;\n      var nextPageRequest = response.nextPage();\n      if (nextPageRequest) {\n        self._nextPageRequest = nextPageRequest;\n        getPage(nextPageRequest);\n      }\n    }\n    callback(null, response, getNextPage);\n  }\n\n  function handleError(error) {\n    callback(error, null, function() {});\n  }\n\n  function getPage(request) {\n    request.send().then(handleResponse, handleError);\n  }\n  getPage(this);\n};\n\n/**\n * Clone this request.\n *\n * Each request can only be sent *once*. So if you'd like to send the\n * same request again, clone it and send away.\n *\n * @returns {MapiRequest} - A new `MapiRequest` configured just like this one.\n */\nMapiRequest.prototype.clone = function clone() {\n  return this._extend();\n};\n\n/**\n * @ignore\n */\nMapiRequest.prototype._extend = function _extend(options) {\n  var extendedOptions = xtend(this._options, options);\n  return new MapiRequest(this.client, extendedOptions);\n};\n\nmodule.exports = MapiRequest;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/lib/classes/mapi-request.js","'use strict';\n\nvar parseLinkHeader = require('../helpers/parse-link-header');\n\n/**\n * A Mapbox API response.\n *\n * @class MapiResponse\n * @property {Object} body - The response body, parsed as JSON.\n * @property {string} rawBody - The raw response body.\n * @property {number} statusCode - The response's status code.\n * @property {Object} headers - The parsed response headers.\n * @property {Object} links - The parsed response links.\n * @property {MapiRequest} request - The response's originating `MapiRequest`.\n */\n\n/**\n * @ignore\n * @param {MapiRequest} request\n * @param {Object} responseData\n * @param {Object} responseData.headers\n * @param {string} responseData.body\n * @param {number} responseData.statusCode\n */\nfunction MapiResponse(request, responseData) {\n  this.request = request;\n  this.headers = responseData.headers;\n  this.rawBody = responseData.body;\n  this.statusCode = responseData.statusCode;\n  try {\n    this.body = JSON.parse(responseData.body || '{}');\n  } catch (parseError) {\n    this.body = responseData.body;\n  }\n  this.links = parseLinkHeader(this.headers.link);\n}\n\n/**\n * Check if there is a next page that you can fetch.\n *\n * @returns {boolean}\n */\nMapiResponse.prototype.hasNextPage = function hasNextPage() {\n  return !!this.links.next;\n};\n\n/**\n * Create a request for the next page, if there is one.\n * If there is no next page, returns `null`.\n *\n * @returns {MapiRequest | null}\n */\nMapiResponse.prototype.nextPage = function nextPage() {\n  if (!this.hasNextPage()) return null;\n  return this.request._extend({\n    path: this.links.next.url\n  });\n};\n\nmodule.exports = MapiResponse;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/lib/classes/mapi-response.js","'use strict';\n\nfunction parseSingleHeader(raw) {\n  var boundary = raw.indexOf(':');\n  var name = raw\n    .substring(0, boundary)\n    .trim()\n    .toLowerCase();\n  var value = raw.substring(boundary + 1).trim();\n  return {\n    name: name,\n    value: value\n  };\n}\n\n/**\n * Parse raw headers into an object with lowercase properties.\n * Does not fully parse headings into more complete data structure,\n * as larger libraries might do. Also does not deal with duplicate\n * headers because Node doesn't seem to deal with those well, so\n * we shouldn't let the browser either, for consistency.\n *\n * @param {string} raw\n * @returns {Object}\n */\nfunction parseHeaders(raw) {\n  var headers = {};\n  if (!raw) {\n    return headers;\n  }\n\n  raw\n    .trim()\n    .split(/[\\r|\\n]+/)\n    .forEach(function(rawHeader) {\n      var parsed = parseSingleHeader(rawHeader);\n      headers[parsed.name] = parsed.value;\n    });\n\n  return headers;\n}\n\nmodule.exports = parseHeaders;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/lib/helpers/parse-headers.js","'use strict';\n\n// Like https://github.com/thlorenz/lib/parse-link-header but without any\n// additional dependencies.\n\nfunction parseParam(param) {\n  var parts = param.match(/\\s*(.+)\\s*=\\s*\"?([^\"]+)\"?/);\n  if (!parts) return null;\n\n  return {\n    key: parts[1],\n    value: parts[2]\n  };\n}\n\nfunction parseLink(link) {\n  var parts = link.match(/<?([^>]*)>(.*)/);\n  if (!parts) return null;\n\n  var linkUrl = parts[1];\n  var linkParams = parts[2].split(';');\n  var rel = null;\n  var parsedLinkParams = linkParams.reduce(function(result, param) {\n    var parsed = parseParam(param);\n    if (!parsed) return result;\n    if (parsed.key === 'rel') {\n      if (!rel) {\n        rel = parsed.value;\n      }\n      return result;\n    }\n    result[parsed.key] = parsed.value;\n    return result;\n  }, {});\n  if (!rel) return null;\n\n  return {\n    url: linkUrl,\n    rel: rel,\n    params: parsedLinkParams\n  };\n}\n\n/**\n * Parse a Link header.\n *\n * @param {string} linkHeader\n * @returns {{\n *   [string]: {\n *     url: string,\n *     params: { [string]: string }\n *   }\n * }}\n */\nfunction parseLinkHeader(linkHeader) {\n  if (!linkHeader) return {};\n\n  return linkHeader.split(/,\\s*</).reduce(function(result, link) {\n    var parsed = parseLink(link);\n    if (!parsed) return result;\n    // rel value can be multiple whitespace-separated rels.\n    var splitRel = parsed.rel.split(/\\s+/);\n    splitRel.forEach(function(rel) {\n      if (!result[rel]) {\n        result[rel] = {\n          url: parsed.url,\n          params: parsed.params\n        };\n      }\n    });\n    return result;\n  }, {});\n}\n\nmodule.exports = parseLinkHeader;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/lib/helpers/parse-link-header.js","'use strict';\n\n// Encode each item of an array individually. The comma\n// delimiters should not themselves be encoded.\nfunction encodeArray(arrayValue) {\n  return arrayValue.map(encodeURIComponent).join(',');\n}\n\nfunction encodeValue(value) {\n  if (Array.isArray(value)) {\n    return encodeArray(value);\n  }\n  return encodeURIComponent(String(value));\n}\n\n/**\n * Append a query parameter to a URL.\n *\n * @param {string} url\n * @param {string} key\n * @param {string|number|boolean|Array<*>>} [value] - Provide an array\n *   if the value is a list and commas between values need to be\n *   preserved, unencoded.\n * @returns {string} - Modified URL.\n */\nfunction appendQueryParam(url, key, value) {\n  if (value === false || value === null) {\n    return url;\n  }\n  var punctuation = /\\?/.test(url) ? '&' : '?';\n  var query = encodeURIComponent(key);\n  if (value !== undefined && value !== '' && value !== true) {\n    query += '=' + encodeValue(value);\n  }\n  return '' + url + punctuation + query;\n}\n\n/**\n * Derive a query string from an object and append it\n * to a URL.\n *\n * @param {string} url\n * @param {Object} [queryObject] - Values should be primitives.\n * @returns {string} - Modified URL.\n */\nfunction appendQueryObject(url, queryObject) {\n  if (!queryObject) {\n    return url;\n  }\n\n  var result = url;\n  Object.keys(queryObject).forEach(function(key) {\n    var value = queryObject[key];\n    if (value === undefined) {\n      return;\n    }\n    if (Array.isArray(value)) {\n      value = value\n        .filter(function(v) {\n          return v !== null && v !== undefined;\n        })\n        .join(',');\n    }\n    result = appendQueryParam(result, key, value);\n  });\n  return result;\n}\n\n/**\n * Prepend an origin to a URL. If the URL already has an\n * origin, do nothing.\n *\n * @param {string} url\n * @param {string} origin\n * @returns {string} - Modified URL.\n */\nfunction prependOrigin(url, origin) {\n  if (!origin) {\n    return url;\n  }\n\n  if (url.slice(0, 4) === 'http') {\n    return url;\n  }\n\n  var delimiter = url[0] === '/' ? '' : '/';\n  return '' + origin.replace(/\\/$/, '') + delimiter + url;\n}\n\n/**\n * Interpolate values into a route with express-style,\n * colon-prefixed route parameters.\n *\n * @param {string} route\n * @param {Object} [params] - Values should be primitives\n *   or arrays of primitives. Provide an array if the value\n *   is a list and commas between values need to be\n *   preserved, unencoded.\n * @returns {string} - Modified URL.\n */\nfunction interpolateRouteParams(route, params) {\n  if (!params) {\n    return route;\n  }\n  return route.replace(/\\/:([a-zA-Z0-9]+)/g, function(_, paramId) {\n    var value = params[paramId];\n    if (value === undefined) {\n      throw new Error('Unspecified route parameter ' + paramId);\n    }\n    var preppedValue = encodeValue(value);\n    return '/' + preppedValue;\n  });\n}\n\nmodule.exports = {\n  appendQueryObject: appendQueryObject,\n  appendQueryParam: appendQueryParam,\n  prependOrigin: prependOrigin,\n  interpolateRouteParams: interpolateRouteParams\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/lib/helpers/url-utils.js","'use strict';\n\nvar xtend = require('xtend');\nvar v = require('./service-helpers/validator');\nvar pick = require('./service-helpers/pick');\nvar stringifyBooleans = require('./service-helpers/stringify-booleans');\nvar createServiceFactory = require('./service-helpers/create-service-factory');\n\n/**\n * Geocoding API service.\n *\n * Learn more about this service and its responses in\n * [the HTTP service documentation](https://docs.mapbox.com/api/search/#geocoding).\n */\nvar Geocoding = {};\n\nvar featureTypes = [\n  'country',\n  'region',\n  'postcode',\n  'district',\n  'place',\n  'locality',\n  'neighborhood',\n  'address',\n  'poi',\n  'poi.landmark'\n];\n\n/**\n * Search for a place.\n *\n * See the [public documentation](https://docs.mapbox.com/api/search/#forward-geocoding).\n *\n * @param {Object} config\n * @param {string} config.query - A place name.\n * @param {'mapbox.places'|'mapbox.places-permanent'} [config.mode=\"mapbox.places\"] - Either `mapbox.places` for ephemeral geocoding, or `mapbox.places-permanent` for storing results and batch geocoding.\n * @param {Array<string>} [config.countries] - Limits results to the specified countries.\n *   Each item in the array should be an [ISO 3166 alpha 2 country code](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).\n * @param {Coordinates} [config.proximity] - Bias local results based on a provided location.\n * @param {Array<'country'|'region'|'postcode'|'district'|'place'|'locality'|'neighborhood'|'address'|'poi'|'poi.landmark'>} [config.types] - Filter results by feature types.\n * @param {boolean} [config.autocomplete=true] - Return autocomplete results or not.\n * @param {BoundingBox} [config.bbox] - Limit results to a bounding box.\n * @param {number} [config.limit=5] - Limit the number of results returned.\n * @param {Array<string>} [config.language] - Specify the language to use for response text and, for forward geocoding, query result weighting.\n *  Options are [IETF language tags](https://en.wikipedia.org/wiki/IETF_language_tag) comprised of a mandatory\n *  [ISO 639-1 language code](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes) and optionally one or more IETF subtags for country or script.\n * @param {boolean} [config.routing=false] - Specify whether to request additional metadata about the recommended navigation destination. Only applicable for address features.\n * @return {MapiRequest}\n *\n * @example\n * geocodingClient.forwardGeocode({\n *   query: 'Paris, France',\n *   limit: 2\n * })\n *   .send()\n *   .then(response => {\n *     const match = response.body;\n *   });\n *\n * @example\n * // geocoding with proximity\n * geocodingClient.forwardGeocode({\n *   query: 'Paris, France',\n *   proximity: [-95.4431142, 33.6875431]\n * })\n *   .send()\n *   .then(response => {\n *     const match = response.body;\n *   });\n *\n * // geocoding with countries\n * geocodingClient.forwardGeocode({\n *   query: 'Paris, France',\n *   countries: ['fr']\n * })\n *   .send()\n *   .then(response => {\n *     const match = response.body;\n *   });\n *\n * // geocoding with bounding box\n * geocodingClient.forwardGeocode({\n *   query: 'Paris, France',\n *   bbox: [2.14, 48.72, 2.55, 48.96]\n * })\n *   .send()\n *   .then(response => {\n *     const match = response.body;\n *   });\n */\nGeocoding.forwardGeocode = function(config) {\n  v.assertShape({\n    query: v.required(v.string),\n    mode: v.oneOf('mapbox.places', 'mapbox.places-permanent'),\n    countries: v.arrayOf(v.string),\n    proximity: v.coordinates,\n    types: v.arrayOf(v.oneOf(featureTypes)),\n    autocomplete: v.boolean,\n    bbox: v.arrayOf(v.number),\n    limit: v.number,\n    language: v.arrayOf(v.string),\n    routing: v.boolean\n  })(config);\n\n  config.mode = config.mode || 'mapbox.places';\n\n  var query = stringifyBooleans(\n    xtend(\n      { country: config.countries },\n      pick(config, [\n        'proximity',\n        'types',\n        'autocomplete',\n        'bbox',\n        'limit',\n        'language',\n        'routing'\n      ])\n    )\n  );\n\n  return this.client.createRequest({\n    method: 'GET',\n    path: '/geocoding/v5/:mode/:query.json',\n    params: pick(config, ['mode', 'query']),\n    query: query\n  });\n};\n\n/**\n * Search for places near coordinates.\n *\n * See the [public documentation](https://docs.mapbox.com/api/search/#reverse-geocoding).\n *\n * @param {Object} config\n * @param {Coordinates} config.query - Coordinates at which features will be searched.\n * @param {'mapbox.places'|'mapbox.places-permanent'} [config.mode=\"mapbox.places\"] - Either `mapbox.places` for ephemeral geocoding, or `mapbox.places-permanent` for storing results and batch geocoding.\n * @param {Array<string>} [config.countries] - Limits results to the specified countries.\n *   Each item in the array should be an [ISO 3166 alpha 2 country code](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).\n * @param {Array<'country'|'region'|'postcode'|'district'|'place'|'locality'|'neighborhood'|'address'|'poi'|'poi.landmark'>} [config.types] - Filter results by feature types.\n * @param {BoundingBox} [config.bbox] - Limit results to a bounding box.\n * @param {number} [config.limit=1] - Limit the number of results returned. If using this option, you must provide a single item for `types`.\n * @param {Array<string>} [config.language] - Specify the language to use for response text and, for forward geocoding, query result weighting.\n *  Options are [IETF language tags](https://en.wikipedia.org/wiki/IETF_language_tag) comprised of a mandatory\n *  [ISO 639-1 language code](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes) and optionally one or more IETF subtags for country or script.\n * @param {'distance'|'score'} [config.reverseMode='distance'] - Set the factors that are used to sort nearby results.\n * @param {boolean} [config.routing=false] - Specify whether to request additional metadata about the recommended navigation destination. Only applicable for address features.\n * @return {MapiRequest}\n *\n * @example\n * geocodingClient.reverseGeocode({\n *   query: [-95.4431142, 33.6875431]\n * })\n *   .send()\n *   .then(response => {\n *     // GeoJSON document with geocoding matches\n *     const match = response.body;\n *   });\n */\nGeocoding.reverseGeocode = function(config) {\n  v.assertShape({\n    query: v.required(v.coordinates),\n    mode: v.oneOf('mapbox.places', 'mapbox.places-permanent'),\n    countries: v.arrayOf(v.string),\n    types: v.arrayOf(v.oneOf(featureTypes)),\n    bbox: v.arrayOf(v.number),\n    limit: v.number,\n    language: v.arrayOf(v.string),\n    reverseMode: v.oneOf('distance', 'score'),\n    routing: v.boolean\n  })(config);\n\n  config.mode = config.mode || 'mapbox.places';\n\n  var query = stringifyBooleans(\n    xtend(\n      { country: config.countries },\n      pick(config, [\n        'country',\n        'types',\n        'bbox',\n        'limit',\n        'language',\n        'reverseMode',\n        'routing'\n      ])\n    )\n  );\n\n  return this.client.createRequest({\n    method: 'GET',\n    path: '/geocoding/v5/:mode/:query.json',\n    params: pick(config, ['mode', 'query']),\n    query: query\n  });\n};\n\nmodule.exports = createServiceFactory(Geocoding);\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/services/geocoding.js","'use strict';\n\nvar MapiClient = require('../../lib/classes/mapi-client');\n// This will create the environment-appropriate client.\nvar createClient = require('../../lib/client');\n\nfunction createServiceFactory(ServicePrototype) {\n  return function(clientOrConfig) {\n    var client;\n    if (MapiClient.prototype.isPrototypeOf(clientOrConfig)) {\n      client = clientOrConfig;\n    } else {\n      client = createClient(clientOrConfig);\n    }\n    var service = Object.create(ServicePrototype);\n    service.client = client;\n    return service;\n  };\n}\n\nmodule.exports = createServiceFactory;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/services/service-helpers/create-service-factory.js","'use strict';\n\nfunction objectMap(obj, cb) {\n  return Object.keys(obj).reduce(function(result, key) {\n    result[key] = cb(key, obj[key]);\n    return result;\n  }, {});\n}\n\nmodule.exports = objectMap;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/services/service-helpers/object-map.js","'use strict';\n\n/**\n * Create a new object by picking properties off an existing object.\n * The second param can be overloaded as a callback for\n * more fine grained picking of properties.\n * @param {Object} source\n * @param {Array<string>|function(string, Object):boolean} keys\n * @returns {Object}\n */\nfunction pick(source, keys) {\n  var filter = function(key, val) {\n    return keys.indexOf(key) !== -1 && val !== undefined;\n  };\n\n  if (typeof keys === 'function') {\n    filter = keys;\n  }\n\n  return Object.keys(source)\n    .filter(function(key) {\n      return filter(key, source[key]);\n    })\n    .reduce(function(result, key) {\n      result[key] = source[key];\n      return result;\n    }, {});\n}\n\nmodule.exports = pick;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/services/service-helpers/pick.js","'use strict';\n\nvar objectMap = require('./object-map');\n\n/**\n * Stringify all the boolean values in an object, so true becomes \"true\".\n *\n * @param {Object} obj\n * @returns {Object}\n */\nfunction stringifyBoolean(obj) {\n  return objectMap(obj, function(_, value) {\n    return typeof value === 'boolean' ? JSON.stringify(value) : value;\n  });\n}\n\nmodule.exports = stringifyBoolean;\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/services/service-helpers/stringify-booleans.js","'use strict';\n\nvar xtend = require('xtend');\nvar v = require('@mapbox/fusspot');\n\nfunction file(value) {\n  // If we're in a browser so Blob is available, the file must be that.\n  // In Node, however, it could be a filepath or a pipeable (Readable) stream.\n  if (typeof window !== 'undefined') {\n    if (value instanceof global.Blob || value instanceof global.ArrayBuffer) {\n      return;\n    }\n    return 'Blob or ArrayBuffer';\n  }\n  if (typeof value === 'string' || value.pipe !== undefined) {\n    return;\n  }\n  return 'Filename or Readable stream';\n}\n\nfunction assertShape(validatorObj, apiName) {\n  return v.assert(v.strictShape(validatorObj), apiName);\n}\n\nfunction date(value) {\n  var msg = 'date';\n  if (typeof value === 'boolean') {\n    return msg;\n  }\n  try {\n    var date = new Date(value);\n    if (date.getTime && isNaN(date.getTime())) {\n      return msg;\n    }\n  } catch (e) {\n    return msg;\n  }\n}\n\nfunction coordinates(value) {\n  return v.tuple(v.number, v.number)(value);\n}\n\nmodule.exports = xtend(v, {\n  file: file,\n  date: date,\n  coordinates: coordinates,\n  assertShape: assertShape\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/@mapbox/mapbox-sdk/services/service-helpers/validator.js","/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */\n;(function(root) {\n\n\t// Detect free variables `exports`.\n\tvar freeExports = typeof exports == 'object' && exports;\n\n\t// Detect free variable `module`.\n\tvar freeModule = typeof module == 'object' && module &&\n\t\tmodule.exports == freeExports && module;\n\n\t// Detect free variable `global`, from Node.js or Browserified code, and use\n\t// it as `root`.\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\troot = freeGlobal;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar InvalidCharacterError = function(message) {\n\t\tthis.message = message;\n\t};\n\tInvalidCharacterError.prototype = new Error;\n\tInvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\n\tvar error = function(message) {\n\t\t// Note: the error messages used throughout this file match those used by\n\t\t// the native `atob`/`btoa` implementation in Chromium.\n\t\tthrow new InvalidCharacterError(message);\n\t};\n\n\tvar TABLE = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\t// http://whatwg.org/html/common-microsyntaxes.html#space-character\n\tvar REGEX_SPACE_CHARACTERS = /[\\t\\n\\f\\r ]/g;\n\n\t// `decode` is designed to be fully compatible with `atob` as described in the\n\t// HTML Standard. http://whatwg.org/html/webappapis.html#dom-windowbase64-atob\n\t// The optimized base64-decoding algorithm used is based on @atks excellent\n\t// implementation. https://gist.github.com/atk/1020396\n\tvar decode = function(input) {\n\t\tinput = String(input)\n\t\t\t.replace(REGEX_SPACE_CHARACTERS, '');\n\t\tvar length = input.length;\n\t\tif (length % 4 == 0) {\n\t\t\tinput = input.replace(/==?$/, '');\n\t\t\tlength = input.length;\n\t\t}\n\t\tif (\n\t\t\tlength % 4 == 1 ||\n\t\t\t// http://whatwg.org/C#alphanumeric-ascii-characters\n\t\t\t/[^+a-zA-Z0-9/]/.test(input)\n\t\t) {\n\t\t\terror(\n\t\t\t\t'Invalid character: the string to be decoded is not correctly encoded.'\n\t\t\t);\n\t\t}\n\t\tvar bitCounter = 0;\n\t\tvar bitStorage;\n\t\tvar buffer;\n\t\tvar output = '';\n\t\tvar position = -1;\n\t\twhile (++position < length) {\n\t\t\tbuffer = TABLE.indexOf(input.charAt(position));\n\t\t\tbitStorage = bitCounter % 4 ? bitStorage * 64 + buffer : buffer;\n\t\t\t// Unless this is the first of a group of 4 characters\n\t\t\tif (bitCounter++ % 4) {\n\t\t\t\t// convert the first 8 bits to a single ASCII character.\n\t\t\t\toutput += String.fromCharCode(\n\t\t\t\t\t0xFF & bitStorage >> (-2 * bitCounter & 6)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t};\n\n\t// `encode` is designed to be fully compatible with `btoa` as described in the\n\t// HTML Standard: http://whatwg.org/html/webappapis.html#dom-windowbase64-btoa\n\tvar encode = function(input) {\n\t\tinput = String(input);\n\t\tif (/[^\\0-\\xFF]/.test(input)) {\n\t\t\t// Note: no need to special-case astral symbols here, as surrogates are\n\t\t\t// matched, and the input is supposed to only contain ASCII anyway.\n\t\t\terror(\n\t\t\t\t'The string to be encoded contains characters outside of the ' +\n\t\t\t\t'Latin1 range.'\n\t\t\t);\n\t\t}\n\t\tvar padding = input.length % 3;\n\t\tvar output = '';\n\t\tvar position = -1;\n\t\tvar a;\n\t\tvar b;\n\t\tvar c;\n\t\tvar d;\n\t\tvar buffer;\n\t\t// Make sure any padding is handled outside of the loop.\n\t\tvar length = input.length - padding;\n\n\t\twhile (++position < length) {\n\t\t\t// Read three bytes, i.e. 24 bits.\n\t\t\ta = input.charCodeAt(position) << 16;\n\t\t\tb = input.charCodeAt(++position) << 8;\n\t\t\tc = input.charCodeAt(++position);\n\t\t\tbuffer = a + b + c;\n\t\t\t// Turn the 24 bits into four chunks of 6 bits each, and append the\n\t\t\t// matching character for each of them to the output.\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 18 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer >> 12 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer >> 6 & 0x3F) +\n\t\t\t\tTABLE.charAt(buffer & 0x3F)\n\t\t\t);\n\t\t}\n\n\t\tif (padding == 2) {\n\t\t\ta = input.charCodeAt(position) << 8;\n\t\t\tb = input.charCodeAt(++position);\n\t\t\tbuffer = a + b;\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 10) +\n\t\t\t\tTABLE.charAt((buffer >> 4) & 0x3F) +\n\t\t\t\tTABLE.charAt((buffer << 2) & 0x3F) +\n\t\t\t\t'='\n\t\t\t);\n\t\t} else if (padding == 1) {\n\t\t\tbuffer = input.charCodeAt(position);\n\t\t\toutput += (\n\t\t\t\tTABLE.charAt(buffer >> 2) +\n\t\t\t\tTABLE.charAt((buffer << 4) & 0x3F) +\n\t\t\t\t'=='\n\t\t\t);\n\t\t}\n\n\t\treturn output;\n\t};\n\n\tvar base64 = {\n\t\t'encode': encode,\n\t\t'decode': decode,\n\t\t'version': '0.1.0'\n\t};\n\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine(function() {\n\t\t\treturn base64;\n\t\t});\n\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = base64;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (var key in base64) {\n\t\t\t\tbase64.hasOwnProperty(key) && (freeExports[key] = base64[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.base64 = base64;\n\t}\n\n}(this));\n\n\n\n// WEBPACK FOOTER //\n// ./~/base-64/base64.js","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/eventemitter3/index.js","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function eventListener() {\n      if (errorListener !== undefined) {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n    var errorListener;\n\n    // Adding an error listener is not optional because\n    // if an error is thrown on an event emitter we cannot\n    // guarantee that the actual event we are waiting will\n    // be fired. The result could be a silent way to create\n    // memory or file descriptor leaks, which is something\n    // we should avoid.\n    if (name !== 'error') {\n      errorListener = function errorListener(err) {\n        emitter.removeListener(name, eventListener);\n        reject(err);\n      };\n\n      emitter.once('error', errorListener);\n    }\n\n    emitter.once(name, eventListener);\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/events/events.js","/*\n * Fuzzy\n * https://github.com/myork/fuzzy\n *\n * Copyright (c) 2012 Matt York\n * Licensed under the MIT license.\n */\n\n(function() {\n\nvar root = this;\n\nvar fuzzy = {};\n\n// Use in node or in browser\nif (typeof exports !== 'undefined') {\n  module.exports = fuzzy;\n} else {\n  root.fuzzy = fuzzy;\n}\n\n// Return all elements of `array` that have a fuzzy\n// match against `pattern`.\nfuzzy.simpleFilter = function(pattern, array) {\n  return array.filter(function(str) {\n    return fuzzy.test(pattern, str);\n  });\n};\n\n// Does `pattern` fuzzy match `str`?\nfuzzy.test = function(pattern, str) {\n  return fuzzy.match(pattern, str) !== null;\n};\n\n// If `pattern` matches `str`, wrap each matching character\n// in `opts.pre` and `opts.post`. If no match, return null\nfuzzy.match = function(pattern, str, opts) {\n  opts = opts || {};\n  var patternIdx = 0\n    , result = []\n    , len = str.length\n    , totalScore = 0\n    , currScore = 0\n    // prefix\n    , pre = opts.pre || ''\n    // suffix\n    , post = opts.post || ''\n    // String to compare against. This might be a lowercase version of the\n    // raw string\n    , compareString =  opts.caseSensitive && str || str.toLowerCase()\n    , ch;\n\n  pattern = opts.caseSensitive && pattern || pattern.toLowerCase();\n\n  // For each character in the string, either add it to the result\n  // or wrap in template if it's the next string in the pattern\n  for(var idx = 0; idx < len; idx++) {\n    ch = str[idx];\n    if(compareString[idx] === pattern[patternIdx]) {\n      ch = pre + ch + post;\n      patternIdx += 1;\n\n      // consecutive characters should increase the score more than linearly\n      currScore += 1 + currScore;\n    } else {\n      currScore = 0;\n    }\n    totalScore += currScore;\n    result[result.length] = ch;\n  }\n\n  // return rendered string if we have a match for every char\n  if(patternIdx === pattern.length) {\n    // if the string is an exact match with pattern, totalScore should be maxed\n    totalScore = (compareString === pattern) ? Infinity : totalScore;\n    return {rendered: result.join(''), score: totalScore};\n  }\n\n  return null;\n};\n\n// The normal entry point. Filters `arr` for matches against `pattern`.\n// It returns an array with matching values of the type:\n//\n//     [{\n//         string:   '<b>lah' // The rendered string\n//       , index:    2        // The index of the element in `arr`\n//       , original: 'blah'   // The original element in `arr`\n//     }]\n//\n// `opts` is an optional argument bag. Details:\n//\n//    opts = {\n//        // string to put before a matching character\n//        pre:     '<b>'\n//\n//        // string to put after matching character\n//      , post:    '</b>'\n//\n//        // Optional function. Input is an entry in the given arr`,\n//        // output should be the string to test `pattern` against.\n//        // In this example, if `arr = [{crying: 'koala'}]` we would return\n//        // 'koala'.\n//      , extract: function(arg) { return arg.crying; }\n//    }\nfuzzy.filter = function(pattern, arr, opts) {\n  if(!arr || arr.length === 0) {\n    return [];\n  }\n  if (typeof pattern !== 'string') {\n    return arr;\n  }\n  opts = opts || {};\n  return arr\n    .reduce(function(prev, element, idx, arr) {\n      var str = element;\n      if(opts.extract) {\n        str = opts.extract(element);\n      }\n      var rendered = fuzzy.match(pattern, str, opts);\n      if(rendered != null) {\n        prev[prev.length] = {\n            string: rendered.rendered\n          , score: rendered.score\n          , index: idx\n          , original: element\n        };\n      }\n      return prev;\n    }, [])\n\n    // Sort by score. Browsers are inconsistent wrt stable/unstable\n    // sorting, so force stable by using the index in the case of tie.\n    // See http://ofb.net/~sethml/is-sort-stable.html\n    .sort(function(a,b) {\n      var compare = b.score - a.score;\n      if(compare) return compare;\n      return a.index - b.index;\n    });\n};\n\n\n}());\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/fuzzy/lib/fuzzy.js","'use strict';\nvar toString = Object.prototype.toString;\n\nmodule.exports = function (x) {\n\tvar prototype;\n\treturn toString.call(x) === '[object Object]' && (prototype = Object.getPrototypeOf(x), prototype === null || prototype === Object.getPrototypeOf({}));\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/is-plain-obj/index.js","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash.debounce/index.js","// This file replaces `index.js` in bundlers like webpack or Rollup,\n// according to `browser` config in `package.json`.\n\nif (process.env.NODE_ENV !== 'production') {\n  // All bundlers will remove this block in production bundle\n  if (typeof navigator !== 'undefined' && navigator.product === 'ReactNative') {\n    throw new Error(\n      'React Native does not have a built-in secure random generator. ' +\n      'If you dont need unpredictable IDs, you can use `nanoid/non-secure`. ' +\n      'For secure ID install `expo-random` locally and use `nanoid/async`.'\n    )\n  }\n  if (typeof self === 'undefined' || (!self.crypto && !self.msCrypto)) {\n    throw new Error(\n      'Your browser does not have secure random generator. ' +\n      'If you dont need unpredictable IDs, you can use nanoid/non-secure.'\n    )\n  }\n}\n\nvar crypto = self.crypto || self.msCrypto\n\n// This alphabet uses a-z A-Z 0-9 _- symbols.\n// Symbols are generated for smaller size.\n// -_zyxwvutsrqponmlkjihgfedcba9876543210ZYXWVUTSRQPONMLKJIHGFEDCBA\nvar url = '-_'\n// Loop from 36 to 0 (from z to a and 9 to 0 in Base36).\nvar i = 36\nwhile (i--) {\n  // 36 is radix. Number.prototype.toString(36) returns number\n  // in Base36 representation. Base36 is like hex, but it uses 09 and a-z.\n  url += i.toString(36)\n}\n// Loop from 36 to 10 (from Z to A in Base36).\ni = 36\nwhile (i-- - 10) {\n  url += i.toString(36).toUpperCase()\n}\n\nmodule.exports = function (size) {\n  var id = ''\n  var bytes = crypto.getRandomValues(new Uint8Array(size || 21))\n  i = size || 21\n\n  // Compact alternative for `for (var i = 0; i < size; i++)`\n  while (i--) {\n    // We cant use bytes bigger than the alphabet. 63 is 00111111 bitmask.\n    // This mask reduces random byte 0-255 to 0-63 values.\n    // There is no need in `|| ''` and `* 1.6` hacks in here,\n    // because bitmask trim bytes exact to alphabet size.\n    id += url[bytes[i] & 63]\n  }\n  return id\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/nanoid/index.browser.js","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n// WEBPACK FOOTER //\n// ./~/node-libs-browser/~/process/browser.js","!function(root, name, make) {\r\n  if (typeof module != 'undefined' && module.exports) module.exports = make()\r\n  else root[name] = make()\r\n}(this, 'subtag', function() {\r\n\r\n  var empty = ''\r\n  var pattern = /^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/\r\n\r\n  function match(tag) {\r\n    return tag.match(pattern) || []\r\n  }\r\n\r\n  function split(tag) {\r\n    return match(tag).filter(function(v, i) { return v && i })\r\n  }\r\n\r\n  function api(tag) {\r\n    tag = match(tag)\r\n    return {\r\n      language: tag[1] || empty,\r\n      extlang: tag[2] || empty,\r\n      script: tag[3] || empty,\r\n      region: tag[4] || empty\r\n    }\r\n  }\r\n\r\n  function expose(target, key, value) {\r\n    Object.defineProperty(target, key, {\r\n      value: value,\r\n      enumerable: true\r\n    })\r\n  }\r\n\r\n  function part(position, pattern, type) {\r\n    function method(tag) {\r\n      return match(tag)[position] || empty\r\n    }\r\n    expose(method, 'pattern', pattern)\r\n    expose(api, type, method)\r\n  }\r\n\r\n  part(1, /^[a-zA-Z]{2,3}$/, 'language')\r\n  part(2, /^[a-zA-Z]{3}$/, 'extlang')\r\n  part(3, /^[a-zA-Z]{4}$/, 'script')\r\n  part(4, /^[a-zA-Z]{2}$|^[0-9]{3}$/, 'region')\r\n\r\n  expose(api, 'split', split)\r\n\r\n  return api\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/subtag/subtag.js","'use strict';\n\n/**\n * A typeahead component for inputs\n * @class Suggestions\n *\n * @param {HTMLInputElement} el A valid HTML input element\n * @param {Array} data An array of data used for results\n * @param {Object} options\n * @param {Number} [options.limit=5] Max number of results to display in the auto suggest list.\n * @param {Number} [options.minLength=2] Number of characters typed into an input to trigger suggestions.\n * @param {Boolean} [options.hideOnBlur=true] If `true`, hides the suggestions when focus is lost.\n * @return {Suggestions} `this`\n * @example\n * // in the browser\n * var input = document.querySelector('input');\n * var data = [\n *   'Roy Eldridge',\n *   'Roy Hargrove',\n *   'Rex Stewart'\n * ];\n *\n * new Suggestions(input, data);\n *\n * // with options\n * var input = document.querySelector('input');\n * var data = [{\n *   name: 'Roy Eldridge',\n *   year: 1911\n * }, {\n *   name: 'Roy Hargrove',\n *   year: 1969\n * }, {\n *   name: 'Rex Stewart',\n *   year: 1907\n * }];\n *\n * var typeahead = new Suggestions(input, data, {\n *   filter: false, // Disable filtering\n *   minLength: 3, // Number of characters typed into an input to trigger suggestions.\n *   limit: 3, //  Max number of results to display.\n *   hideOnBlur: false // Don't hide results when input loses focus\n * });\n *\n * // As we're passing an object of an arrays as data, override\n * // `getItemValue` by specifying the specific property to search on.\n * typeahead.getItemValue = function(item) { return item.name };\n *\n * input.addEventListener('change', function() {\n *   console.log(typeahead.selected); // Current selected item.\n * });\n *\n * // With browserify\n * var Suggestions = require('suggestions');\n *\n * new Suggestions(input, data);\n */\nvar Suggestions = require('./src/suggestions');\nwindow.Suggestions = module.exports = Suggestions;\n\n\n\n// WEBPACK FOOTER //\n// ./~/suggestions/index.js","'use strict';\n\nvar List = function(component) {\n  this.component = component;\n  this.items = [];\n  this.active = 0;\n  this.wrapper = document.createElement('div');\n  this.wrapper.className = 'suggestions-wrapper';\n  this.element = document.createElement('ul');\n  this.element.className = 'suggestions';\n  this.wrapper.appendChild(this.element);\n\n  // selectingListItem is set to true in the time between the mousedown and mouseup when clicking an item in the list\n  // mousedown on a list item will cause the input to blur which normally hides the list, so this flag is used to keep\n  // the list open until the mouseup\n  this.selectingListItem = false;\n\n  component.el.parentNode.insertBefore(this.wrapper, component.el.nextSibling);\n  return this;\n};\n\nList.prototype.show = function() {\n  this.element.style.display = 'block';\n};\n\nList.prototype.hide = function() {\n  this.element.style.display = 'none';\n};\n\nList.prototype.add = function(item) {\n  this.items.push(item);\n};\n\nList.prototype.clear = function() {\n  this.items = [];\n  this.active = 0;\n};\n\nList.prototype.isEmpty = function() {\n  return !this.items.length;\n};\n\nList.prototype.isVisible = function() {\n  return this.element.style.display === 'block';\n};\n\nList.prototype.draw = function() {\n  this.element.innerHTML = '';\n\n  if (this.items.length === 0) {\n    this.hide();\n    return;\n  }\n\n  for (var i = 0; i < this.items.length; i++) {\n    this.drawItem(this.items[i], this.active === i);\n  }\n\n  this.show();\n};\n\nList.prototype.drawItem = function(item, active) {\n  var li = document.createElement('li'),\n    a = document.createElement('a');\n\n  if (active) li.className += ' active';\n\n  a.innerHTML = item.string;\n\n  li.appendChild(a);\n  this.element.appendChild(li);\n\n  li.addEventListener('mousedown', function() {\n    this.selectingListItem = true;\n  }.bind(this));\n\n  li.addEventListener('mouseup', function() {\n    this.handleMouseUp.call(this, item);\n  }.bind(this));\n};\n\nList.prototype.handleMouseUp = function(item) {\n  this.selectingListItem = false;\n  this.component.value(item.original);\n  this.clear();\n  this.draw();\n};\n\nList.prototype.move = function(index) {\n  this.active = index;\n  this.draw();\n};\n\nList.prototype.previous = function() {\n  this.move(this.active === 0 ? this.items.length - 1 : this.active - 1);\n};\n\nList.prototype.next = function() {\n  this.move(this.active === this.items.length - 1 ? 0 : this.active + 1);\n};\n\nList.prototype.drawError = function(msg){\n  var li = document.createElement('li');\n\n  li.innerHTML = msg;\n\n  this.element.appendChild(li);\n  this.show();\n}\n\nmodule.exports = List;\n\n\n\n// WEBPACK FOOTER //\n// ./~/suggestions/src/list.js","'use strict';\n\nvar extend = require('xtend');\nvar fuzzy = require('fuzzy');\nvar List = require('./list');\n\nvar Suggestions = function(el, data, options) {\n  options = options || {};\n\n  this.options = extend({\n    minLength: 2,\n    limit: 5,\n    filter: true,\n    hideOnBlur: true\n  }, options);\n\n  this.el = el;\n  this.data = data || [];\n  this.list = new List(this);\n\n  this.query = '';\n  this.selected = null;\n\n  this.list.draw();\n\n  this.el.addEventListener('keyup', function(e) {\n    this.handleKeyUp(e.keyCode);\n  }.bind(this), false);\n\n  this.el.addEventListener('keydown', function(e) {\n    this.handleKeyDown(e);\n  }.bind(this));\n\n  this.el.addEventListener('focus', function() {\n    this.handleFocus();\n  }.bind(this));\n\n  this.el.addEventListener('blur', function() {\n    this.handleBlur();\n  }.bind(this));\n\n  this.el.addEventListener('paste', function(e) {\n    this.handlePaste(e);\n  }.bind(this));\n\n  // use user-provided render function if given, otherwise just use the default\n  this.render = (this.options.render) ? this.options.render.bind(this) : this.render.bind(this)\n\n  this.getItemValue = (this.options.getItemValue) ? this.options.getItemValue.bind(this) : this.getItemValue.bind(this);\n\n  return this;\n};\n\nSuggestions.prototype.handleKeyUp = function(keyCode) {\n  // 40 - DOWN\n  // 38 - UP\n  // 27 - ESC\n  // 13 - ENTER\n  // 9 - TAB\n\n  if (keyCode === 40 ||\n      keyCode === 38 ||\n      keyCode === 27 ||\n      keyCode === 13 ||\n      keyCode === 9) return;\n\n  this.handleInputChange(this.el.value);\n};\n\nSuggestions.prototype.handleKeyDown = function(e) {\n  switch (e.keyCode) {\n    case 13: // ENTER\n    case 9: // TAB\n      if (!this.list.isEmpty()) {\n        if (this.list.isVisible()) {\n          e.preventDefault();\n        }\n        this.value(this.list.items[this.list.active].original);\n        this.list.hide();\n      }\n    break;\n    case 27: // ESC\n      if (!this.list.isEmpty()) this.list.hide();\n    break;\n    case 38: // UP\n      this.list.previous();\n    break;\n    case 40: // DOWN\n      this.list.next();\n    break;\n  }\n};\n\nSuggestions.prototype.handleBlur = function() {\n  if (!this.list.selectingListItem && this.options.hideOnBlur) {\n    this.list.hide();\n  }\n};\n\nSuggestions.prototype.handlePaste = function(e) {\n  if (e.clipboardData) {\n    this.handleInputChange(e.clipboardData.getData('Text'));\n  } else {\n    var self = this;\n    setTimeout(function () {\n      self.handleInputChange(e.target.value);\n    }, 100);\n  }\n};\n\nSuggestions.prototype.handleInputChange = function(query) {\n  this.query = this.normalize(query);\n\n  this.list.clear();\n\n  if (this.query.length < this.options.minLength) {\n    this.list.draw();\n    return;\n  }\n\n  this.getCandidates(function(data) {\n    for (var i = 0; i < data.length; i++) {\n      this.list.add(data[i]);\n      if (i === (this.options.limit - 1)) break;\n    }\n    this.list.draw();\n  }.bind(this));\n};\n\nSuggestions.prototype.handleFocus = function() {\n  if (!this.list.isEmpty()) this.list.show();\n  this.list.selectingListItem = false;\n};\n\n/**\n * Update data previously passed\n *\n * @param {Array} revisedData\n */\nSuggestions.prototype.update = function(revisedData) {\n  this.data = revisedData;\n  this.handleKeyUp();\n};\n\n/**\n * Clears data\n */\nSuggestions.prototype.clear = function() {\n  this.data = [];\n  this.list.clear();\n};\n\n/**\n * Normalize the results list and input value for matching\n *\n * @param {String} value\n * @return {String}\n */\nSuggestions.prototype.normalize = function(value) {\n  value = value.toLowerCase();\n  return value;\n};\n\n/**\n * Evaluates whether an array item qualifies as a match with the current query\n *\n * @param {String} candidate a possible item from the array passed\n * @param {String} query the current query\n * @return {Boolean}\n */\nSuggestions.prototype.match = function(candidate, query) {\n  return candidate.indexOf(query) > -1;\n};\n\nSuggestions.prototype.value = function(value) {\n  this.selected = value;\n  this.el.value = this.getItemValue(value);\n\n  if (document.createEvent) {\n    var e = document.createEvent('HTMLEvents');\n    e.initEvent('change', true, false);\n    this.el.dispatchEvent(e);\n  } else {\n    this.el.fireEvent('onchange');\n  }\n};\n\nSuggestions.prototype.getCandidates = function(callback) {\n  var options = {\n    pre: '<strong>',\n    post: '</strong>',\n    extract: function(d) { return this.getItemValue(d); }.bind(this)\n  };\n  var results;\n  if(this.options.filter){\n    results = fuzzy.filter(this.query, this.data, options);\n\n    results = results.map(function(item){\n      return {\n        original: item.original,\n        string: this.render(item.original, item.string)\n      };\n    }.bind(this))\n  }else{\n    results = this.data.map(function(d) {\n      var renderedString = this.render(d);\n      return {\n        original: d,\n        string: renderedString\n      };\n    }.bind(this));\n  }\n  callback(results);\n};\n\n/**\n * For a given item in the data array, return what should be used as the candidate string\n *\n * @param {Object|String} item an item from the data array\n * @return {String} item\n */\nSuggestions.prototype.getItemValue = function(item) {\n  return item;\n};\n\n/**\n * For a given item in the data array, return a string of html that should be rendered in the dropdown\n * @param {Object|String} item an item from the data array\n * @param {String} sourceFormatting a string that has pre-formatted html that should be passed directly through the render function \n * @return {String} html\n */\nSuggestions.prototype.render = function(item, sourceFormatting) {\n  if (sourceFormatting){\n    // use existing formatting on the source string\n    return sourceFormatting;\n  }\n  var boldString = (item.original) ? this.getItemValue(item.original) : this.getItemValue(item);\n  var indexString = this.normalize(boldString);\n  var indexOfQuery = indexString.lastIndexOf(this.query);\n  while (indexOfQuery > -1) {\n    var endIndexOfQuery = indexOfQuery + this.query.length;\n    boldString = boldString.slice(0, indexOfQuery) + '<strong>' + boldString.slice(indexOfQuery, endIndexOfQuery) + '</strong>' + boldString.slice(endIndexOfQuery);\n    indexOfQuery = indexString.slice(0, indexOfQuery).lastIndexOf(this.query);\n  }\n  return boldString\n}\n\n/**\n * Render an custom error message in the suggestions list\n * @param {String} msg An html string to render as an error message\n */\nSuggestions.prototype.renderError = function(msg){\n  this.list.drawError(msg);\n}\n\nmodule.exports = Suggestions;\n\n\n\n// WEBPACK FOOTER //\n// ./~/suggestions/src/suggestions.js","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/module.js","import '../sass/style.scss';\n\nimport {\n\t$,\n\t$$\n} from './modules/bling';\n\nimport autoComplete from './modules/autocomplete';\n\nautoComplete($('#address'), $('#lat'), $('#lng'));\n\n\n// WEBPACK FOOTER //\n// ./public/javascripts/delicious-app.js"],"sourceRoot":""}